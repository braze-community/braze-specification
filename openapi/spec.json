{
  "openapi": "3.0.0",
  "info": {
    "title": "Braze Endpoints",
    "description": "# Braze API overview\n\nBraze provides a high-performance REST API to allow you to track users, send messages, export data, and more. This reference article covers what a REST API is, the terminology, a brief overview of API keys, and API limits.\n\nA REST API is a way to programmatically transfer information over the web using a predefined schema. Braze has created many different endpoints which perform various actions and/or return various data.\n\nBraze manages a number of different instances for our dashboard and REST Endpoints. When your account is provisioned you will log in to one of the following URLs. Use the correct REST endpoint based on which instance you are provisioned to. If you are unsure, open a [support ticket](https://www.braze.com/docs/braze_support/) or use the following table to match the URL of the dashboard you use to the correct REST Endpoint.\n\n> Customers using Braze’s EU database should use the `https://rest.fra-01.braze.eu/` endpoint. This endpoint will be used when configuring the Braze [iOS](https://www.braze.com/docs/developer_guide/platform_integration_guides/ios/initial_sdk_setup/completing_integration/#compile-time-endpoint-configuration-recommended), [Android](https://www.braze.com/docs/developer_guide/platform_integration_guides/android/initial_sdk_setup/android_sdk_integration/#step-2-configure-the-braze-sdk-in-brazexml), and [Web](https://www.braze.com/docs/developer_guide/platform_integration_guides/web/initial_sdk_setup/#step-2-initialize-braze) SDKs. \n  \n\n## Braze Instances\n\n| Instance | Dashboard URL | REST Endpoint |\n| --- | --- | --- |\n| US-01 | `https://dashboard.braze.com` or  <br>`https://dashboard-01.braze.com` | `https://rest.iad-01.braze.com` |\n| US-02 | `https://dashboard-02.braze.com` | `https://rest.iad-02.braze.com` |\n| US-03 | `https://dashboard-03.braze.com` | `https://rest.iad-03.braze.com` |\n| US-04 | `https://dashboard-04.braze.com` | `https://rest.iad-04.braze.com` |\n| US-05 | `https://dashboard-05.braze.com` | `https://rest.iad-05.braze.com` |\n| US-06 | `https://dashboard-06.braze.com` | `https://rest.iad-06.braze.com` |\n| US-07 | `https://dashboard-07.braze.com` | `https://rest.iad-07.braze.com` |\n| US-08 | `https://dashboard-08.braze.com` | `https://rest.iad-08.braze.com` |\n| EU-01 | `https://dashboard-01.braze.eu` | `https://rest.fra-01.braze.eu` |\n| EU-02 | `https://dashboard-02.braze.eu` | `https://rest.fra-02.braze.eu` |\n\n# Using Braze's Postman collection\n\nIf you have a Postman account (you can download macOS, Windows, and Linux versions from the [Postman website](https://www.getpostman.com/) ), you can open our Postman documentation in your own Postman app by clicking the orange **Run in Postman** button. You can then [create an environment](https://www.braze.com/docs/api/postman_collection/#setting-up-your-postman-environment), or use our Braze REST API environment as a template, and edit the available `POST` and `GET` requests to suit your own needs.\n\n## Setting up your Postman environment\n\nThe Braze Postman Collection uses a templating variable, `https://rest.example.braze.com`, to substitute the REST API URL of your Braze instance into the pre-built requests, and the `{{api_key}}` variable for your API Key. Rather than having to manually edit all requests in the Collection, you can set up this variable in your Postman environment. You can either select our templated environment (Braze REST API Environment Template) from the dropdown and replace the variable values with your own, or you can set up your own environment.\n\nTo set up your own environment, perform the following steps:\n\n1. From the **Workspaces** tab, select **Environments**.\n    \n2. Click the **+** plus button to create a new environment.\n    \n3. Give this environment a name (e.g., “Braze API Requests”) and add keys for `instance_url` and `api_key` with values corresponding to your [Braze instance](https://www.braze.com/docs/developer_guide/rest_api/basics/#endpoints) and [Braze REST API Key](https://www.braze.com/docs/api/api_key/).\n    \n4. Click **Save**.\n    \n\n## Using the pre-built requests from the collection\n\nOnce you have configured your environment. You can use any of the pre-built requests in the collection as a template for building new API requests. To start using one of the pre-built requests, click on it within the **Collections** menu of Postman. This will open the request as a new tab in the main window of the Postman app.\n\nIn general, there are two types of requests that Braze’s API endpoints accept - `GET` and `POST`. Depending on which `HTTP` method the endpoint uses, you’ll need to edit the pre-built request differently.\n\n### Edit a POST request\n\nWhen editing a `POST` request, open the request and navigate to the **Body** section in the request editor. For readability, select the **raw** radio button to format the `JSON` request body.\n\n### Edit a GET request\n\nWhen editing a `GET` request, edit the parameters passed in the request URL. To do so, select the **Params** tab and edit the key-value pairs in the fields that appear.\n\n## Send your request\n\nOnce your API request is ready, click **Send**. The request sends and the response data populates in a section underneath the request editor. From here, you can view the raw data returned from Braze’s API, see the HTTP response code, see how long the request took to process, and view header information.\n\nThe following documentation can be found on the Braze documentation site:\n\n- [Object &amp; filter specifications](https://www.braze.com/docs/api/objects_filters/)\n    \n- [API key overview](https://www.braze.com/docs/api/api_key/)\n    \n- [API identifier types](https://www.braze.com/docs/api/identifier_types/)\n    \n- [Errors &amp; responses](https://www.braze.com/docs/api/errors/)\n    \n- [Parameters](https://www.braze.com/docs/api/parameters)\n    \n- [Data retention](https://www.braze.com/docs/api/data_retention/)\n    \n- [API network connectivity issues](https://www.braze.com/docs/api/network_connectivity_issues)\n    \n- [Rate limits](https://www.braze.com/docs/api/api_limits/)\n    \n- [API campaigns](https://www.braze.com/docs/api/api_campaigns/)",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://rest.iad-01.braze.com",
      "description": "REST endpoint for instance US-01"
    },
    {
      "url": "https://rest.iad-01.braze.com",
      "description": "REST endpoint for instance US-01"
    },
    {
      "url": "https://rest.iad-02.braze.com",
      "description": "REST endpoint for instance US-02"
    },
    {
      "url": "https://rest.iad-03.braze.com",
      "description": "REST endpoint for instance US-03"
    },
    {
      "url": "https://rest.iad-04.braze.com",
      "description": "REST endpoint for instance US-04"
    },
    {
      "url": "https://rest.iad-05.braze.com",
      "description": "REST endpoint for instance US-05"
    },
    {
      "url": "https://rest.iad-06.braze.com",
      "description": "REST endpoint for instance US-06"
    },
    {
      "url": "https://rest.iad-08.braze.com",
      "description": "REST endpoint for instance US-08"
    },
    {
      "url": "https://rest.fra-01.braze.eu",
      "description": "REST endpoint for instance EU-01"
    },
    {
      "url": "https://rest.fra-02.braze.eu",
      "description": "REST endpoint for instance EU-02"
    }
  ],
  "components": {
    "responses": {
      "BadRequest": {
        "description": "400 Bad Request",
        "content": {
          "application/json": {
            "schema": { "$ref": "#/components/schemas/Error" }
          }
        }
      },
      "Unauthorized": {
        "description": "401 Unauthorized",
        "content": {
          "application/json": {
            "schema": { "$ref": "#/components/schemas/Error" }
          }
        }
      },
      "Forbidden": {
        "description": "403 Forbidden",
        "content": {
          "application/json": {
            "schema": { "$ref": "#/components/schemas/Error" }
          }
        }
      },
      "NotFound": {
        "description": "404 Not Found",
        "content": {
          "application/json": {
            "schema": { "$ref": "#/components/schemas/Error" }
          }
        }
      },
      "TooManyRequests": {
        "description": "429 Rate Limited",
        "content": {
          "application/json": {
            "schema": { "$ref": "#/components/schemas/Error" }
          }
        }
      },
      "InternalServerError": {
        "description": "500 Internal Server Error",
        "content": {
          "application/json": {
            "schema": { "$ref": "#/components/schemas/Error" }
          }
        }
      }
    },
    "schemas": {
      "Error": {
        "type": "object",
        "properties": {
          "message": { "type": "string" },
          "errors": { "type": "array", "items": { "type": "string" } }
        }
      }
    },
    "securitySchemes": { "BearerAuth": { "type": "http", "scheme": "bearer" } }
  },
  "tags": [
    {
      "name": "Catalogs",
      "description": "Use the Braze Catalogs Endpoints to add, edit, and manage your catalogs and catalog item details. You can use the asynchronous catalog endpoints to make bulk changes to your catalog.\n\nLooking for guidance on creating a catalog? Check out our article for [creating and using catalogs](https://www.braze.com/docs/user_guide/personalization_and_dynamic_content/catalog/)."
    },
    { "name": "Catalogs > Catalog Management" },
    { "name": "Catalogs > Catalog Management > Synchronous" },
    { "name": "Catalogs > Catalog Items" },
    { "name": "Catalogs > Catalog Items > Asynchronous" },
    { "name": "Catalogs > Catalog Items > Synchronous" },
    {
      "name": "Email Lists & Addresses",
      "description": "Using this set of endpoints, you can update a user’s email subscription status, and use the Braze API to set up bi-directional sync between Braze and other email systems or your own database."
    },
    {
      "name": "Export",
      "description": "With this collection of endpoints, you can access and export various levels of details on your KPIs, News Feed cards, app sessions, users, segments, campaigns, and Canvases.  \n  \nMake sure you know your [Braze instance](https://www.braze.com/docs/user_guide/administrative/access_braze/braze_instances/), [API key](https://www.braze.com/docs/api/api_key/), and [API identifier](https://www.braze.com/docs/api/identifier_types/) when building out your parameters and request bodies."
    },
    { "name": "Export > Campaign" },
    { "name": "Export > Canvas" },
    { "name": "Export > Custom Events" },
    { "name": "Export > KPI" },
    { "name": "Export > News Feed" },
    { "name": "Export > Purchases" },
    { "name": "Export > Segment" },
    { "name": "Export > Session Analytics" },
    { "name": "Export > User Data" },
    {
      "name": "Messages",
      "description": "The Braze Messaging API provides you with two distinct options for sending messages to your users. You can provide the message contents and configuration in the API request with the `/messages/send` and `/messages/schedule` endpoints. Alternatively, you can manage the details of your message with an API-triggered campaign in the Braze dashboard and just control when and to whom it is sent with the `/campaigns/trigger/send` and `/campaigns/trigger/schedule` endpoints. The following sections will detail the request specification for both methods.\n\nSimilarly to other campaigns, you can limit the number of times a particular user can receive a messaging API campaign by configuring [re-eligibility settings](https://www.braze.com/docs/user_guide/engagement_tools/campaigns/building_campaigns/delivery_types/api_triggered_delivery/#re-eligibility-with-api-triggered-campaigns) in the Braze dashboard. Braze will not deliver API messages to users who haven’t become re-eligible for the campaign regardless of how many API requests are sent.\n\nThe Send Message endpoints allow you to send immediate messages to designated users. If you are targeting a segment, a record of your request will be stored in the **Message Activity Log**. Use the Schedule Message endpoints to send messages at a designated time, and modify or cancel messages that you have already scheduled."
    },
    { "name": "Messages > Live Activities" },
    { "name": "Messages > Schedule Mesages" },
    { "name": "Messages > Send Messages" },
    {
      "name": "Preference Center",
      "description": "Use the endpoints in this section to build a preference center, which is a Braze-hosted website that can display your user’s subscription state and subscription group statuses. Using HTML and CSS, your developer team can build your preference center so that the styling of the page matches your brand guidelines.\n\nCheck out [ Preference center overview](https://www.braze.com/docs/user_guide/message_building_by_channel/email/preference_center/overview/) for more details on how to create and customize your preference center."
    },
    {
      "name": "SCIM",
      "description": "The [System for Cross-domain Identity Management (SCIM)](http://www.simplecloud.info/)  specification is designed to make managing user identities in cloud-based applications and services easier by providing a defined schema for representing users and groups. Use the Braze SCIM endpoints to manage automated user provisioning."
    },
    {
      "name": "SMS",
      "description": "Use the Braze SMS Endpoints to manage your users’ phone numbers in your subscription groups."
    },
    {
      "name": "Subscription Groups",
      "description": "Use the Subscription Group REST APIs to programmatically manage the subscription groups that you have stored on the Braze dashboard, on the **Subscription Group** page. This applies to both SMS and email subscription groups.  \n  \nLooking for guidance on creating subscription groups? Check out our articles for [SMS subscription groups](https://www.braze.com/docs/user_guide/message_building_by_channel/sms/sms_subscription_group//) and [email subscription groups](https://www.braze.com/docs/user_guide/message_building_by_channel/email/managing_user_subscriptions/)."
    },
    { "name": "Subscription Groups > Email" },
    { "name": "Subscription Groups > SMS and WhatsApp" },
    {
      "name": "Templates",
      "description": "Using the Template endpoints, you can create and manage your templates for email and Content Blocks.  \n  \nLooking for more guidance on creating templates for email and Content Blocks? Check out our dedicated for [Email Templates section](https://www.braze.com/docs/user_guide/message_building_by_channel/email/templates/) and [Content Blocks article](https://www.braze.com/docs/user_guide/engagement_tools/templates_and_media/content_blocks/)."
    },
    {
      "name": "Templates > Content Blocks",
      "description": "Content Blocks are an Email Templating feature that allow you to: \n- Create a consistent look and feel to your Email campaigns using Content Blocks as Headers and Footers.\n- Distribute the same offer codes through different channels.\n- Create pre-defined assets that can be used to build messages with consistent information and assets.\n- Copy entire message bodies to other messages.\n\nYou can edit Content Blocks in the Templates & Media section of the Braze UI, or here, via API."
    },
    { "name": "Templates > Email Templates" },
    {
      "name": "User Data",
      "description": "The Braze User Data endpoints allow you to track information about your users by logging data about them that comes from outside your mobile app. You can also use this API to delete users for testing or other purposes.\n\nAll API endpoints have a data payload limit of 4 MB. Attempts to post more data than 4 MB will fail with an HTTP 413 Request Entity Too Large.\n\nThe examples in this section contain the URL [https://rest.iad-01.braze.com](https://rest.iad-01.braze.com), but you may need to use a different endpoint URL (for example, if you're hosted in the Braze EU data center or have a dedicated Braze installation). Your Braze customer success manager will inform you if you should use a different endpoint URL."
    },
    {
      "name": "User Data > External ID Migration",
      "description": "The External ID Migration API allows you to rename existing external IDs (creating a new primary ID and deprecating the existing ID) and remove deprecated IDs post-migration. <br><br> We've architected this solution to allow multiple External IDs in order to support a migration period whereby older versions of your apps still in the wild that use the previous External ID naming schema don’t break. We highly recommend removing deprecated External IDs once your old naming schema is no longer in use."
    }
  ],
  "paths": {
    "/catalogs/{catalog_name}": {
      "delete": {
        "tags": ["Catalogs > Catalog Management > Synchronous"],
        "summary": "Delete catalog",
        "description": "> Use this endpoint to delete a catalog. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.delete` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 50 requests per minute between all synchronous catalog endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalog_name` | Required | String | Name of the catalog. |\n\n## Response\n\nThere are two status code responses for this endpoint: `200` and `404`.\n\n### Example success response\n\nThe status code `200` could return the following response body.\n\n``` json\n{\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `404` could return the following response body. Refer to [Troubleshooting](https://www.braze.com/docs/api/endpoints/catalogs/catalog_management/synchronous/delete_catalog/#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"catalog-not-found\",\n      \"message\": \"Could not find catalog\",\n      \"parameters\": [\n        \"catalog_name\"\n      ],\n      \"parameter_values\": [\n        \"restaurants\"\n      ]\n    }\n  ],\n  \"message\": \"Invalid Request\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `catalog-not-found` | Check that the catalog name is valid. |",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "catalog_name",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/catalogs": {
      "get": {
        "tags": ["Catalogs > Catalog Management > Synchronous"],
        "summary": "List catalogs",
        "description": "> Use this endpoint to return a list of catalogs in a workspace. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.get` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 50 requests per minute between all synchronous catalog endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path and request parameters\n\nThere are no path or request parameters for this endpoint.\n\n## Example request\n\n```\ncurl --location --request GET 'https://rest.iad-03.braze.com/catalogs' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n ```\n\n## Response\n\n### Example success response\n\nThe status code `200` could return the following response body.\n\n``` json\n{\n  \"catalogs\": [\n    {\n      \"description\": \"My Restaurants\",\n      \"fields\": [\n        {\n          \"name\": \"id\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"Name\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"City\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"Cuisine\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"Rating\",\n          \"type\": \"number\"\n        },\n        {\n          \"name\": \"Loyalty_Program\",\n          \"type\": \"boolean\"\n        },\n        {\n          \"name\": \"Created_At\",\n          \"type\": \"time\"\n        }\n      ],\n      \"name\": \"restaurants\",\n      \"num_items\": 10,\n      \"updated_at\": \"2022-11-02T20:04:06.879+00:00\"\n    },\n    {\n      \"description\": \"My Catalog\",\n      \"fields\": [\n        {\n          \"name\": \"id\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"string_field\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"number_field\",\n          \"type\": \"number\"\n        },\n        {\n          \"name\": \"boolean_field\",\n          \"type\": \"boolean\"\n        },\n        {\n          \"name\": \"time_field\",\n          \"type\": \"time\"\n        },\n      ],\n      \"name\": \"my_catalog\",\n      \"num_items\": 3,\n      \"updated_at\": \"2022-11-02T09:03:19.967+00:00\"\n    },\n  ],\n  \"message\": \"success\"\n}\n\n ```",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "post": {
        "tags": ["Catalogs > Catalog Management > Synchronous"],
        "summary": "Create catalog",
        "description": "> Use this endpoint to create a catalog. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.create` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 50 requests per minute between all synchronous catalog endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalogs` | Required | Array | An array that contains catalog objects. Only one catalog object is allowed for this request. |\n\n### Catalog object parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `name` | Required | String | The name of the catalog that you want to create. |\n| `description` | Required | String | The description of the catalog that you want to create. |\n| `fields` | Required | Array | An array of objects where the object contains keys `name` and `type`. |\n\n## Example request\n\n```\ncurl --location --request POST 'https://rest.iad-03.braze.com/catalogs' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"catalogs\": [\n    {\n      \"name\": \"restaurants\",\n      \"description\": \"My Restaurants\",\n      \"fields\": [\n        {\n          \"name\": \"id\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"Name\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"City\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"Cuisine\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"Rating\",\n          \"type\": \"number\"\n        },\n        {\n          \"name\": \"Loyalty_Program\",\n          \"type\": \"boolean\"\n        },\n        {\n          \"name\": \"Created_At\",\n          \"type\": \"time\"\n        }\n      ]\n    }\n  ]\n}'\n\n ```\n\n## Response\n\nThere are two status code responses for this endpoint: `201` and `400`.\n\n### Example success response\n\nThe status code `201` could return the following response body.\n\n``` json\n{\n  \"catalogs\": [\n    {\n      \"description\": \"My Restaurants\",\n      \"fields\": [\n        {\n          \"name\": \"id\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"Name\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"City\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"Cuisine\",\n          \"type\": \"string\"\n        },\n        {\n          \"name\": \"Rating\",\n          \"type\": \"number\"\n        },\n        {\n          \"name\": \"Loyalty_Program\",\n          \"type\": \"boolean\"\n        },\n        {\n          \"name\": \"Created_At\",\n          \"type\": \"time\"\n        }\n      ],\n      \"name\": \"restaurants\",\n      \"num_items\": 0,\n      \"updated_at\": \"2022-11-02T20:04:06.879+00:00\"\n    }\n  ],\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `400` could return the following response body. Refer to [Troubleshooting](#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"catalog-name-already-exists\",\n      \"message\": \"A catalog with that name already exists\",\n      \"parameters\": [\n        \"name\"\n      ],\n      \"parameter_values\": [\n        \"restaurants\"\n      ]\n    }\n  ],\n  \"message\": \"Invalid Request\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `catalog-array-invalid` | `catalogs` must be an array of objects. |\n| `catalog-name-already-exists` | Catalog with that name already exists. |\n| `catalog-name-too-large` | Character limit for a catalog name is 250. |\n| `description-too-long` | Character limit for description is 250. |\n| `field-names-not-unique` | The same field name is referenced twice. |\n| `field-names-too-large` | Character limit for a field name is 250. |\n| `id-not-first-column` | The `id` must be the first field in the array. Check that the type is a string. |\n| `invalid_catalog_name` | Catalog name can only include letters, numbers, hyphens, and underscores. |\n| `invalid-field-names` | Fields can only include letters, numbers, hyphens, and underscores. |\n| `invalid-field-types` | Make sure the field types are valid. |\n| `invalid-fields` | `fields` is not formatted correctly. |\n| `reached-company-catalogs-limit` | Maximum number of catalogs reached. Contact your Braze account manager for more information. |\n| `too-many-catalog-atoms` | You can only create one catalog per request. |\n| `too-many-fields` | Number of fields limit is 30. |",
        "requestBody": { "content": {} },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/catalogs/{catalog_name}/items": {
      "delete": {
        "tags": ["Catalogs > Catalog Items > Asynchronous"],
        "summary": "Delete multiple catalog items",
        "description": "> Use this endpoint to delete multiple items in your catalog. \n  \n\nEach request can support up to 50 items. This endpoint is asynchronous.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.delete_items` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 16,000 requests per minute between all asynchronous catalog item endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalog_name` | Required | String | Name of the catalog. |\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `items` | Required | Array | An array that contains item objects. The item objects should contain an `id` referencing the items Braze should delete. Up to 50 item objects are allowed per request. |\n\n## Example request\n\n```\ncurl --location --request DELETE 'https://rest.iad-03.braze.com/catalogs/restaurants/items' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"items\": [\n    {\"id\": \"restaurant1\"},\n    {\"id\": \"restaurant2\"},\n    {\"id\": \"restaurant3\"}\n  ]\n}'\n\n ```\n\n## Response\n\nThere are three status code responses for this endpoint: `202`, `400`, and `404`.\n\n### Example success response\n\nThe status code `202` could return the following response body.\n\n``` json\n{\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `400` could return the following response body. Refer to [Troubleshooting](#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"items-missing-ids\",\n      \"message\": \"There are 1 item(s) that do not have ids\",\n      \"parameters\": [],\n      \"parameter_values\": []\n    }\n  ],\n  \"message\": \"Invalid Request\",\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `catalog-not-found` | Check that the catalog name is valid. |\n| `ids-too-large` | Item IDs can't be more than 250 characters. |\n| `ids-not-unique` | Check that the item IDs are unique in the request. |\n| `ids-not-strings` | Item IDs must be of type string. |\n| `items-missing-ids` | Some items don't have item IDs. Check that each item has an item ID. |\n| `invalid-ids` | Item IDs can only include letters, numbers, hyphens, and underscores. |\n| `request-includes-too-many-items` | Your request has too many items. The item limit per request is 50. |",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "catalog_name",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "patch": {
        "tags": ["Catalogs > Catalog Items > Asynchronous"],
        "summary": "Edit multiple catalog items",
        "description": "> Use this endpoint to delete multiple items in your catalog. \n  \n\nEach request can support up to 50 items. This endpoint is asynchronous.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.update_items` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 16,000 requests per minute between all asynchronous catalog item endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalog_name` | Required | String | Name of the catalog. |\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `items` | Required | Array | An array that contains item objects. The item objects should contain fields that exist in the catalog. Up to 50 item objects are allowed per request. |\n\n## Example request\n\n```\ncurl --location --request PATCH 'https://rest.iad-03.braze.com/catalogs/restaurants/items' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"items\": [\n    {\n      \"id\": \"restaurant1\",\n      \"Name\": \"Restaurant\",\n      \"Loyalty_Program\": false,\n      \"Location\": {\n        \"Latitude\": 33.6112,\n        \"Longitude\": -117.8711\n      },\n      \"Top_Dishes\": {\n        \"$add\": [\n          \"Biscuits\",\n          \"Coleslaw\"\n        ],\n        \"$remove\": [\n          \"French Fries\"\n        ]\n      },\n      \"Open_Time\": \"2021-09-03T09:03:19.967+00:00\"\n    },\n    {\n      \"id\": \"restaurant3\",\n      \"City\": \"San Francisco\",\n      \"Rating\": 2,\n      \"Top_Dishes\": [\n        \"Buffalo Wings\",\n        \"Philly Cheesesteak\"\n      ]\n    }\n  ]\n}'\n\n ```\n\n> **Note:** The $`add` and `$remove` operators are only applicable to array type fields, and are only supported by PATCH endpoints. \n  \n\n## Response\n\nThere are three status code responses for this endpoint: `202`, `400`, and `404`.\n\n### Example success response\n\nThe status code `202` could return the following response body.\n\n``` json\n{\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `400` could return the following response body. Refer to [Troubleshooting](#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"invalid-fields\",\n      \"message\": \"Some of the fields given do not exist in the catalog\",\n      \"parameters\": [\n        \"id\"\n      ],\n      \"parameter_values\": [\n        \"restaurant1\"\n      ]\n    }\n  ],\n  \"message\": \"Invalid Request\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `catalog-not-found` | Check that the catalog name is valid. |\n| `ids-too-large` | Item IDs can't be more than 250 characters. |\n| `ids-not-strings` | Item IDs must be of type string. |\n| `ids-not-unique` | Item IDs must be unique in the request. |\n| `invalid-ids` | Item IDs can only include letters, numbers, hyphens, and underscores. |\n| `invalid-fields` | Confirm that all fields you are sending in the API request already exist in the catalog. This is not related to the ID field mentioned in the error. |\n| `invalid-keys-in-value-object` | Item object keys can't include `.` or `$`. |\n| `items-missing-ids` | Some items don't have item IDs. Check that each item has an item ID. |\n| `item-array-invalid` | `items` must be an array of objects. |\n| `items-too-large` | Item values can't exceed 5,000 characters. |\n| `request-includes-too-many-items` | Your request has too many items. The item limit per request is 50. |\n| `too-deep-nesting-in-value-object` | Item objects can't have more than 50 levels of nesting. |\n| `unable-to-coerce-value` | Item types can't be converted. |",
        "requestBody": { "content": {} },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "catalog_name",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "post": {
        "tags": ["Catalogs > Catalog Items > Asynchronous"],
        "summary": "Create multiple catalog items",
        "description": "> Use this endpoint to create multiple items in your catalog. \n  \n\nEach request can support up to 50 items. This endpoint is asynchronous.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.add_items` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 16,000 requests per minute between all asynchronous catalog item endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalog_name` | Required | String | Name of the catalog. |\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `items` | Required | Array | An array that contains item objects. The item objects should contain all of the fields in the catalog. Up to 50 item objects are allowed per request. |\n\n## Example request\n\n```\ncurl --location --request POST 'https://rest.iad-03.braze.com/catalogs/restaurants/items' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"items\": [\n    {\n      \"id\": \"restaurant1\",\n      \"Name\": \"Restaurant1\",\n      \"City\": \"New York\",\n      \"Cuisine\": \"American\",\n      \"Rating\": 5,\n      \"Loyalty_Program\": true,\n      \"Location\": {\n        \"Latitude\": 33.6112,\n        \"Longitude\": -117.8711\n      },\n      \"Top_Dishes\": [\n        \"Hamburger\",\n        \"Deluxe Cheeseburger\"\n      ],\n      \"Created_At\": \"2022-11-01T09:03:19.967+00:00\"\n    },\n    {\n      \"id\": \"restaurant2\",\n      \"Name\": \"Restaurant2\",\n      \"City\": \"New York\",\n      \"Cuisine\": \"American\",\n      \"Rating\": 10,\n      \"Loyalty_Program\": true,\n      \"Location\": {\n        \"Latitude\": 40.7413,\n        \"Longitude\": -73.9764\n      },\n      \"Top_Dishes\": [\n        \"Hot Dog\",\n        \"French Fries\"\n      ],\n      \"Created_At\": \"2022-11-02T09:03:19.967+00:00\"\n    },\n    {\n      \"id\": \"restaurant3\",\n      \"Name\": \"Restaurant3\",\n      \"City\": \"New York\",\n      \"Cuisine\": \"American\",\n      \"Rating\": 3,\n      \"Loyalty_Program\": false,\n      \"Location\": {\n        \"Latitude\": 40.7489,\n        \"Longitude\": -73.9972\n      },\n      \"Top_Dishes\": [\n        \"Buffalo Wings\",\n        \"Philly Cheesesteak\"\n      ],\n      \"Created_At\": \"2022-11-03T09:03:19.967+00:00\"\n    }\n  ]\n}'\n\n ```\n\n## Response\n\nThere are three status code responses for this endpoint: `202`, `400`, and `404`.\n\n### Example success response\n\nThe status code `202` could return the following response body.\n\n``` json\n{\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `400` could return the following response body. Refer to [Troubleshooting](#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"fields-do-not-match\",\n      \"message\": \"Fields do not match with fields on the catalog\",\n      \"parameters\": [\n        \"id\"\n      ],\n      \"parameter_values\": [\n        \"restaurant2\"\n      ]\n    }\n  ],\n  \"message\": \"Invalid Request\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `catalog-not-found` | Check that the catalog name is valid. |\n| `ids-not-strings` | Item IDs must be of type string. |\n| `ids-not-unique` | Item IDs must be unique in the request. |\n| `ids-too-large` | Item IDs can't be more than 250 characters. |\n| `invalid-ids` | Item IDs can only include letters, numbers, hyphens, and underscores. |\n| `invalid-fields` | Confirm that the fields in the request exist in the catalog. |\n| `invalid-keys-in-value-object` | Item object keys can't include `.` or `$`. |\n| `item-array-invalid` | `items` must be an array of objects. |\n| `items-missing-ids` | Some items don't have item IDs. Check that each item has an item ID. |\n| `items-too-large` | Item values can't exceed 5,000 characters. |\n| `request-includes-too-many-items` | Your request has too many items. The item limit per request is 50. |\n| `too-deep-nesting-in-value-object` | Item objects can't have more than 50 levels of nesting. |\n| `unable-to-coerce-value` | Item types can't be converted. |",
        "requestBody": { "content": {} },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "catalog_name",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "put": {
        "tags": ["Catalogs > Catalog Items > Asynchronous"],
        "summary": "Update multiple catalog items",
        "description": "> Use this endpoint to update multiple items in your catalog. \n  \n\nIf a catalog item doesn’t exist, this endpoint will create the item in your catalog. Each request can support up to 50 catalog items. This endpoint is asynchronous.\n\n## Prerequisites\n\nTo use this endpoint, you'll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.replace_item` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 16,000 requests per minute between all asynchronous catalog item endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalog_name` | Required | String | Name of the catalog. |\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `items` | Required | Array | An array that contains item objects. Each object must have an ID. The item objects should contain fields that exist in the catalog. Up to 50 item objects are allowed per request. |\n\n## Example request\n\n``` json\ncurl --location --request PUT 'https://rest.iad-03.braze.com/catalogs/restaurants/items' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"items\": [\n    {\n      \"id\": \"restaurant1\",\n      \"Name\": \"Restaurant\",\n      \"Loyalty_Program\": false,\n      \"Location\": {\n        \"Latitude\": 33.6112,\n        \"Longitude\": -117.8711\n      },\n      \"Top_Dishes\": [\n        \"Hamburger\",\n        \"Deluxe Cheeseburger\"\n      ],\n      \"Open_Time\": \"2021-09-03T09:03:19.967+00:00\"\n    },\n    {\n      \"id\": \"restaurant3\",\n      \"City\": \"San Francisco\",\n      \"Rating\": 2,\n      \"Top_Dishes\": [\n        \"Hot Dog\",\n        \"French Fries\"\n      ]\n    }\n  ]\n}'\n\n ```\n\n## Response\n\nThere are three status code responses for this endpoint: `202`, `400`, and `404`.\n\n### Example success response\n\nThe status code `202` could return the following response body.\n\n``` json\n{\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `400` could return the following response body. Refer to [Troubleshooting](https://www.braze.com/docs/api/endpoints/catalogs/catalog_items/asynchronous/put_update_catalog_items/#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"invalid-fields\",\n      \"message\": \"Some of the fields given do not exist in the catalog\",\n      \"parameters\": [\n        \"id\"\n      ],\n      \"parameter_values\": [\n        \"restaurant1\"\n      ]\n    }\n  ],\n  \"message\": \"Invalid Request\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `catalog_not_found` | Check that the catalog name is valid. |\n| `ids_not_string` | Confirm that each item ID is a string. |\n| `ids_not_unique` | Check that each item ID is unique. |\n| `ids_too_large` | Character limit for each item ID is 250 characters. |\n| `item_array_invalid` | `items` must be an array of objects. |\n| `items_missing_ids` | Some items don't have item IDs. Confirm that each item has an ID. |\n| `items_too_large` | Item values can't exceed 5,000 characters. |\n| `invalid_ids` | Supported characters for item ID names are letters, numbers, hyphens, and underscores. |\n| `invalid_fields` | Confirm that the fields in the request exist in the catalog. |\n| `invalid_keys_in_value_object` | Item object keys can't include `.` or `$`. |\n| `too_deep_nesting_in_value_object` | Item objects can't have more than 50 levels of nesting. |\n| `request_includes_too_many_items` | Your request has too many items. The item limit per request is 50. |\n| `unable_to_coerce_value` | Item types can't be converted. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "items": [
                    {
                      "Name": "Restaurant",
                      "Loyalty_Program": false,
                      "Location": {
                        "Latitude": 33.6112,
                        "Longitude": -117.8711
                      },
                      "Open_Time": "2021-09-03T09:03:19.967+00:00"
                    }
                  ]
                },
                "properties": {
                  "items": { "type": "array", "items": { "type": "object" } }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "catalog_name",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "get": {
        "tags": ["Catalogs > Catalog Items > Synchronous"],
        "summary": "List multiple catalog item details",
        "description": "> Use this endpoint to return multiple catalog items and their content. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.get_items` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 50 requests per minute between all synchronous catalog item endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalog_name` | Required | String | Name of the catalog. |\n\n## Query parameters\n\nNote that each call to this endpoint will return 50 items. For a catalog with more than 50 items, use the `Link` header to retrieve the data on the next page as shown in the following example response.\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `cursor` | Optional | String | Determines the pagination of the catalog items. |\n\n## Request parameters\n\nThere is no request body for this endpoint.\n\n## Example requests\n\n### Without cursor\n\n```\ncurl --location --request GET 'https://rest.iad-03.braze.com/catalogs/restaurants/items' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n ```\n\n### With cursor\n\n```\ncurl --location --request GET 'https://rest.iad-03.braze.com/catalogs/restaurants/items?cursor=c2tpcDow' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n ```\n\n## Response\n\nThere are three status code responses for this endpoint: `200`, `400`, and `404`.\n\n### Example success response\n\nThe status code `200` could return the following response header and body.\n\n>   \n**Note:** The `Link` header won't exist if the catalog has less than or equal to 50 items. For calls without a cursor, `prev` will not show. When looking at the last page of items, `next` will not show.  \n \n  \n\n```\nLink: </catalogs/all_restaurants/items?cursor=c2tpcDow>; rel=\"prev\",</catalogs/all_restaurants/items?cursor=c2tpcDoxMDA=>; rel=\"next\"\n\n ```\n\n``` json\n{\n  \"items\": [\n    {\n      \"id\": \"restaurant1\",\n      \"Name\": \"Restaurant1\",\n      \"City\": \"New York\",\n      \"Cuisine\": \"American\",\n      \"Rating\": 5,\n      \"Loyalty_Program\": true,\n      \"Open_Time\": \"2022-11-02T09:03:19.967Z\"\n    },\n    {\n      \"id\": \"restaurant2\",\n      \"Name\": \"Restaurant2\",\n      \"City\": \"New York\",\n      \"Cuisine\": \"American\",\n      \"Rating\": 10,\n      \"Loyalty_Program\": true,\n      \"Open_Time\": \"2022-11-02T09:03:19.967Z\"\n    },\n    {\n      \"id\": \"restaurant3\",\n      \"Name\": \"Restaurant3\",\n      \"City\": \"New York\",\n      \"Cuisine\": \"American\",\n      \"Rating\": 5,\n      \"Loyalty_Program\": false,\n      \"Open_Time\": \"2022-11-02T09:03:19.967Z\"\n    }\n  ],\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `400` could return the following response body. Refer to [Troubleshooting](#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"invalid-cursor\",\n      \"message\": \"'cursor' is not valid\",\n      \"parameters\": [\n        \"cursor\"\n      ],\n      \"parameter_values\": [\n        \"bad-cursor\"\n      ]\n    }\n  ],\n  \"message\": \"Invalid Request\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `catalog-not-found` | Check that the catalog name is valid. |\n| `invalid-cursor` | Check that your `cursor` is valid. |",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "catalog_name",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/catalogs/{catalog_name}/items/{item_id}": {
      "delete": {
        "tags": ["Catalogs > Catalog Items > Synchronous"],
        "summary": "Delete a catalog item",
        "description": "> Use this endpoint to delete an item in your catalog. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.delete_item` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 50 requests per minute between all synchronous catalog item endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalog_name` | Required | String | Name of the catalog. |\n| `item_id` | Required | String | The ID of the catalog item. |\n\n## Request parameters\n\nThere is no request body for this endpoint.\n\n## Example request\n\n```\ncurl --location --request DELETE 'https://rest.iad-03.braze.com/catalogs/restaurants/items/restaurant1' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n ```\n\n## Response\n\nThere are three status code responses for this endpoint: `202`, `400`, and `404`.\n\n### Example success response\n\nThe status code `202` could return the following response body.\n\n``` json\n{\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `400` could return the following response body. Refer to [Troubleshooting](#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"item-not-found\",\n      \"message\": \"Could not find item\",\n      \"parameters\": [\n        \"item_id\"\n      ],\n      \"parameter_values\": [\n        \"restaurant34\"\n      ]\n    }\n  ],\n  \"message\": \"Invalid Request\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `arbitrary-error` | An arbitrary error occurred. Please try again or contact [Support](https://www.braze.com/docs/support_contact/). |\n| `catalog-not-found` | Check that the catalog name is valid. |\n| `item-not-found` | Check that the item to be deleted exists in your catalog. |",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "catalog_name",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          },
          {
            "name": "item_id",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "get": {
        "tags": ["Catalogs > Catalog Items > Synchronous"],
        "summary": "List catalog item details",
        "description": "> Use this endpoint to return a catalog item and its content. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.get_item` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 50 requests per minute between all synchronous catalog item endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalog_name` | Required | String | Name of the catalog. |\n| `item_id` | Required | String | The ID of the catalog item. |\n\n## Request parameters\n\nThere is no request body for this endpoint.\n\n## Example request\n\n```\ncurl --location --request GET 'https://rest.iad-03.braze.com/catalogs/restaurants/items/restaurant1' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n ```\n\n## Response\n\nThere are two status code responses for this endpoint: `200` and `404`.\n\n### Example success response\n\nThe status code `200` could return the following response body.\n\n``` json\n{\n  \"items\": [\n    {\n      \"id\": \"restaurant3\",\n      \"Name\": \"Restaurant1\",\n      \"City\": \"New York\",\n      \"Cuisine\": \"American\",\n      \"Rating\": 5,\n      \"Loyalty_Program\": true,\n      \"Open_Time\": \"2022-11-01T09:03:19.967Z\"\n    }\n  ],\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `404` could return the following response. Refer to [Troubleshooting](#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"item-not-found\",\n      \"message\": \"Could not find item\",\n      \"parameters\": [\n        \"item_id\"\n      ],\n      \"parameter_values\": [\n        \"restaurant34\"\n      ]\n    }\n  ],\n  \"message\": \"Invalid Request\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps, if applicable.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `catalog-not-found` | Check that the catalog name is valid. |\n| `item-not-found` | Check that the item is in the catalog. |",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "catalog_name",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          },
          {
            "name": "item_id",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "patch": {
        "tags": ["Catalogs > Catalog Items > Synchronous"],
        "summary": "Edit catalog items",
        "description": "> Use this endpoint to edit an item in your catalog. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.update_item` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 50 requests per minute between all synchronous catalog item endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalog_name` | Required | String | Name of the catalog. |\n| `item_id` | Required | String | The ID of the catalog item. |\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `items` | Required | Array | An array that contains item objects. The item objects should contain fields that exist in the catalog except for the `id` field. Only one item object is allowed per request. |\n\n## Example request\n\n```\ncurl --location --request PATCH 'https://rest.iad-03.braze.com/catalogs/restaurants/items/restaurant1' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"items\": [\n    {\n      \"Name\": \"Restaurant\",\n      \"Loyalty_Program\": false,\n      \"Location\": {\n        \"Latitude\": 33.6112,\n        \"Longitude\": -117.8711\n      },\n      \"Top_Dishes\": {\n        \"$add\": [\n          \"Biscuits\",\n          \"Coleslaw\"\n        ],\n        \"$remove\": [\n          \"French Fries\"\n        ]\n      },\n      \"Open_Time\": \"2021-09-03T09:03:19.967+00:00\"\n    }\n  ]\n}'\n\n ```\n\n> **Note:** The $`add` and `$remove` operators are only applicable to array type fields, and are only supported by PATCH endpoints. \n  \n\n## Response\n\nThere are three status code responses for this endpoint: `200`, `400`, and `404`.\n\n### Example success response\n\nThe status code `200` could return the following response body.\n\n``` json\n{\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `400` could return the following response body. Refer to [Troubleshooting](#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"invalid-fields\",\n      \"message\": \"Some of the fields given do not exist in the catalog\",\n      \"parameters\": [\n        \"id\"\n      ],\n      \"parameter_values\": [\n        \"restaurant1\"\n      ]\n    }\n  ],\n  \"message\": \"Invalid Request\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `arbitrary-error` | An arbitrary error occurred. Please try again or contact [Support](https://www.braze.com/docs/support_contact/). |\n| `catalog-not-found` | Check that the catalog name is valid. |\n| `filtered-set-field-too-long` | The field value is being used in a filtered set that exceeds the character limit for an item. |\n| `id-in-body` | An item ID already exists in the catalog. |\n| `ids-too-large` | Character limit for each item ID is 250 characters. |\n| `invalid-ids` | Supported characters for item ID names are letters, numbers, hyphens, and underscores. |\n| `invalid-fields` | Confirm that the fields in the request exist in the catalog. |\n| `invalid-keys-in-value-object` | Item object keys can't include `.` or `$`. |\n| `item-not-found` | Check that the item is in the catalog. |\n| `item-array-invalid` | `items` must be an array of objects. |\n| `items-too-large` | Character limit for each item is 5,000 characters. |\n| `request-includes-too-many-items` | You can only edit one catalog item per request. |\n| `too-deep-nesting-in-value-object` | Item objects can't have more than 50 levels of nesting. |\n| `unable-to-coerce-value` | Item types can't be converted. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "items": [
                    {
                      "Name": "Restaurant",
                      "Loyalty_Program": false,
                      "Open_Time": "2021-09-03T09:03:19.967+00:00"
                    }
                  ]
                },
                "properties": {
                  "items": { "type": "array", "items": { "type": "object" } }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "catalog_name",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          },
          {
            "name": "item_id",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "post": {
        "tags": ["Catalogs > Catalog Items > Synchronous"],
        "summary": "Create catalog item",
        "description": "> Use this endpoint to create an item in your catalog. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.create_item` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 50 requests per minute between all synchronous catalog item endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalog_name` | Required | String | Name of the catalog. |\n| `item_id` | Required | String | The ID of the catalog item. |\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `items` | Required | Array | An array that contains item objects. The item objects should contain all of the fields in the catalog except for the `id` field. Only one item object is allowed per request. |\n\n## Example request\n\n```\ncurl --location --request POST 'https://rest.iad-03.braze.com/catalogs/restaurants/items/restaurant1' \\\ncurl --location --request POST 'https://rest.iad-03.braze.com/catalogs/restaurants/items/restaurant1' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"items\": [\n    {\n      \"Name\": \"Restaurant1\",\n      \"City\": \"New York\",\n      \"Cuisine\": \"American\",\n      \"Rating\": 5,\n      \"Loyalty_Program\": true,\n      \"Location\": {\n        \"Latitude\": 33.6112,\n        \"Longitude\": -117.8711\n      },\n      \"Top_Dishes\": [\n        \"Hamburger\",\n        \"Deluxe Cheeseburger\"\n      ],\n      \"Created_At\": \"2022-11-01T09:03:19.967+00:00\"\n    }\n  ]\n}'\n\n ```\n\n## Response\n\nThere are three status code responses for this endpoint: `201`, `400`, and `404`.\n\n### Example success response\n\nThe status code `201` could return the following response body.\n\n``` json\n{\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `400` could return the following response body. Refer to [Troubleshooting](#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"invalid-fields\",\n      \"message\": \"Some of the fields given do not exist in the catalog\",\n      \"parameters\": [\n        \"id\"\n      ],\n      \"parameter_values\": [\n        \"restaurant1\"\n      ]\n    }\n  ],\n  \"message\": \"Invalid Request\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `already-reached-catalog-item-limit` | Maximum number of catalogs reached. Contact your Braze account manager for more information. |\n| `already-reached-company-item-limit` | Maximum number of catalog items reached. Contact your Braze account manager for more information. |\n| `arbitrary-error` | An arbitrary error occurred. Please try again or contact [Support](https://www.braze.com/docs/support_contact/). |\n| `catalog-not-found` | Check that the catalog name is valid. |\n| `filtered-set-field-too-long` | The field value is being used in a filtered set that exceeds the character limit for an item. |\n| `id-in-body` | Remove any item IDs in the request body. |\n| `ids-too-large` | Character limit for each item ID is 250 characters. |\n| `invalid-ids` | Supported characters for item ID names are letters, numbers, hyphens, and underscores. |\n| `invalid-fields` | Confirm that the fields in the request exist in the catalog. |\n| `invalid-keys-in-value-object` | Item object keys can't include `.` or `$`. |\n| `item-already-exists` | The item already exists in the catalog. |\n| `item-array-invalid` | `items` must be an array of objects. |\n| `items-too-large` | Character limit for each item is 5,000 characters. |\n| `request-includes-too-many-items` | You can only create one catalog item per request. |\n| `too-deep-nesting-in-value-object` | Item objects can't have more than 50 levels of nesting. |\n| `unable-to-coerce-value` | Item types can't be converted. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "items": [
                    {
                      "Name": "Restaurant1",
                      "City": "New York",
                      "Cuisine": "American",
                      "Rating": 5,
                      "Loyalty_Program": true,
                      "Created_At": "2022-11-01T09:03:19.967+00:00"
                    }
                  ]
                },
                "properties": {
                  "items": { "type": "array", "items": { "type": "object" } }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "catalog_name",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          },
          {
            "name": "item_id",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "put": {
        "tags": ["Catalogs > Catalog Items > Synchronous"],
        "summary": "Update catalog item",
        "description": "> Use this endpoint to update an item in your catalog. \n  \n\nIf the `item_id` isn't found, this endpoint will create the item. This endpoint is synchronous.\n\n## Prerequisites\n\nTo use this endpoint, you'll need an [API key](https://braze.com/docs/api/api_key/) with the `catalogs.replace_item` permission.\n\n## Rate limit\n\nThis endpoint has a shared rate limit of 50 requests per minute between all synchronous catalog item endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `catalog_name` | Required | String | Name of the catalog. |\n| `item_id` | Required | String | The ID of the catalog item. |\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `items` | Required | Array | An array that contains item objects. The item objects should contain fields that exist in the catalog except for the `id` field. Only one item object is allowed per request. |\n\n## Example request\n\n```\ncurl --location --request PUT 'https://rest.iad-03.braze.com/catalogs/restaurants/items/restaurant1' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"items\": [\n    {\n      \"Name\": \"Restaurant\",\n      \"Loyalty_Program\": false,\n      \"Location\": {\n        \"Latitude\": 33.6112,\n        \"Longitude\": -117.8711\n      },\n      \"Top_Dishes\": [\n        \"Hamburger\",\n        \"Deluxe Cheeseburger\"\n      ],\n      \"Open_Time\": \"2021-09-03T09:03:19.967+00:00\"\n    }\n  ]\n}'\n\n ```\n\n## Response\n\nThere are three status code responses for this endpoint: `200`, `400`, and `404`.\n\n### Example success response\n\nThe status code `200` could return the following response body.\n\n``` json\n{\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `400` could return the following response body. Refer to [Troubleshooting](#troubleshooting) for more information about errors you may encounter.\n\n``` json\n{\n  \"errors\": [\n    {\n      \"id\": \"invalid-fields\",\n      \"message\": \"Some of the fields given do not exist in the catalog\",\n      \"parameters\": [\n        \"id\"\n      ],\n      \"parameter_values\": [\n        \"restaurant1\"\n      ]\n    }\n  ],\n  \"message\": \"Invalid Request\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `already_reached_catalog_item_limit` | Maximum number of catalogs reached. Contact your Braze account manager for more information. |\n| `already_reached_company_item_limit` | Maximum number of items reached. Contact your Braze account manager for more information. |\n| `arbitrary_error` | An arbitrary error occurred. Please try again or contact [Support](https://www.braze.com/docs/support_contact/). |\n| `catalog_not_found` | Check that the catalog name is valid. |\n| `filtered-set-field-too-long` | The field value is being used in a filtered set that exceeds the character limit for an item. |\n| `id_in_body` | Remove any item IDs in the request body. |\n| `ids_too_large` | Character limit for each item ID is 250 characters. |\n| `invalid_ids` | Supported characters for item ID names are letters, numbers, hyphens, and underscores. |\n| `invalid_fields` | Confirm that the fields in the request exist in the catalog. |\n| `invalid_keys_in_value_object` | Item object keys can't include `.` or `$`. |\n| `item_already_exists` | The item already exists in the catalog. |\n| `item_array_invalid` | `items` must be an array of objects. |\n| `items_too_large` | Item values can't exceed 5,000 characters. |\n| `request_includes_too_many_items` | Your request has too many items. The item limit per request is 50. |\n| `too_deep_nesting_in_value_object` | Item objects can't have more than 50 levels of nesting. |\n| `unable_to_coerce_value` | Item types can't be converted. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "items": [
                    {
                      "Name": "Restaurant",
                      "Loyalty_Program": false,
                      "Location": {
                        "Latitude": 33.6112,
                        "Longitude": -117.8711
                      },
                      "Open_Time": "2021-09-03T09:03:19.967+00:00"
                    }
                  ]
                },
                "properties": {
                  "items": { "type": "array", "items": { "type": "object" } }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "catalog_name",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          },
          {
            "name": "item_id",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/email/hard_bounces": {
      "get": {
        "tags": ["Email Lists & Addresses"],
        "summary": "Query hard bounced emails",
        "description": "> Use this endpoint to pull a list of email addresses that have “hard bounced” your email messages within a certain time frame. \n  \n> **Note:** You must provide an `end_date`, as well as either an `email` or a `start_date`. If you provide all three, `start_date`, `end_date`, and an `email`, we prioritize the emails given and disregard the date range. \n  \n\nIf your date range has more than `limit` number of hard bounces, you will need to make multiple API calls, each time increasing the `offset` until a call returns either fewer than `limit` or zero results.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `email.hard_bounces` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Example request\n\n```\ncurl --location --request GET 'https://rest.iad-01.braze.com/email/hard_bounces?start_date=2019-01-01&end_date=2019-02-01&limit=100&offset=1&email=example@braze.com' \\\n--header 'Authorization: Bearer YOUR-API-KEY-HERE'\n\n ```\n\n## Response\n\nEntries are listed in descending order.\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"emails\": [\n    {\n      \"email\": \"example1@braze.com\",\n      \"hard_bounced_at\": \"2016-08-25 15:24:32 +0000\"\n    },\n    {\n      \"email\": \"example2@braze.com\",\n      \"hard_bounced_at\": \"2016-08-24 17:41:58 +0000\"\n    },\n    {\n      \"email\": \"example3@braze.com\",\n      \"hard_bounced_at\": \"2016-08-24 12:01:13 +0000\"\n    }\n  ],\n  \"message\": \"success\"\n}\n\n ```",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "start_date",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional*) String in YYYY-MM-DD format \n\nStart date of the range to retrieve hard bounces, must be earlier than `end_date`. This is treated as midnight in UTC time by the API.\n\n*You must provide either an `email` or a `start_date`, and an `end_date`.\n",
            "example": "2019-01-01"
          },
          {
            "name": "end_date",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional*) String in YYYY-MM-DD format\n\nString in YYYY-MM-DD format. End date of the range to retrieve hard bounces. This is treated as midnight in UTC time by the API.\n\n*You must provide either an `email` or a `start_date`, and an `end_date`.",
            "example": "2019-02-01"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nOptional field to limit the number of results returned. Defaults to 100, maximum is 500.",
            "example": 100
          },
          {
            "name": "offset",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nOptional beginning point in the list to retrieve from.",
            "example": 1
          },
          {
            "name": "email",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional*) String\n\nIf provided, we will return whether or not the user has hard bounced.\n\n*You must provide either an `email` or a `start_date`, and an `end_date`.",
            "example": "example@braze.com"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/email/unsubscribes": {
      "get": {
        "tags": ["Email Lists & Addresses"],
        "summary": "Query list of unsubscribed email addresses",
        "description": "> Use this endpoint to return emails that have unsubscribed during the time period from `start_date` to `end_date`. \n  \n\nYou can use this endpoint to set up a bi-directional sync between Braze and other email systems or your own database.\n\n> **Note:** You must provide an `end_date`, as well as either an `email` or a `start_date`. \n  \n\nIf your date range has more than `limit` number of unsubscribes, you will need to make multiple API calls, each time increasing the `offset` until a call returns either fewer than `limit` or zero results.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `email.unsubscribe` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Example request\n\n```\ncurl --location --request GET 'https://rest.iad-01.braze.com/email/unsubscribes?start_date=2020-01-01&end_date=2020-02-01&limit=1&offset=1&sort_direction=desc&email=example@braze.com' \\\n--header 'Authorization: Bearer YOUR-API-KEY-HERE'\n\n ```\n\n## Response\n\nEntries are listed in descending order.\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"emails\": [\n    {\n      \"email\": \"example1@braze.com\",\n      \"unsubscribed_at\": \"2016-08-25 15:24:32 +0000\"\n    },\n    {\n      \"email\": \"example2@braze.com\",\n      \"unsubscribed_at\": \"2016-08-24 17:41:58 +0000\"\n    },\n    {\n      \"email\": \"example3@braze.com\",\n      \"unsubscribed_at\": \"2016-08-24 12:01:13 +0000\"\n    }\n  ],\n  \"message\": \"success\"\n}\n\n ```",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "start_date",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional*) String in YYYY-MM-DD format\n\nStart date of the range to retrieve unsubscribes, must be earlier than end_date. This is treated as midnight in UTC time by the API.",
            "example": "2020-01-01"
          },
          {
            "name": "end_date",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional*)  String in YYYY-MM-DD format\n\nEnd date of the range to retrieve unsubscribes. This is treated as midnight in UTC time by the API.",
            "example": "2020-02-01"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nOptional field to limit the number of results returned. Limit must be greater than 1. Defaults to 100, maximum is 500.",
            "example": 1
          },
          {
            "name": "offset",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer \n\nOptional beginning point in the list to retrieve from.",
            "example": 1
          },
          {
            "name": "sort_direction",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nPass in the value `asc` to sort unsubscribes from oldest to newest. Pass in `desc` to sort from newest to oldest. If sort_direction is not included, the default order is newest to oldest.",
            "example": "desc"
          },
          {
            "name": "email",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional*) String\n\nIf provided, we will return whether or not the user has unsubscribed.",
            "example": "example@braze.com"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/email/status": {
      "post": {
        "tags": ["Email Lists & Addresses"],
        "summary": "Change email subscription status",
        "description": "> Use this endpoint to set the email subscription state for your users. Users can be `opted_in`, `unsubscribed`, or `subscribed` (not specifically opted in or out). \n  \n\nYou can set the email subscription state for an email address that is not yet associated with any of your users within Braze. When that email address is subsequently associated with a user, the email subscription state that you uploaded will be automatically set.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `email.status` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `email` | Required | String or array | String email address to modify, or an array of up to 50 email addresses to modify. |\n| `subscription_state` | Required | String | Either “subscribed”, “unsubscribed”, or “opted_in”. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "email": "example@braze.com",
                  "subscription_state": "subscribed"
                },
                "properties": {
                  "email": { "type": "string", "format": "email" },
                  "subscription_state": { "type": "string" }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/email/bounce/remove": {
      "post": {
        "tags": ["Email Lists & Addresses"],
        "summary": "Remove hard bounced emails",
        "description": "> Use this endpoint to remove email addresses from your Braze bounce list and bounce list maintained by your email provider. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `email.bounce.remove` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `email` | Required | String or array | String email address to modify, or an array of up to 50 email addresses to modify. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": { "email": "example@braze.com" },
                "properties": {
                  "email": { "type": "string", "format": "email" }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/email/spam/remove": {
      "post": {
        "tags": ["Email Lists & Addresses"],
        "summary": "Remove email addresses from spam list",
        "description": "> Use this endpoint to remove email addresses from your Braze spam list and spam list maintained by your email provider. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `email.spam.remove` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `email` | Required | String or array | String email address to modify, or an array of up to 50 email addresses to modify. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": { "email": "example@braze.com" },
                "properties": {
                  "email": { "type": "string", "format": "email" }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/email/blocklist": {
      "post": {
        "tags": ["Email Lists & Addresses"],
        "summary": "Blocklist email addresses",
        "description": "> Use this endpoint to unsubscribe a user from email and mark them as hard bounced. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `email.blacklist` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `email` | Required | String or array | String email address to blacklist, or an array of up to 50 email addresses to blocklist. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "email": ["blocklist_email1", "blocklist_email2"]
                },
                "properties": {
                  "email": { "type": "array", "items": { "type": "string" } }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/email/blacklist": {
      "post": {
        "tags": ["Email Lists & Addresses"],
        "summary": "Blacklist email addresses",
        "description": "> Use this endpoint to unsubscribe a user from email and mark them as hard bounced. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `email.blacklist` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `email` | Required | String or array | String email address to blacklist, or an array of up to 50 email addresses to blocklist. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "email": ["blacklist_email1", "blacklist_email2"]
                },
                "properties": {
                  "email": { "type": "array", "items": { "type": "string" } }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/campaigns/data_series": {
      "get": {
        "tags": ["Export > Campaign"],
        "summary": "Export campaign analytics",
        "description": "> Use this endpoint to retrieve a daily series of various stats for a campaign over time. \n  \n\nData returned includes how many messages were sent, opened, clicked, or converted by messaging channel.\n\n> **Note:** If you are using our [older navigation](https://www.braze.com/docs/navigation), `campaign_id` can be found at **Developer Console > API Settings**. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `campaigns.data_series` permission.\n\n## Rate limit\n\nThis endpoint has a rate limit of 50,000 requests per minute, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Responses\n\n### Multichannel response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"data\" : [\n        {\n            \"time\" : (string) date as ISO 8601 date,\n            \"messages\" : {\n                \"ios_push\" : [\n                    {\n                      \"variation_name\": \"iOS_Push\",\n                      \"sent\" : (int),\n                      \"direct_opens\" : (int),\n                      \"total_opens\" : (int),\n                      \"bounces\" : (int),\n                      \"body_clicks\" : (int)\n                      \"revenue\": 0,\n                      \"unique_recipients\": 1,\n                      \"conversions\": 0,\n                      \"conversions_by_send_time\": 0,\n                      \"conversions1\": 0,\n                      \"conversions1_by_send_time\": 0,\n                      \"conversions2\": 0,\n                      \"conversions2_by_send_time\": 0,\n                      \"conversions3\": 0,\n                      \"conversions3_by_send_time\": 0,\n                      \"carousel_slide_[NUM]_[TITLE]_click\": (optional, int),\n                      \"notif_button_[NUM]_[TITLE]_click\": (optional, int)\n                    }\n                ],\n                \"android_push\" : [\n                    {\n                      \"sent\" : (int),\n                      \"direct_opens\" : (int),\n                      \"total_opens\" : (int),\n                      \"bounces\" : (int),\n                      \"body_clicks\" : (int)\n                    }\n                ],\n                \"webhook\": [\n                    {\n                      \"sent\": (int),\n                      \"errors\": (int)\n                    }\n                ],\n                \"email\" : [\n                    {\n                      \"sent\": (int),\n                      \"opens\": (int),\n                      \"unique_opens\": (int),\n                      \"clicks\": (int),\n                      \"unique_clicks\": (int),\n                      \"unsubscribes\": (int),\n                      \"bounces\": (int),\n                      \"delivered\": (int),\n                      \"reported_spam\": (int)\n                    }\n                ],\n                \"sms\" : [\n                  {\n                    \"sent\": (int),\n                    \"delivered\": (int),\n                    \"undelivered\": (int),\n                    \"delivery_failed\": (int)\n                  }\n                ]\n              },\n           \"conversions_by_send_time\": (optional, int),\n           \"conversions1_by_send_time\": (optional, int),\n           \"conversions2_by_send_time\": (optional, int),\n           \"conversions3_by_send_time\": (optional, int),\n           \"conversions\": (int),\n           \"conversions1\": (optional, int),\n           \"conversions2\": (optional, int),\n           \"conversions3\": (optional, int),\n           \"unique_recipients\": (int),\n           \"revenue\": (optional, float)\n        },\n        ...\n    ],\n    ...\n}\n\n ```\n\n### Multivariate response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"data\" : [\n        {\n            \"time\" : (string) date as ISO 8601 date,\n            \"conversions\" : (int),\n            \"revenue\": (float),\n            \"conversions_by_send_time\": (int),\n            \"messages\" : {\n               \"trigger_in_app_message\": [{\n                      \"variation_name\": (optional, string),\n                      \"impressions\": (int),\n                      \"clicks\": (int),\n                      \"first_button_clicks\": (int),\n                      \"second_button_clicks\": (int),\n                      \"revenue\": (optional, float),,\n                      \"unique_recipients\": (int),\n                      \"conversions\": (optional, int),\n                      \"conversions_by_send_time\": (optional, int),\n                      \"conversions1\": (optional, int),\n                      \"conversions1_by_send_time\": (optional, int),\n                      \"conversions2\": (optional, int),\n                      \"conversions2_by_send_time\": (optional, int),\n                      \"conversions3\": (optional, int),\n                      \"conversions3_by_send_time\": (optional, int)\n                  }, {\n                      \"variation_name\": (optional, string),\n                      \"impressions\": (int),\n                      \"clicks\": (int),\n                      \"first_button_clicks\": (int),\n                      \"second_button_clicks\": (int),\n                      \"revenue\": (optional, float),,\n                      \"unique_recipients\": (int),\n                      \"conversions\": (optional, int),\n                      \"conversions_by_send_time\": (optional, int),\n                      \"conversions1\": (optional, int),\n                      \"conversions1_by_send_time\": (optional, int),\n                      \"conversions2\": (optional, int),\n                      \"conversions2_by_send_time\": (optional, int),\n                      \"conversions3\": (optional, int).\n                      \"conversions3_by_send_time\": (optional, int)\n                  }, {\n                      \"variation_name\": (optional, string),\n                      \"revenue\": (optional, float),,\n                      \"unique_recipients\": (int),\n                      \"conversions\": (optional, int),\n                      \"conversions_by_send_time\": (optional, int),\n                      \"conversions1\": (optional, int),\n                      \"conversions1_by_send_time\": (optional, int),\n                      \"conversions2\": (optional, int),\n                      \"conversions2_by_send_time\": (optional, int),\n                      \"conversions3\": (optional, int),\n                      \"conversions3_by_send_time\": (optional, int),\n                      \"enrolled\": (optional, int)\n                  }]\n              },\n              \"conversions_by_send_time\": (optional, int),\n              \"conversions1_by_send_time\": (optional, int),\n              \"conversions2_by_send_time\": (optional, int),\n              \"conversions3_by_send_time\": (optional, int),\n              \"conversions\": (optional, int,\n              \"conversions1\": (optional, int),\n              \"conversions2\": (optional, int),\n              \"conversions3\": (optional, int),\n              \"unique_recipients\": (int),\n              \"revenue\": (optional, float)\n         }],\n         ...\n}\n\n ```\n\nPossible message types are `email`, `in_app_message`, `webhook`, `android_push`, ios_push, `kindle_push`, `web_push`. All push message types will have the same statistics shown for `android_push`.\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "campaign_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [campaign API identifier](https://www.braze.com/docs/api/identifier_types/).\n\nThe `campaign_id` for API campaigns can be found at **Settings > Setup and Testing > API Keys** and the **Campaign Details** page within your dashboard, or you can use the [List campaigns endpoint](https://www.braze.com/docs/api/endpoints/export/campaigns/get_campaigns/).",
            "example": "{{campaign_identifier}}"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\n\nMax number of days before `ending_at` to include in the returned series. Must be between 1 and 100 (inclusive).",
            "example": 7
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nDate on which the data series should end. Defaults to time of the request.",
            "example": "2020-06-28T23:59:59-5:00"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/campaigns/details": {
      "get": {
        "tags": ["Export > Campaign"],
        "summary": "Export campaign details",
        "description": "> Use this endpoint to retrieve relevant information on a specified campaign, which can be identified by the `campaign_id`. \n  \n\nIf you want to retrieve Canvas data, refer to the [Canvas Details](https://www.braze.com/docs/api/endpoints/export/canvas/get_canvas_details/) endpoint.\n\n> **Note:** If you are using our [older navigation](https://www.braze.com/docs/navigation), `campaign_id` can be found at **Developer Console** > **API Settings** \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `campaign.details` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Responses\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"created_at\" : (string) the date created as ISO 8601 date,\n    \"updated_at\" : (string) the date last updated as ISO 8601 date,\n    \"archived\": (boolean) whether this campaign is archived,\n    \"draft\": (boolean) whether this campaign is a draft,\n    \"name\" : (string) the campaign name,\n    \"description\" : (string) the campaign description,\n    \"schedule_type\" : (string) the type of scheduling action,\n    \"channels\" : (array) the list of channels to send via,\n    \"first_sent\" : (string) the date and hour of first sent as ISO 8601 date,\n    \"last_sent\" : (string) the date and hour of last sent as ISO 8601 date,\n    \"tags\" : (array) the tag names associated with the campaign,\n    \"teams\" : (array) the names of the Teams associated with the campaign,\n    \"messages\": {\n        \"message_variation_id\": (string) { // <=This is the actual id\n            \"channel\": (string) the channel type of the message, must be either email, ios_push, webhook, content_card, in-app_message, or sms,\n            \"name\": (string) the name of the message in the dashboard (eg., \"Variation 1\")\n            ... channel-specific fields for this message, see the following messages section ...\n        }\n    },\n    \"conversion_behaviors\": (array) the conversion event behaviors assigned to the campaign, see the following conversions behavior section.\n}\n\n ```\n\n### Messages by channel\n\nThe `messages` response will contain information about each message. The following includes example message responses for each channel:\n\n#### Push\n\n``` json\n{\n    \"channel\": (string) description of the channel, such as \"ios_push\" or \"android_push\"\n    \"alert\": (string) alert body text,\n    \"extras\": (hash) any key value pairs provided\n}\n\n ```\n\n#### Email\n\n``` json\n{\n    \"channel\": \"email\",\n    \"subject\": (string) subject,\n    \"body\": (string) HTML body,\n    \"from\": (string) from address and display name,\n    \"reply_to\": (string) reply-to for message, if different than \"from\" address,\n    \"title\": (string) name of the email,\n    \"extras\": (hash) any key value pairs provided\n}\n\n ```\n\n#### In-app message\n\n``` json\n{\n    \"type\": (string) description of in-app message type, such as \"survey\",\n    \"data\": {\n        \"pages\": [\n            {\n                \"header\": \n                    {\n                         \"text\":(string) display text for the header of the survey,\n                    }\n                \"choices\": [\n                    {\n                       \"choice_id\": (string) choice identifier,\n                       \"text\": (string) display text, \n                       \"custom_attribute_key\": (string) custom attribute key, \n                       \"custom_attribute_value\": (sting) custom attribute value,\n                       \"deleted\": (boolean) deleted from live campaign, \n                    },\n                    ...\n                ]\n            }\n        ]\n    }\n}\n\n ```\n\n#### Content Card\n\n``` json\n{\n    \"channel\": \"content_cards\",\n    \"name\": (string) name of variant,\n    \"extras\": (hash) any key value pairs provided; only present if at least one key-value pair has been set\n}\n\n ```\n\n#### Webhook\n\n``` json\n{\n    \"channel\": \"webhook\",\n    \"url\": (string) url for webhook,\n    \"body\": (string) payload body,\n    \"type\": (string) body content type,\n    \"headers\": (hash) specified request headers,\n    \"method\": (string) HTTP method (e.g., \"POST\" or \"GET\"),\n}\n\n ```\n\n#### SMS\n\n``` json\n{\n  \"channel\": \"sms\",\n  \"body\": (string) payload body,\n  \"from\": (string) list of numbers associated with the subscription group,\n  \"subscription_group_id\": (string) API id of the subscription group targeted in the SMS message\n}\n\n ```\n\n#### WhatsApp\n\n##### Template messages\n\n``` json\n{\n  \"channel\": \"whats_app\",\n  \"subscription_group_id\": (string) the API ID of the subscription group selected in the WhatsApp message\n  \"from\": (array) the list of strings of the numbers associated with the subscription group,\n  \"template_name\": (string) the name of the WhatsApp template being sent,\n  \"template_language_code\": (string) the language code of the WhatsApp template being sent,\n  \"header_variables\": (array) the list of strings, if present, of Liquid variables being inserted into header of WhatsApp template being sent,\n  \"body_variables\": (array) the list of strings, if present, of Liquid variables being inserted into body of WhatsApp template being sent,\n  \"button_variables\": (array) the list of strings, if present, of Liquid variables being inserted into buttons of WhatsApp template being sent\n}\n\n ```\n\n##### Response messages\n\n``` json\n{\n  \"channel\": \"whats_app\",\n  \"subscription_group_id\": (string) the API ID of the subscription group selected in the WhatsApp message,\n  \"from\": (array) list of strings of the numbers associated with the subscription group,\n  \"layout\": (string) the name of the WhatsApp template being sent (text or media or quick-reply),\n  \"header_text\": (string, optional) the text, if present, of the header of the message being sent,\n  \"body_text\": (string, optional) the text, if present, of the body of the message being sent,\n  \"footer_text\": (string, optional) the text, if present, of the footer of the message being sent,\n  \"buttons\": (array) list of button objects in the message being sent ({\"text\": (string) the text of the button})\n}\n\n ```\n\n#### Control messages\n\n``` json\n{\n    \"channel\": (string) description of the channel that the control is for,\n    \"type\": \"control\"\n}\n\n ```\n\n### Conversion behaviors\n\nThe `conversion_behaviors` array will contain information about each conversion event behavior set for the campaign. These behaviors are in order as set by the campaign. For example, Conversion Event A will be the first item in the array, Conversion Event B will be second, etc. The following lists example conversion event behavior responses:\n\n#### Clicks email\n\n``` json\n{\n    \"type\": \"Clicks Email\",\n    \"window\": (integer) number of seconds during which the user can convert on this event, i.e. - 86400, which is 24 hours\n}\n\n ```\n\n#### Opens email\n\n``` json\n{\n    \"type\": \"Opens Email\",\n    \"window\": (integer) number of seconds during which the user can convert on this event, i.e. - 86400, which is 24 hours\n}\n\n ```\n\n#### Makes purchase (any purchase)\n\n``` json\n{\n    \"type\": \"Makes Any Purchase\",\n    \"window\": (integer) number of seconds during which the user can convert on this event, i.e. - 86400, which is 24 hours\n}\n\n ```\n\n#### Makes purchase (specific product)\n\n``` json\n{\n    \"type\": \"Makes Specific Purchase\",\n    \"window\": (integer) number of seconds during which the user can convert on this event, i.e. - 86400, which is 24 hours,\n    \"product\": (string) name of the product, i.e. - \"Feline Body Armor\"\n}\n\n ```\n\n#### Performs custom event\n\n``` json\n{\n    \"type\": \"Performs Custom Event\",\n    \"window\": (integer) number of seconds during which the user can convert on this event, i.e. - 86400, which is 24 hours,\n    \"custom_event_name\": (string) name of the event, i.e. - \"Used Feline Body Armor\"\n}\n\n ```\n\n#### Upgrades app\n\n``` json\n{\n    \"type\": \"Upgrades App\",\n    \"window\": (integer) number of seconds during which the user can convert on this event, i.e. - 86400, which is 24 hours,\n    \"app_ids\": (array|null) array of app ids, i.e. - [\"12345\", \"67890\"], or `null` if \"Track sessions for any app\" is selected in the UI\n}\n\n ```\n\n#### Uses app\n\n``` json\n{\n    \"type\": \"Starts Session\",\n    \"window\": (integer) number of seconds during which the user can convert on this event, i.e. - 86400, which is 24 hours,\n    \"app_ids\": (array|null) array of app ids, i.e. - [\"12345\", \"67890\"], or `null` if \"Track sessions for any app\" is selected in the UI\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "campaign_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [campaign API identifier](https://www.braze.com/docs/api/identifier_types/).\n\nThe `campaign_id` for API campaigns can be found on the **Settings > Setup and Testing > API Keys** and the campaign details page within your dashboard, or you can use the [Campaign List Endpoint](https://www.braze.com/docs/api/endpoints/export/campaigns/get_campaign_analytics/#campaign-list-endpoint).",
            "example": "{{campaign_identifier}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/campaigns/list": {
      "get": {
        "tags": ["Export > Campaign"],
        "summary": "Export campaign list",
        "description": "> Use this endpoint to export a list of campaigns, each of which will include its name, campaign API identifier, whether it is an API campaign, and tags associated with the campaign. \n  \n\nThe campaigns are returned in groups of 100 sorted by time of creation (oldest to newest by default).\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `campaigns.list` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Campaign list endpoint API response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"campaigns\" : [\n        {\n            \"id\" : (string) Campaign API Identifier,\n            \"last_edited\": (ISO 8601 string) the last edited time for the message \n            \"name\" : (string) campaign name,\n            \"is_api_campaign\" : (boolean) whether the campaign is an API Campaign,\n            \"tags\" : (array) tag names associated with the campaign\n        },\n        ...\n    ]\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "page",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nThe page of campaigns to return, defaults to 0 (returns the first set of up to 100)."
          },
          {
            "name": "include_archived",
            "in": "query",
            "schema": { "type": "boolean" },
            "description": "(Optional) Boolean\n\nWhether or not to include archived campaigns, defaults to false."
          },
          {
            "name": "sort_direction",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\n- Sort creation time from newest to oldest: pass in the value `desc`.\n- Sort creation time from oldest to newest: pass in the value `asc`.\n\nIf `sort_direction` is not included, the default order is oldest to newest.",
            "example": "desc"
          },
          {
            "name": "last_edit.time[gt]",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nFilters the results and only returns campaigns that were edited greater than the time provided till now. Format is `yyyy-MM-DDTHH:mm:ss`.",
            "example": "2020-06-28T23:59:59-5:00"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/sends/data_series": {
      "get": {
        "tags": ["Export > Campaign"],
        "summary": "Export send analytics",
        "description": "> Use this endpoint to retrieve a daily series of various stats for a tracked `send_id` for API campaigns. \n  \n\nBraze stores send analytics for 14 days after the send. Campaign conversions will be attributed toward the most recent `send_id` that a given user has received from the campaign.\n\n## Prerequisites\n\nThis endpoint is for API campaigns only. To use this endpoint, you'll need an [API key](https://www.braze.com/docs/api/basics#rest-api-key/) with the `sends.data_series` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n### Send analytics endpoint API response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n            \"variation_name\": (string) variation name,\n            \"sent\": (int) the number of sends,\n            \"delivered\": (int) the number of messages successfully delivered,\n            \"undelivered\": (int) the number of undelivered,\n            \"delivery_failed\": (int) the number of rejected,\n            \"direct_opens\": (int) the number of direct opens,\n            \"total_opens\": (int) the number of total opens,\n            \"bounces\": (int) the number of bounces,\n            \"body_clicks\": (int) the number of body clicks,\n            \"revenue\": (float) the number of dollars of revenue (USD),\n            \"unique_recipients\": (int) the number of unique recipients,\n            \"conversions\": (int) the number of conversions,\n            \"conversions_by_send_time\": (int) the number of conversions,\n            \"conversions1\": (int, optional) the number of conversions for the second conversion event,\n            \"conversions1_by_send_time\": (int, optional) the number of conversions for the second conversion event by send time,\n            \"conversions2\": (int, optional) the number of conversions for the third conversion event,\n            \"conversions2_by_send_time\": (int, optional) the number of conversions for the third conversion event by send time,\n            \"conversions3\": (int, optional) the number of conversions for the fourth conversion event,\n            \"conversions3_by_send_time\": (int, optional) the number of conversions for the fourth conversion event by send time\n          }\n        ]\n      },\n      \"conversions_by_send_time\": 0,\n      \"conversions1_by_send_time\": 0,\n      \"conversions2_by_send_time\": 0,\n      \"conversions3_by_send_time\": 0,\n      \"conversions\": 0,\n      \"conversions1\": 0,\n      \"conversions2\": 0,\n      \"conversions3\": 0,\n      \"unique_recipients\": 1,\n      \"revenue\": 0\n    }\n  ],\n  \"message\": \"success\"\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "campaign_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [Campaign API identifier](https://www.braze.com/docs/api/identifier_types/).",
            "example": "{{campaign_identifier}}"
          },
          {
            "name": "send_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [Send API identifier](https://www.braze.com/docs/api/identifier_types/).",
            "example": "{{send_identifier}}"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\n\nMax number of days before `ending_at` to include in the returned series. Must be between 1 and 100 (inclusive).",
            "example": 30
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nDate on which the data series should end. Defaults to time of the request.",
            "example": "2014-12-10T23:59:59-05:00"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/canvas/data_series": {
      "get": {
        "tags": ["Export > Canvas"],
        "summary": "Export Canvas data series analytics",
        "description": "> Use this endpoint to export time series data for a Canvas. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `canvas.data_series` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"data\": {\n    \"name\": (string) Canvas name,\n    \"stats\": [\n      {\n        \"time\": (string) date as ISO 8601 date,\n        \"total_stats\": {\n          \"revenue\": (float),\n          \"conversions\": (int),\n          \"conversions_by_entry_time\": (int),\n          \"entries\": (int)\n        },\n        \"variant_stats\": (optional) {\n          \"00000000-0000-0000-0000-0000000000000\": (API identifier for variant) {\n            \"name\": (string) name of variant,\n            \"revenue\": (int),\n            \"conversions\": (int),\n            \"conversions_by_entry_time\": (int),\n            \"entries\": (int)\n          },\n          ... (more variants)\n        },\n        \"step_stats\": (optional) {\n          \"00000000-0000-0000-0000-0000000000000\": (API identifier for step) {\n            \"name\": (string) name of step,\n            \"revenue\": (float),\n            \"conversions\": (int),\n            \"conversions_by_entry_time\": (int),\n            \"messages\": {\n              \"email\": [\n                {\n                  \"sent\": (int),\n                  \"opens\": (int),\n                  \"unique_opens\": (int),\n                  \"clicks\": (int),\n                  ... (more stats)\n                }\n              ],\n              ... (more channels)\n            }\n          },\n          ... (more steps)\n        }\n      },\n      ... (more stats by time)\n    ]\n  },\n  \"message\": (required, string) the status of the export, returns 'success' when completed without errors\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "canvas_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [Canvas API Identifier](https://www.braze.com/docs/api/identifier_types/).",
            "example": "{{canvas_id}}"
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nDate on which the data export should end. Defaults to time of the request.",
            "example": "2018-05-30T23:59:59-5:00"
          },
          {
            "name": "starting_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional*) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string) \n\nDate on which the data export should begin.\n\n*Either `length` or `starting_at` is required.",
            "example": "2018-05-28T23:59:59-5:00"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional*) String\n\nMaximum number of days before `ending_at` to include in the returned series. Must be between 1 and 14 (inclusive).\n\n*Either `length` or `starting_at` is required.",
            "example": 10
          },
          {
            "name": "include_variant_breakdown",
            "in": "query",
            "schema": { "type": "boolean" },
            "description": "(Optional) Boolean\n\nWhether or not to include variant stats (defaults to false).",
            "example": true
          },
          {
            "name": "include_step_breakdown",
            "in": "query",
            "schema": { "type": "boolean" },
            "description": "(Optional) Boolean\n\nWhether or not to include step stats (defaults to false).",
            "example": true
          },
          {
            "name": "include_deleted_step_data",
            "in": "query",
            "schema": { "type": "boolean" },
            "description": "(Optional) Boolean\n\nWhether or not to include step stats for deleted steps (defaults to false).",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/canvas/data_summary": {
      "get": {
        "tags": ["Export > Canvas"],
        "summary": "Export Canvas data analytics summary",
        "description": "> Use this endpoint to export rollups of time series data for a Canvas, providing a concise summary of a Canvas’ results. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `canvas.data_summary` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"data\": {\n    \"name\": (string) Canvas name,\n    \"total_stats\": {\n      \"revenue\": (float),\n      \"conversions\": (int),\n      \"conversions_by_entry_time\": (int),\n      \"entries\": (int)\n    },\n    \"variant_stats\": (optional) {\n      \"00000000-0000-0000-0000-0000000000000\": (API identifier for variant) {\n        \"name\": (string) name of variant,\n        \"revenue\": (float),\n        \"conversions\": (int),\n        \"entries\": (int)\n      },\n      ... (more variants)\n    },\n    \"step_stats\": (optional) {\n      \"00000000-0000-0000-0000-0000000000000\": (API identifier for step) {\n        \"name\": (string) name of step,\n        \"revenue\": (float),\n        \"conversions\": (int),\n        \"conversions_by_entry_time\": (int),\n        \"messages\": {\n          \"android_push\": (name of channel) [\n            {\n              \"sent\": (int),\n              \"opens\": (int),\n              \"influenced_opens\": (int),\n              \"bounces\": (int)\n              ... (more stats for channel)\n            }\n          ],\n          ... (more channels)\n        }\n      },\n      ... (more steps)\n    }\n  },\n  \"message\": (required, string) the status of the export, returns 'success' when completed without errors\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://desktop.postman.com/?desktopVersion=9.19.0&userId=16580579&teamId=409325).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "canvas_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String \n\nSee [Canvas API identifier](https://www.braze.com/docs/api/identifier_types/).",
            "example": "{{canvas_id}}"
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\nDate on which the data export should end. Defaults to time of the request",
            "example": "2018-05-30T23:59:59-5:00"
          },
          {
            "name": "starting_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional*) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nDate on which the data export should begin.\n\n*Either `length` or `starting_at` is required.",
            "example": "2018-05-28T23:59:59-5:00"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional*) Integer\n\nMax number of days before `ending_at` to include in the returned series. Must be between 1 and 14 (inclusive).\n\n*Either `length` or `starting_at` is required.",
            "example": 5
          },
          {
            "name": "include_variant_breakdown",
            "in": "query",
            "schema": { "type": "boolean" },
            "description": "(Optional) Boolean\n\nWhether or not to include variant stats (defaults to false).",
            "example": true
          },
          {
            "name": "include_step_breakdown",
            "in": "query",
            "schema": { "type": "boolean" },
            "description": "(Optional) Boolean\n\nWhether or not to include step stats (defaults to false).",
            "example": true
          },
          {
            "name": "include_deleted_step_data",
            "in": "query",
            "schema": { "type": "boolean" },
            "description": "(Optional) Boolean\n\nWhether or not to include step stats for deleted steps (defaults to false).",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/canvas/details": {
      "get": {
        "tags": ["Export > Canvas"],
        "summary": "Export Canvas details",
        "description": "> Use this endpoint to export metadata about a Canvas, such as the name, time created, current status, and more. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `canvas.details` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n> **Note:** All Canvas steps have a next_paths field, which is an array of `{name, next_step_id}` data. For full steps and Message steps, the `next_step_ids` field will be present, but will not contain data for other Canvas Flow steps. \n  \n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"created_at\": (string) the date created as ISO 8601 date,\n  \"updated_at\": (string) the date updated as ISO 8601 date,\n  \"name\": (string) the Canvas name,\n  \"description\": (string) the Canvas description,\n  \"archived\": (boolean) whether this Canvas is archived,\n  \"draft\": (boolean) whether this Canvas is a draft,\n  \"schedule_type\": (string) the type of scheduling action,\n  \"first_entry\": (string) the date of first entry as ISO 8601 date,\n  \"last_entry\": (string) the date of last entry as ISO 8601 date,\n  \"channels\": (array of strings) step channels used with Canvas,\n  \"variants\": [\n    {\n      \"name\": (string) the name of variant,\n      \"id\": (string) the API identifier of the variant,\n      \"first_step_ids\": (array of strings) the API identifiers for first steps in variant,\n      \"first_step_id\": (string) the API identifier of first step in variant (deprecated in November 2017, only included if the variant has only one first step)\n    },\n    ... (more variations)\n  ],\n  \"tags\": (array of strings) the tag names associated with the Canvas,\n  \"teams\" : (array) the names of the Teams associated with the Canvas,\n  \"steps\": [\n    {\n      \"name\": (string) the name of step,\n      \"type\" (string) the type of Canvas component,\n      \"id\": (string) the API identifier of the step,\n      \"next_step_ids\": (array of strings) IDs for next steps that are full steps or Message steps,\n      \"next_paths\": { (array of objects)\n      // for Decision Splits, this property should evaluate to \"Yes\" or \"No\"\n      // for Audience Path and Action Paths, this property should evaluate to the group name\n      // for Experiment Paths, this property should evaluate to the path name\n      // for other steps, this property should evaluate to \"null\"\n        \"name\": (string) name the name of step,\n        \"next_step_id\": (string) IDs for next steps that are full steps or Message steps,\n        }\n      \"channels\": (array of strings) the channels used in step,\n      \"messages\": {\n          \"message_variation_id\": (string) {  // <=This is the actual id\n              \"channel\": (string) the channel type of the message (for example, \"email\"),\n              // channel-specific fields for this message, see Campaign Details endpoint API Response for example message responses\n          }\n      }\n    },\n    ... (more steps)\n  ],\n  \"message\": (required, string) the status of the export, returns 'success' when completed without errors\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://desktop.postman.com/?desktopVersion=9.19.0&userId=16580579&teamId=409325).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "canvas_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [Canvas API Identifier](https://www.braze.com/docs/api/identifier_types/) ",
            "example": "{{canvas_identifier}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/canvas/list": {
      "get": {
        "tags": ["Export > Canvas"],
        "summary": "Export Canvas list",
        "description": "> Use this endpoint to export a list of Canvases, including the name, Canvas API identifier and associated tags. \n  \n\nCanvases are returned in groups of 100 sorted by time of creation (oldest to newest by default).\n\nArchived Canvases will not be included in the API response unless the `include_archived` field is specified. Canvases that are stopped but not archived, however, will be returned by default.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `canvas.list` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"canvases\" : [\n      {\n          \"id\" : (string) Canvas API Identifier,\n          \"last_edited\": (ISO 8601 string) the last edited time for the message,\n          \"name\" : (string) Canvas name,\n          \"tags\" : (array) tag names associated with the Canvas,\n      },\n    ... (more Canvases)\n  ],\n  \"message\": (required, string) the status of the export, returns 'success' when completed without errors\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://desktop.postman.com/?desktopVersion=9.19.0&userId=16580579&teamId=409325).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "page",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nThe page of Canvases to return, defaults to `0` (returns the first set of up to 100).",
            "example": 1
          },
          {
            "name": "include_archived",
            "in": "query",
            "schema": { "type": "boolean" },
            "description": "(Optional) Boolean\n\nWhether or not to include archived Canvases, defaults to `false`."
          },
          {
            "name": "sort_direction",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\n- Sort creation time from newest to oldest: pass in the value `desc`.\n- Sort creation time from oldest to newest: pass in the value `asc`.\n\nIf `sort_direction` is not included, the default order is oldest to newest.",
            "example": "desc"
          },
          {
            "name": "last_edit.time[gt]",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nFilters the results and only returns Canvases that were edited greater than the time provided till now. Format is `yyyy-MM-DDTHH:mm:ss`.",
            "example": "2020-06-28T23:59:59-5:00"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/events/list": {
      "get": {
        "tags": ["Export > Custom Events"],
        "summary": "Export custom events list",
        "description": "> Use this endpoint to export a list of custom events that have been recorded for your app. The event names are returned in groups of 250, sorted alphabetically. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `events.list` permission.\n\n## Rate limit\n\nFor customers who onboarded with Braze on or after September 16, 2021, we apply a shared rate limit of 1,000 requests per hour to this endpoint. This rate limit is shared with the `/purchases/product_list` endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"events\" : [\n        \"Event A\", (string) the event name,\n        \"Event B\", (string) the event name,\n        \"Event C\", (string) the event name,\n        ...\n    ]\n}\n\n ```\n\n### Fatal error response codes\n\nFor status codes and associated error messages that will be returned if your request encounters a fatal error, reference [Fatal errors &amp; responses](https://www.braze.com/docs/api/errors/#fatal-errors).\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "page",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nThe page of event names to return, defaults to 0 (returns the first set of up to 250).",
            "example": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/events/data_series": {
      "get": {
        "tags": ["Export > Custom Events"],
        "summary": "Export custom events analytics",
        "description": "> Use this endpoint to retrieve a series of the number of occurrences of a custom event in your app over a designated time period. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://braze.com/docs/api/api_key/) with the `events.data_series` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"data\" : [\n        {\n            \"time\" : (string) point in time - as ISO 8601 extended when unit is \"hour\" and as ISO 8601 date when unit is \"day\",\n            \"count\" : (int)\n        },\n        ...\n    ]\n}\n\n ```\n\n### Fatal error response codes\n\nFor status codes and associated error messages that will be returned if your request encounters a fatal error, reference [Fatal errors &amp; responses](https://www.braze.com/docs/api/errors/#fatal-errors).\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "event",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nThe name of the custom event for which to return analytics. ",
            "example": "event_name"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\n\nMaximum number of units (days or hours) before `ending_at` to include in the returned series. Must be between 1 and 100 (inclusive).",
            "example": 24
          },
          {
            "name": "unit",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nUnit of time between data points - can be `day` or `hour`, defaults to `day`.",
            "example": "hour"
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nDate on which the data series should end. Defaults to time of the request.",
            "example": "2014-12-10T23:59:59-05:00"
          },
          {
            "name": "app_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nApp API identifier retrieved from the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page to limit analytics to a specific app.\n\nNote: If you are using our [older navigation](https://www.braze.com/docs/navigation), `app_id` can be found at **Developer Console** > **API Settings**",
            "example": "{{app_identifier}}"
          },
          {
            "name": "segment_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nSee [Segment API identifier](https://www.braze.com/docs/api/identifier_types/). Segment ID indicating the analytics-enabled segment for which event analytics should be returned.",
            "example": "{{segment_identifier}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/kpi/new_users/data_series": {
      "get": {
        "tags": ["Export > KPI"],
        "summary": "Export daily new users by date",
        "description": "> Use this endpoint to retrieve a daily series of the total number of new users on each date. \n  \n\nNote: If you are using our [older navigation](https://www.braze.com/docs/navigation), `app_id` can be found at **Developer Console** > **API Settings**.\n\nTo use this endpoint, you’ll need to generate an API key with the `kpi.new_users.data_series` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"data\" : [\n        {\n            \"time\" : (string) the date as ISO 8601 date,\n            \"new_users\" : (int) the number of daily new users\n        },\n        ...\n    ]\n}\n\n```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\n\nMaximum number of days before `ending_at` to include in the returned series. Must be between 1 and 100 (inclusive).",
            "example": 14
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nDate on which the data series should end. Defaults to time of the request.",
            "example": "2018-06-28T23:59:59-5:00"
          },
          {
            "name": "app_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nApp API identifier retrieved from the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page. If excluded, results for all apps in the workspace will be returned.",
            "example": "{{app_identifier}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/kpi/dau/data_series": {
      "get": {
        "tags": ["Export > KPI"],
        "summary": "Export daily active users by date",
        "description": "> Use this endpoint to retrieve a daily series of the total number of unique active users on each date. \n  \n\nNote: If you are using our [older navigation](https://www.braze.com/docs/navigation), API Keys can be found at **Developer Console > API Settings**.\n\nTo use this endpoint, you’ll need to generate an API key with the `kpi.dau.data_series` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"data\" : [\n        {\n            \"time\" : (string) the date as ISO 8601 date,\n            \"dau\" : (int) the number of daily active users\n        },\n        ...\n    ]\n}\n\n```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\n\nMaximum number of days before `ending_at` to include in the returned series. Must be between 1 and 100 (inclusive).",
            "example": 10
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional)  Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\nDate on which the data series should end. Defaults to time of the request.",
            "example": "2018-06-28T23:59:59-5:00"
          },
          {
            "name": "app_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nApp API identifier retrieved from the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page. If excluded, results for all apps in the workspace will be returned.",
            "example": "{{app_identifier}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/kpi/mau/data_series": {
      "get": {
        "tags": ["Export > KPI"],
        "summary": "Export monthly active users for last 30 days",
        "description": "> Use this endpoint to retrieve a daily series of the total number of unique active users over a 30-day rolling window. \n  \n\nNote: If you are using our [older navigation](https://www.braze.com/docs/navigation), API Keys can be found at **Developer Console > API Settings**.\n\nTo use this endpoint, you’ll need to generate an API key with the `kpi.mau.data_series` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"data\" : [\n        {\n            \"time\" : (string) the date as ISO 8601 date,\n            \"mau\" : (int) the number of monthly active users\n        },\n        ...\n    ]\n}\n\n```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\n\nMaximum number of days before `ending_at` to include in the returned series. Must be between 1 and 100 (inclusive).",
            "example": 7
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional)  Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nDate on which the data series should end. Defaults to time of the request.",
            "example": "2018-06-28T23:59:59-05:00"
          },
          {
            "name": "app_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nApp API identifier retrieved from the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page. If excluded, results for all apps in the workspace will be returned.",
            "example": "{{app_identifier}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/kpi/uninstalls/data_series": {
      "get": {
        "tags": ["Export > KPI"],
        "summary": "Export KPIs for daily app uninstalls by date",
        "description": "> Use this endpoint to retrieve a daily series of the total number of uninstalls on each date. \n  \n\nNote: If you are using our [older navigation](https://www.braze.com/docs/navigation), API Keys can be found at **Developer Console > API Settings**.\n\nTo use this endpoint, you’ll need to generate an API key with the `kpi.uninstalls.data_series` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"data\" : [\n        {\n            \"time\" : (string) the date as ISO 8601 date,\n            \"uninstalls\" : (int) the number of uninstalls\n        },\n        ...\n    ]\n}\n\n```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\n\nMaximum number of days before `ending_at` to include in the returned series. Must be between 1 and 100 (inclusive).",
            "example": 14
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional)  Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nDate on which the data series should end. Defaults to time of the request.",
            "example": "2018-06-28T23:59:59-5:00"
          },
          {
            "name": "app_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nApp API identifier retrieved from the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page. If excluded, results for all apps in the workspace will be returned.",
            "example": "{{app_identifier}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/feed/data_series": {
      "get": {
        "tags": ["Export > News Feed"],
        "summary": "Export News Feed Card analytics",
        "description": "> Use this endpoint to retrieve a daily series of engagement stats for a card over time. \n  \n\nNote: If you are using our [older navigation](https://www.braze.com/docs/navigation), \\`card_id\\` can be found at **Developer Console > API Settings**.\n\nTo use this endpoint, you’ll need to generate an API key with the `feed.data_series` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"data\" : [\n        {\n            \"time\" : (string) the point in time - as ISO 8601 extended when unit is \"hour\" and as ISO 8601 date when unit is \"day\",\n            \"clicks\" : (int) the number of clicks,\n            \"impressions\" : (int) the number of impressions,\n            \"unique_clicks\" : (int) the number of unique clicks,\n            \"unique_impressions\" : (int) the number of unique impressions\n        },\n        ...\n    ]\n}\n\n```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "card_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [Card API identifier](https://www.braze.com/docs/api/identifier_types/).\n\nThe `card_id` for a given card can be found in the **Settings > Setup and Testing > API Keys** page and on the card details page within your dashboard, or you can use the [News Feed List Endpoint](https://www.braze.com/docs/api/endpoints/export/news_feed/get_news_feed_cards/).",
            "example": "{{card_identifier}}"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\n\nMax number of units (days or hours) before `ending_at` to include in the returned series. Must be between 1 and 100 (inclusive).",
            "example": 14
          },
          {
            "name": "unit",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nUnit of time between data points. Can be `day` or `hour`, defaults to `day`.",
            "example": "day"
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nDate on which the data series should end. Defaults to time of the request.\n",
            "example": "2018-06-28T23:59:59-5:00"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/feed/details": {
      "get": {
        "tags": ["Export > News Feed"],
        "summary": "Export News Feed Cards details",
        "description": "> Use this endpoint to retrieve relevant information on a card, which can be identified by the `card_id`. \n  \n\nNote: If you are using our [older navigation](https://www.braze.com/docs/navigation), `card_id` can be found at **Developer Console > API Settings**.\n\nTo use this endpoint, you’ll need to generate an API key with the `feed.details` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) The status of the export, returns 'success' when completed without errors,\n    \"created_at\" : (string) Date created as ISO 8601 date,\n    \"updated_at\" : (string) Date last updated as ISO 8601 date,\n    \"name\" : (string) Card name,\n    \"publish_at\" : (string) Date card was published as ISO 8601 date,\n    \"end_at\" : (string) Date card will stop displaying for users as ISO 8601 date,\n    \"tags\" : (array) Tag names associated with the card,\n    \"title\" : (string) Title of the card,\n    \"image_url\" : (string) Image URL used by this card,\n    \"extras\" : (dictionary) Dictionary containing key-value pair data attached to this card,\n    \"description\" : (string) Description text used by this card,\n    \"archived\": (boolean) whether this Card is archived,\n    \"draft\": (boolean) whether this Card is a draft,\n}\n\n```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "card_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [Card API identifier](https://www.braze.com/docs/api/identifier_types/).\n\nThe `card_id` for a given card can be found in the **Settings > Setup and Testing > API Keys** page and on the card details page within your dashboard, or you can use the [News Feed List Endpoint](https://www.braze.com/docs/api/endpoints/export/news_feed/get_news_feed_cards/).",
            "example": "{{card_identifier}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/feed/list": {
      "get": {
        "tags": ["Export > News Feed"],
        "summary": "Export News Feed Cards list",
        "description": "> Use this endpoint to export a list of News Feed cards, each of which will include its name and card API identifier. \n  \n\nThe cards are returned in groups of 100 sorted by time of creation (oldest to newest by default).\n\nTo use this endpoint, you’ll need to generate an API key with the `feed.list` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"cards\" : [\n        {\n            \"id\" : (string) the card API identifier,\n            \"type\" : (string) type of the card - NewsItem (classic cards), CaptionedImage, Banner\n            \"title\" : (string) the title of the card,\n            \"tags\" : (array) the tag names associated with the card\n        },\n        ...\n    ]\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "page",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nThe page of cards to return, defaults to 0 (returns the first set of up to 100).",
            "example": 1
          },
          {
            "name": "include_archived",
            "in": "query",
            "schema": { "type": "boolean" },
            "description": "(Optional) Boolean\n\nWhether or not to include archived cards, defaults to false.",
            "example": true
          },
          {
            "name": "sort_direction",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\n- Sort creation time from newest to oldest: pass in the value `desc`.\n- Sort creation time from oldest to newest: pass in the value `asc`.\n\nIf `sort_direction` is not included, the default order is oldest to newest.",
            "example": "desc"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/purchases/product_list": {
      "get": {
        "tags": ["Export > Purchases"],
        "summary": "Export product IDs",
        "description": "> Use this endpoint to return a paginated lists of product IDs. \n  \n\nTo use this endpoint, you’ll need to generate an API key with the `purchases.product_list` permission.\n\n## Rate limit\n\nFor customers who onboarded with Braze on or after September 16, 2021, we apply a shared rate limit of 1,000 requests per hour to this endpoint. This rate limit is shared with the `/events/list` endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"products\": [\n    \"product_name\" (string), the name of the product\n  ],\n  \"message\": \"success\"\n}\n\n```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "page",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nThe page of your product list that you would like to view.",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/purchases/quantity_series": {
      "get": {
        "tags": ["Export > Purchases"],
        "summary": "Export number of purchases",
        "description": "> Use this endpoint to return the total number of purchases in your app over a time range. \n  \n\nTo use this endpoint, you’ll need to generate an API key with the `purchases.quantity_series` permission.\n\n## Rate limit\n\nFor customers who onboarded with Braze on or after September 16, 2021, we apply a shared rate limit of 1,000 requests per hour to this endpoint. This rate limit is shared with the `/events/list` endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Example request\n\n```\ncurl --location --request GET 'https://rest.iad-01.braze.com/purchases/quantity_series?length=100' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n```\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n  \"data\" : [\n    {\n      \"time\" : (string) the date as ISO 8601 date,\n      \"purchase_quantity\" : (int) the number of items purchased in the time period\n      },\n    ...\n  ]\n}\n\n```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Datetime (ISO 8601 string)\nDate on which the data series should end. Defaults to time of the request.",
            "example": "2018-06-28T23:59:59-5:00"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\nMaximum number of days before ending_at to include in the returned series. Must be between 1 and 100 (inclusive).",
            "example": 100
          },
          {
            "name": "unit",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) String\nUnit of time between data points. Can be `day` or `hour`, defaults to `day`. ",
            "example": 14
          },
          {
            "name": "app_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\nApp API identifier retrieved from the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page. If excluded, results for all apps in the workspace will be returned.",
            "example": "{{app_identifier}}"
          },
          {
            "name": "product",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\nName of product to filter response by. If excluded, results for all apps will be returned.",
            "example": "name"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/purchases/revenue_series": {
      "get": {
        "tags": ["Export > Purchases"],
        "summary": "Export revenue data by time",
        "description": "> Use this endpoint to return the total money spent in your app over a time range. \n  \n\nTo use this endpoint, you’ll need to generate an API key with the `purchases.revenue_series` permission.\n\n## Rate limit\n\nFor customers who onboarded with Braze on or after September 16, 2021, we apply a shared rate limit of 1,000 requests per hour to this endpoint. This rate limit is shared with the `/events/list` endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Example request\n\n```\ncurl --location --request GET 'https://rest.iad-01.braze.com/purchases/revenue_series?length=100' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n```\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n  \"data\" : [\n    {\n      \"time\" : (string) the date as ISO 8601 date,\n      \"revenue\" : (int) amount of revenue for the time period\n      },\n    ...\n  ]\n}\n\n```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Datetime (ISO 8601 string)\nDate on which the data series should end. Defaults to time of the request.",
            "example": "2018-06-28T23:59:59-5:00"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\nMaximum number of days before ending_at to include in the returned series. Must be between 1 and 100 (inclusive).",
            "example": 100
          },
          {
            "name": "unit",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) String\nUnit of time between data points. Can be `day` or `hour`, defaults to `day`. ",
            "example": 14
          },
          {
            "name": "app_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\nApp API identifier retrieved from the Settings > Setup and Testing > API Keys to limit analytics to a specific app.",
            "example": "{{app_identifier}}"
          },
          {
            "name": "product",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\nName of product to filter response by. If excluded, results for all apps will be returned.",
            "example": "name"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/segments/list": {
      "get": {
        "tags": ["Export > Segment"],
        "summary": "Export segment list",
        "description": "> Use this endpoint to export a list of segments, each of which will include its name, Segment API identifier, and whether it has analytics tracking enabled. \n  \n\nThe segments are returned in groups of 100 sorted by time of creation (oldest to newest by default). Archived segments are not included.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/basics#rest-api-key/) with the `segments.list` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"segments\" : [\n        {\n            \"id\" : (string) Segment API Identifier,\n            \"name\" : (string) segment name,\n            \"analytics_tracking_enabled\" : (boolean) whether the segment has analytics tracking enabled,\n            \"tags\" : (array) tag names associated with the segment\n        },\n        ...\n    ]\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "page",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nThe page of segments to return, defaults to 0 (returns the first set of up to 100).",
            "example": 1
          },
          {
            "name": "sort_direction",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\n- Sort creation time from newest to oldest: pass in the value `desc`.\n- Sort creation time from oldest to newest: pass in the value `asc`.\n\nIf `sort_direction` is not included, the default order is oldest to newest.",
            "example": "desc"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/segments/data_series": {
      "get": {
        "tags": ["Export > Segment"],
        "summary": "Export segment analytics",
        "description": "> Use this endpoint to retrieve a daily series of the estimated size of a segment over time. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/basics#rest-api-key/) with the `segments.data_series` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"data\" : [\n        {\n            \"time\" : (string) date as ISO 8601 date,\n            \"size\" : (int) size of the segment on that date\n        },\n        ...\n    ]\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "segment_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [Segment API identifier](https://www.braze.com/docs/api/identifier_types/).\n\nThe `segment_id` for a given segment can be found on the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page within your Braze account or you can use the [Export segment list endpoint](https://www.braze.com/docs/api/endpoints/export/get_segment/).",
            "example": "{{segment_identifier}}"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\n\nMax number of days before `ending_at` to include in the returned series - must be between 1 and 100 (inclusive).",
            "example": 14
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Datetime ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) string)\n\nDate on which the data series should end. Defaults to time of the request.",
            "example": "2018-06-27T23:59:59-5:00"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/segments/details": {
      "get": {
        "tags": ["Export > Segment"],
        "summary": "Export segment details",
        "description": "> Use this endpoint to retrieve relevant information on a segment, which can be identified by the `segment_id`. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/basics#rest-api-key/) with the `segments.details` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n      \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n      \"created_at\" : (string) the date created as ISO 8601 date,\n      \"updated_at\" : (string) the date last updated as ISO 8601 date,\n      \"name\" : (string) the segment name,\n      \"description\" : (string) a human-readable description of filters,\n      \"text_description\" : (string) the segment description, \n      \"tags\" : (array) the tag names associated with the segment formatted as strings,\n      \"teams\" : (array) the names of the Teams associated with the campaign\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "segment_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [Segment API identifier](https://www.braze.com/docs/api/identifier_types/).\n\nThe `segment_id` for a given segment can be found on the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page within your Braze account or you can use the [Export segment list endpoint](https://www.braze.com/docs/api/endpoints/export/get_segment/).",
            "example": "{{segment_identifier}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/sessions/data_series": {
      "get": {
        "tags": ["Export > Session Analytics"],
        "summary": "Export app sessions by time",
        "description": "> Use this endpoint to retrieve a series of the number of sessions for your app over a designated time period. \n  \n\nNote: If you are using our [older navigation](https://www.braze.com/docs/navigation), `segment_id` can be found at **Developer Console > API Settings**.\n\nTo use this endpoint, you’ll need to generate an API key with the `sessions.data_series` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"data\" : [\n        {\n            \"time\" : (string) point in time - as ISO 8601 extended when unit is \"hour\" and as ISO 8601 date when unit is \"day\",\n            \"sessions\" : (int)\n        },\n        ...\n    ]\n}\n\n```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "length",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Required) Integer\n\nMax number of days before `ending_at` to include in the returned series - must be between 1 and 100 (inclusive).",
            "example": 14
          },
          {
            "name": "unit",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nUnit of time between data points. Can be `day` or `hour`, defaults to `day`. ",
            "example": "day"
          },
          {
            "name": "ending_at",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Datetime (ISO 8601 string)\n\nDate on which the data series should end. Defaults to time of the request.",
            "example": "2018-06-28T23:59:59-5:00"
          },
          {
            "name": "app_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nApp API identifier retrieved from the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page to limit analytics to a specific app.",
            "example": "{{app_identifier}}"
          },
          {
            "name": "segment_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [Segment API identifier](https://www.braze.com/docs/api/identifier_types/). Segment ID indicating the analytics-enabled segment for which sessions should be returned.",
            "example": "{{segment_identifier}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/users/export/ids": {
      "post": {
        "tags": ["Export > User Data"],
        "summary": "Export user profile by identifier",
        "description": "> Use this endpoint to export data from any user profile by specifying a user identifier. \n  \n\nUp to 50 `external_ids` or `user_aliases` can be included in a single request. Should you want to specify `device_id`, `email_address` , or `phone`, only one of any identifier can be included per request.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/basics#rest-api-key/) with the `users.export.ids` permission.\n\n## Rate limit\n\nFor customers who onboarded with Braze on or after August 16, 2021, we apply a rate limit of 2,500 requests per minute to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `external_ids` | Optional | Array of strings | External identifiers for users you wish export. |\n| `user_aliases` | Optional | Array of user alias object | [User aliases](https://www.braze.com/docs/api/objects_filters/user_alias_object/) for users to export. |\n| `device_id` | Optional | String | Device identifier, as returned by various SDK methods such as `getDeviceId`. |\n| `braze_id` | Optional | String | Braze identifier for a particular user. |\n| `email_address` | Optional | String | Email address of user. |\n| `phone` | Optional | String in [E.164](https://en.wikipedia.org/wiki/E.164) format | Phone number of user. |\n| `fields_to_export` | Optional | Array of strings | Name of user data fields to export. Defaults to all if not provided. |\n\n## Fields to export\n\nThe following is a list of valid `fields_to_export`. Using `fields_to_export` to minimize the data returned can improve response time of this API endpoint:\n\n| Field to export | Data type | Description |\n| --- | --- | --- |\n| `apps` | Array | Apps this user has logged sessions for, which includes the fields:  <br>  <br>\\- `name`: app name  <br>\\- `platform`: app platform, such as iOS, Android, or Web  <br>\\- `version`: app version number or name  <br>\\- `sessions`: total number of sessions for this app  <br>\\- `first_used`: date of first session  <br>\\- `last_used`: date of last session  <br>  <br>All fields are strings. |\n| `attributed_campaign` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for a particular ad campaign. |\n| `attributed_source` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for the platform the ad was on. |\n| `attributed_adgroup` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for an optional sub-grouping below campaign. |\n| `attributed_ad` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for an optional sub-grouping below campaign and adgroup. |\n| `braze_id` | String | Device-specific unique user identifier set by Braze for this user. |\n| `country` | String | User's country using [ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) standard. |\n| `created_at` | String | Date and time for when the user profile was created, in ISO 8601 format. |\n| `custom_attributes` | Object | Custom attribute key-value pairs for this user. |\n| `custom_events` | Array | Custom events attributed to this user in the last 90 days. |\n| `devices` | Array | Information about the user's device, which could include the following depending on platform:  <br>  <br>\\- `model`: Device's model name  <br>\\- `os`: Device's operating system  <br>\\- `carrier`: Device's service carrier, if available  <br>\\- `idfv`: (iOS) Braze's device identifier, the Apple Identifier for Vendor, if exists  <br>\\- `idfa`: (iOS) Identifier for Advertising, if exists  <br>\\- `device_id`: (Android) Braze's device identifier  <br>\\- `google_ad_id`: (Android) Google Play Advertising Identifier, if exists  <br>\\- `roku_ad_id`: (Roku) Roku Advertising Identifier  <br>\\- `ad_tracking_enabled`: If ad tracking is enabled on the device, can be true or false |\n| `dob` | String | User's date of birth in the format `YYYY-MM-DD`. |\n| `email` | String | User's email address. |\n| `external_id` | String | Unique user identifier for identified users. |\n| `first_name` | String | User's first name. |\n| `gender` | String | User's gender. Possible values are:  <br>  <br>\\- `M`: male  <br>\\- `F`: female  <br>\\- `O`: other  <br>\\- `N`: not applicable  <br>\\- `P`: prefer not to say  <br>\\- `nil`: unknown |\n| `home_city` | String | User's home city. |\n| `language` | String | User's language in ISO-639-1 standard. |\n| `last_coordinates` | Array of floats | User's most recent device location, formatted as `[longitude, latitude]`. |\n| `last_name` | String | User's last name. |\n| `phone` | String | User's telephone number in E.164 format. |\n| `purchase`s | Array | Purchases this user has made in the last 90 days. |\n| `random_bucket` | Integer | User's [random bucket number](https:/www.braze.com/docs/user_guide/data_and_analytics/braze_currents/event_glossary/customer_behavior_events#random-bucket-number-event), used to create uniformly distributed segments of random users. |\n| `time_zone` | String | User's time zone in the same format as the IANA Time Zone Database. |\n| `total_revenue` | Float | Total revenue attributed to this user. Total revenue is calculated based on purchases the user made during conversion windows for the campaigns and Canvases they received. |\n| `uninstalled_at` | Timestamp | Date and time the user uninstalls the app. Omitted if the app has not been uninstalled. |\n| `user_aliases` | Object | [User aliases object](https:/www.braze.com/docs/api/objects_filters/user_alias_object#user-alias-object-specification) containing the `alias_name` and `alias_label`, if exists. |\n\nBe aware that the `/users/export/ids` endpoint will pull together the entire user profile for this user, including data such as all campaigns and Canvases received, all custom events performed, all purchases made, and all custom attributes. As a result, this endpoint is slower than other REST API endpoints.\n\nDepending on the data requested, this API endpoint may not be sufficient to meet your needs due to the 2,500 requests per minute rate limit. If you anticipate using this endpoint regularly to export users, instead consider exporting users by segment, which is asynchronous and more optimized for larger data pulls.\n\n### Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"users\" : (array of object) the data for each of the exported users, may be empty if no users are found,\n    \"invalid_user_ids\" : (optional, array of string) each of the identifiers provided in the request that did not correspond to a known user\n}\n\n ```\n\nFor an example of the data that is accessible via this endpoint see the following example.\n\n### Example user export file output\n\nUser export object (we will include the least data possible - if a field is missing from the object it should be assumed to be null, false, or empty):\n\n``` json\n{\n    \"created_at\": (string),\n    \"external_id\" : (string),\n    \"user_aliases\" : [\n      {\n        \"alias_name\" : (string),\n        \"alias_label\" : (string)\n      }\n    ],\n    \"braze_id\": (string),\n    \"first_name\" : (string),\n    \"last_name\" : (string),\n    \"email\" : (string),\n    \"dob\" : (string) date for the user's date of birth,\n    \"home_city\" : (string),\n    \"country\" : (string) ISO-3166-1 alpha-2 standard,\n    \"phone\" : (string),\n    \"language\" : (string) ISO-639-1 standard,\n    \"time_zone\" : (string),\n    \"last_coordinates\" : (array of float) [lon, lat],\n    \"gender\" : (string) \"M\" | \"F\",\n    \"total_revenue\" : (float),\n    \"attributed_campaign\" : (string),\n    \"attributed_source\" : (string),\n    \"attributed_adgroup\" : (string),\n    \"attributed_ad\" : (string),\n    \"push_subscribe\" : (string) \"opted_in\" | \"subscribed\" | \"unsubscribed\",\n    \"email_subscribe\" : (string) \"opted_in\" | \"subscribed\" | \"unsubscribed\",\n    \"custom_attributes\" : (object) custom attribute key-value pairs,\n    \"custom_events\" : [\n      {\n        \"name\" : (string),\n        \"first\" : (string) date,\n        \"last\" : (string) date,\n        \"count\" : (int)\n      },\n      ...\n    ],\n    \"purchases\" : [\n      {\n        \"name\" : (string),\n        \"first\" : (string) date,\n        \"last\" : (string) date,\n        \"count\" : (int)\n      },\n      ...\n    ],\n    \"devices\" : [\n      {\n        \"model\" : (string),\n        \"os\" : (string),\n        \"carrier\" : (string),\n        \"idfv\" : (string) only included for iOS devices when IDFV collection is enabled,\n        \"idfa\" : (string) only included for iOS devices when IDFA collection is enabled,\n        \"google_ad_id\" : (string) only included for Android devices when Google Play Advertising Identifier collection is enabled,\n        \"roku_ad_id\" : (string) only included for Roku devices,\n        \"ad_tracking_enabled\" : (bool)\n      },\n      ...\n    ],\n    \"push_tokens\" : [\n      {\n        \"app\" : (string) app name,\n        \"platform\" : (string),\n        \"token\" : (string)\n      },\n      ...\n    ],\n    \"apps\" : [\n      {\n        \"name\" : (string),\n        \"platform\" : (string),\n        \"version\" : (string),\n        \"sessions\" : (integer),\n        \"first_used\" : (string) date,\n        \"last_used\" : (string) date\n      },\n      ...\n    ],\n    \"campaigns_received\" : [\n      {\n        \"name\" : (string),\n        \"last_received\" : (string) date,\n        \"engaged\" : \n         {\n           \"opened_email\" : (bool),\n           \"opened_push\" : (bool),\n           \"clicked_email\" : (bool),\n           \"clicked_triggered_in_app_message\" : (bool)\n          },\n          \"converted\" : (bool),\n          \"api_campaign_id\" : (string),\n          \"variation_name\" : (optional, string) exists only if it is a multivariate campaign,\n          \"variation_api_id\" : (optional, string) exists only if it is a multivariate campaign,\n          \"in_control\" : (optional, bool) exists only if it is a multivariate campaign\n        },\n      ...\n    ],\n    \"canvases_received\": [\n      {\n        \"name\": (string),\n        \"api_canvas_id\": (string),\n        \"last_received_message\": (string) date,\n        \"last_entered\": (string) date,\n        \"variation_name\": (string),\n        \"in_control\": (bool),\n        \"last_exited\": (string) date,\n        \"steps_received\": [\n          {\n            \"name\": (string),\n            \"api_canvas_step_id\": (string),\n            \"last_received\": (string) date\n          },\n          {\n            \"name\": (string),\n            \"api_canvas_step_id\": (string),\n            \"last_received\": (string) date\n          },\n          {\n            \"name\": (string),\n            \"api_canvas_step_id\": (string),\n            \"last_received\": (string) date\n          }\n        ]\n      },\n      ...\n    ],\n    \"cards_clicked\" : [\n      {\n        \"name\" : (string)\n      },\n      ...\n    ]\n}\n\n ```\n\n#### Sample output\n\n``` json\n{\n    \"created_at\" : \"2020-07-10 15:00:00.000 UTC\",\n    \"external_id\" : \"A8i3mkd99\",\n    \"user_aliases\" : [\n      {\n        \"alias_name\" : \"user_123\",\n        \"alias_label\" : \"amplitude_id\"\n      }\n    ],\n    \"braze_id\": \"5fbd99bac125ca40511f2cb1\",\n    \"random_bucket\" : 2365,\n    \"first_name\" : \"Jane\",\n    \"last_name\" : \"Doe\",\n    \"email\" : \"example@braze.com\",\n    \"dob\" : \"1980-12-21\",\n    \"home_city\" : \"Chicago\",\n    \"country\" : \"US\",\n    \"phone\" : \"+442071838750\",\n    \"language\" : \"en\",\n    \"time_zone\" : \"Eastern Time (US & Canada)\",\n    \"last_coordinates\" : [41.84157636433568, -87.83520818508256],\n    \"gender\" : \"F\",\n    \"total_revenue\" : 65,\n    \"attributed_campaign\" : \"braze_test_campaign_072219\",\n    \"attributed_source\" : \"braze_test_source_072219\",\n    \"attributed_adgroup\" : \"braze_test_adgroup_072219\",\n    \"attributed_ad\" : \"braze_test_ad_072219\",\n    \"push_subscribe\" : \"opted_in\", \n    \"push_opted_in_at\": \"2020-01-26T22:45:53.953Z\",\n    \"email_subscribe\" : \"subscribed\",\n    \"custom_attributes\": \n    {\n      \"loyaltyId\": \"37c98b9d-9a7f-4b2f-a125-d873c5152856\",\n      \"loyaltyPoints\": \"321\",\n       \"loyaltyPointsNumber\": 107\n    },\n    \"custom_events\": [\n      {\n        \"name\": \"Loyalty Acknowledgement\",\n        \"first\": \"2021-06-28T17:02:43.032Z\",\n        \"last\": \"2021-06-28T17:02:43.032Z\",\n        \"count\": 1\n      },\n      ...\n    ],\n    \"purchases\": [\n      {\n        \"name\": \"item_40834\",\n        \"first\": \"2021-09-05T03:45:50.540Z\",\n        \"last\": \"2022-06-03T17:30:41.201Z\",\n        \"count\": 10\n      },\n      ...\n    ],\n    \"devices\": [\n      {\n        \"model\": \"Pixel XL\",\n        \"os\": \"Android (Q)\",\n        \"carrier\": null,\n        \"device_id\": \"312ef2c1-83db-4789-967-554545a1bf7a\",\n        \"ad_tracking_enabled\": true\n      },\n      ...\n    ],\n    \"push_tokens\": [\n      {\n        \"app\": \"MovieCanon\",\n        \"platform\": \"Android\",\n        \"token\": \"12345abcd\",\n        \"device_id\": \"312ef2c1-83db-4789-967-554545a1bf7a\",\n        \"notifications_enabled\": true\n      },\n      ...\n    ],\n    \"apps\": [\n      {\n        \"name\": \"MovieCannon\",\n        \"platform\": \"Android\",\n        \"version\": \"3.29.0\",\n        \"sessions\": 1129,\n        \"first_used\": \"2020-02-02T19:56:19.142Z\",\n        \"last_used\": \"2021-11-11T00:25:19.201Z\"\n      },\n      ...\n    ],\n    \"campaigns_received\": [\n      {\n        \"name\": \"Email Unsubscribe\",\n        \"api_campaign_id\": \"d72fdc84-ddda-44f1-a0d5-0e79f47ef942\",\n        \"last_received\": \"2022-06-02T03:07:38.105Z\",\n        \"engaged\": \n        {\n           \"opened_email\": true\n        },\n        \"converted\": true,\n        \"multiple_converted\": \n        {\n          \"Primary Conversion Event - A\": true\n        },\n        \"in_control\": false,\n        \"variation_name\": \"Variant 1\",\n        \"variation_api_id\": \"1bddc73a-a134-4784-9134-5b5574a9e0b8\"\n      },\n      ...\n    ],\n    \"canvases_received\": [\n      {\n        \"name\": \"Non Global  Holdout Group 4/21/21\",\n        \"api_canvas_id\": \"46972a9d-dc81-473f-aa03-e3473b4ed781\",\n        \"last_received_message\": \"2021-07-07T20:46:24.136Z\",\n        \"last_entered\": \"2021-07-07T20:45:24.000+00:00\",\n        \"variation_name\": \"Variant 1\",\n        \"in_control\": false,\n        \"last_entered_control_at\": null,\n        \"last_exited\": \"2021-07-07T20:46:24.136Z\",\n        \"steps_received\": [\n          {\n            \"name\": \"Step\",\n            \"api_canvas_step_id\": \"43d1a349-c3c8-4be1-9fbe-ce708e4d1c39\",\n            \"last_received\": \"2021-07-07T20:46:24.136Z\"\n          },\n          ...\n        ]\n      }\n      ...\n    ],    \n    \"cards_clicked\" : [\n      {\n        \"name\" : \"Loyalty Promo\"\n      },\n      ...\n    ]\n}\n\n ```\n\n> **Tip:** For help with CSV and API exports, visit [Export troubleshooting](https://www.braze.com/docs/user_guide/data_and_analytics/export_braze_data/export_troubleshooting/).",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "external_ids": ["user_identifier1", "user_identifier2"],
                  "user_aliases": [
                    {
                      "alias_name": "example_alias",
                      "alias_label": "example_label"
                    }
                  ],
                  "device_id": "1234567",
                  "braze_id": "braze_identifier",
                  "email_address": "example@braze.com",
                  "phone": "+11112223333",
                  "fields_to_export": ["first_name", "email", "purchases"]
                },
                "properties": {
                  "external_ids": {
                    "type": "array",
                    "items": { "type": "string" }
                  },
                  "user_aliases": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "alias_name": { "type": "string" },
                        "alias_label": { "type": "string" }
                      }
                    }
                  },
                  "device_id": { "type": "string" },
                  "braze_id": { "type": "string" },
                  "email_address": { "type": "string", "format": "email" },
                  "phone": { "type": "string" },
                  "fields_to_export": {
                    "type": "array",
                    "items": { "type": "string" }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/users/export/segment": {
      "post": {
        "tags": ["Export > User Data"],
        "summary": "Export user profile by segment",
        "description": "> Use this endpoint to export all the users within a segment. \n  \n\n| Important |\n| --- |\n| Beginning December 2021, the following changed for this API:  <br>  <br>1\\. The fields_to_export field in this API request is required. The option to default to all fields has been removed.  <br>2\\. The fields for custom_events, purchases, campaigns_received, and canvases_received only contain data from the last 90 days. |\n\nUser data is exported as multiple files of user JSON objects separated by new lines (such as one JSON object per line). Data is exported to an automatically generated URL, or to an S3 bucket if this integration is already set up. This endpoint is currently not supported by Google Cloud Storage.\n\nA company may run at most one export per segment using this endpoint at a given time. Wait for your export to complete before retrying.\n\nNote: If you are using our [older navigation](https://www.braze.com/docs/navigation), `segment_id` can be found at **Developer Console > API Settings**.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `users.export.segment` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Credential-based response details\n\nIf you have added your [S3](https://www.braze.com/docs/partners/data_and_infrastructure_agility/cloud_storage/amazon_s3), [Azure](https://www.braze.com/docs/partners/data_and_infrastructure_agility/cloud_storage/microsoft_azure_blob_storage_for_currents/), or [Google Cloud Storage](https://www.braze.com/docs/partners/data_and_infrastructure_agility/cloud_storage/google_cloud_storage_for_currents/) credentials to Braze, then each file will be uploaded in your bucket as a ZIP file with the key format that looks like `segment-export/SEGMENT_ID/YYYY-MM-dd/RANDOM_UUID-TIMESTAMP_WHEN_EXPORT_STARTED/filename.zip`. If using Azure, make sure that you have the **Make this the default data export destination** box checked in the Azure partner overview page in Braze. Generally, we will create 1 file per 5,000 users to optimize processing. Exporting smaller segments within a large workspace may result in multiple files. You can then extract the files and concatenate all of the `json` files to a single file if needed. If you specify an `output_format` of `gzip`, then the file extension will be `.gz` instead of `.zip`.\n\nWe strongly suggest setting up your own S3 or Azure credentials when using this endpoint to enforce your own bucket policies on the export. If you do not have your cloud storage credentials, the response to the request provides the URL where a ZIP file containing all the user files can be downloaded. The URL will only become a valid location after the export is ready.\n\n#### **Export pathing breakdown for ZIP**\n\n**ZIP format:** `bucket-name/segment-export/SEGMENT_ID/YYYY-MM-dd/RANDOM_UUID-TIMESTAMP_WHEN_EXPORT_STARTED/filename.zip`\n\n**Example ZIP:** `braze.docs.bucket/segment-export/abc56c0c-rd4a-pb0a-870pdf4db07q/2019-04-25/d9696570-dfb7-45ae-baa2-25e302r2da27-1556044807/114f0226319130e1a4770f2602b5639a.zip`\n\n| Property | Details | Shown in Example as |\n| --- | --- | --- |\n| `bucket-name` | `Fixed based on your bucket name.` | `braze.docs.bucket` |\n| `segment-export` | `Fixed.` | `segment-export` |\n| `SEGMENT_ID` | `Included in the export request.` | `abc56c0c-rd4a-pb0a-870pdf4db07q` |\n| `YYYY-MM-dd` | `The date the successful callback is received.` | `2019-04-25` |\n| `RANDOM_UUID` | `A random UUID generated by Braze at the time of the request.` | `d9696570-dfb7-45ae-baa2-25e302r2da27` |\n| `TIMESTAMP_WHEN_EXPORT_STARTED` | `Unix time (seconds since 2017-01-01:00:00:00Z) that the export was requested in UTC.` | `1556044807` |\n| `filename` | `Random per file.` | `114f0226319130e1a4770f2602b5639a` |\n\nBe aware that if you do not provide your cloud storage credentials, there is a limitation on the amount of data you can export from this endpoint. Depending on the fields you’re exporting and the number of users, the file transfer may fail if it is too large. A best practice is to specify which fields you want to export using `fields_to_export` and specify only the fields you need to keep the size of the transfer lower. If you are getting errors generating the file, consider breaking your user base into more segments based on a random bucket number (for example, create a segment where a random bucket number is less than 1,000 or between 1,000 and 2,000).\n\nIn either scenario, you may optionally provide a `callback_endpoint` to be notified when the export is ready. If the `callback_endpoint` is provided, we will make a post request to the provided address when the download is ready. The body of the post will be “success”:true. If you have not added S3 credentials to Braze, then the body of the post will additionally have the attribute `url` with the download URL as the value.\n\nLarger user bases will result in longer export times. For example, an app with 20 million users could take an hour or more.\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `segment_id` | Required | String | Identifier for the segment to be exported. See [segment identifier](https://www.braze.com/docs/api/identifier_types/).  <br>  <br>The `segment_id` for a given segment can be found on the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page within your Braze account or you can use the [Segment List Endpoint](https://www.braze.com/docs/api/endpoints/export/segments/get_segment/). |\n| `callback_endpoint` | Optional | String | Endpoint to post a download URL to when the export is available. |\n| `fields_to_export` | Required\\* | Array of strings | Name of user data fields to export, you may also export custom attributes.  <br>  <br>_\\*Beginning April 2021, new accounts must specify specific fields to export._ |\n| `custom_attributes_to_export` | Optional | Array of strings | Name of specific custom attribute to export. Up to 500 custom attributes can be exported. To create and manage custom attributes in the dashboard, go to **Data Settings** > **Custom Attributes**. |\n| `output_format` | Optional | String | When using your own S3 bucket, allows you to specify file format as `zip` or `gzip`. Defaults to ZIP file format. |\n\nIf `custom_attributes` is included in the `fields_to_export` parameter, all custom attributes are exported regardless of what is in `custom_attributes_to_export`. If your goal is to export specific attributes, `custom_attributes` should not be included in the `fields_to_export` parameter. Instead, use the `custom_attributes_to_export` parameter.\n\n### Fields to export\n\nThe following is a list of valid `fields_to_export`. Using `fields_to_export` to minimize the data returned can improve the response time of this API endpoint:\n\n| Field to export | Data type | Description |\n| --- | --- | --- |\n| `apps` | Array | Apps this user has logged sessions for, which includes the fields:  <br>  <br>\\- `name`: app name  <br>\\- `platform`: app platform, such as iOS, Android, or Web  <br>\\- `version`: app version number or name  <br>\\- `sessions`: total number of sessions for this app  <br>\\- `first_used`: date of first session  <br>\\- `last_used`: date of last session  <br>  <br>All fields are strings. |\n| `attributed_campaign` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for a particular ad campaign. |\n| `attributed_source` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for the platform the ad was on. |\n| `attributed_adgroup` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for an optional sub-grouping below campaign. |\n| `attributed_ad` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for an optional sub-grouping below campaign and adgroup. |\n| `braze_id` | String | Device-specific unique user identifier set by Braze for this user. |\n| `country` | String | User's country using [ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) standard. |\n| `created_at` | String | Date and time for when the user profile was created, in ISO 8601 format. |\n| `custom_attributes` | Object | Custom attribute key-value pairs for this user. |\n| `custom_events` | Array | Custom events attributed to this user in the last 90 days. |\n| `devices` | Array | Information about the user's device, which could include the following depending on platform:  <br>  <br>\\- `model`: Device's model name  <br>\\- `os`: Device's operating system  <br>\\- `carrier`: Device's service carrier, if available  <br>\\- `idfv`: (iOS) Braze's device identifier, the Apple Identifier for Vendor, if exists  <br>\\- `idfa`: (iOS) Identifier for Advertising, if exists  <br>\\- `device_id`: (Android) Braze's device identifier  <br>\\- `google_ad_id`: (Android) Google Play Advertising Identifier, if exists  <br>\\- `roku_ad_id`: (Roku) Roku Advertising Identifier  <br>\\- `ad_tracking_enabled`: If ad tracking is enabled on the device, can be true or false |\n| `dob` | String | User's date of birth in the format `YYYY-MM-DD`. |\n| `email` | String | User's email address. |\n| `external_id` | String | Unique user identifier for identified users. |\n| `first_name` | String | User's first name. |\n| `gender` | String | User's gender. Possible values are:  <br>  <br>\\- `M`: male  <br>\\- `F`: female  <br>\\- `O`: other  <br>\\- `N`: not applicable  <br>\\- `P`: prefer not to say  <br>\\- `nil`: unknown |\n| `home_city` | String | User's home city. |\n| `language` | String | User's language in ISO-639-1 standard. |\n| `last_coordinates` | Array of floats | User's most recent device location, formatted as `[longitude, latitude]`. |\n| `last_name` | String | User's last name. |\n| `phone` | String | User's telephone number in E.164 format. |\n| `purchases` | Array | Purchases this user has made in the last 90 days. |\n| `random_bucket` | Integer | User's [random bucket number](https:/www.braze.com/docs/user_guide/data_and_analytics/braze_currents/event_glossary/customer_behavior_events#random-bucket-number-event), used to create uniformly distributed segments of random users. |\n| `time_zone` | String | User's time zone in the same format as the IANA Time Zone Database. |\n| `total_revenue` | Float | Total revenue attributed to this user. Total revenue is calculated based on purchases the user made during conversion windows for the campaigns and Canvases they received. |\n| `uninstalled_at` | Timestamp | Date and time the user uninstalls the app. Omitted if the app has not been uninstalled. |\n| `user_aliases` | Object | [User aliases object](https:/www.braze.com/docs/api/objects_filters/user_alias_object#user-alias-object-specification) containing the `alias_name` and `alias_label`, if exists. |\n\n### Important reminders\n\n- The fields for `custom_events`, `purchases`, `campaigns_received`, and `canvases_received` will contain only contain data from the last 90 days.\n    \n- Both `custom_events` and `purchases` contain fields for `first` and `count`. Both of these fields will reflect information from all time, and will not be limited to just data from the last 90 days. For example, if a particular user first did the event prior to 90 days ago, this will be accurately reflected in the `first` field, and the `count` field will take into account events that occurred prior to the last 90 days as well.\n    \n- The number of concurrent segment exports a company can run at the endpoint level is capped at 100. Attempts that surpass this limit will result in an error.\n    \n- Attempting to export a segment a second time while the first export job is still running will result in a 429 error.\n    \n\n### Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"object_prefix\": (required, string) the filename prefix that will be used for the JSON file produced by this export, e.g. 'bb8e2a91-c4aa-478b-b3f2-a4ee91731ad1-1464728599',\n    \"url\" : (optional, string) the URL where the segment export data can be downloaded if you do not have your own S3 credentials\n}\n\n ```\n\nOnce made available, the URL will only be valid for a few hours. As such, we highly recommend that you add your own S3 credentials to Braze.\n\n### Example user export file output\n\nUser export object (we will include the least data possible - if a field is missing from the object it should be assumed to be null, false, or empty):\n\n``` json\n{\n    \"external_id\" : (string),\n    \"user_aliases\" : [\n      {\n        \"alias_name\" : (string),\n        \"alias_label\" : (string)\n      }\n    ],\n    \"braze_id\": (string),\n    \"first_name\" : (string),\n    \"last_name\" : (string),\n    \"email\" : (string),\n    \"dob\" : (string) date for the user's date of birth,\n    \"home_city\" : (string),\n    \"country\" : (string),\n    \"phone\" : (string),\n    \"language\" : (string) ISO-639 two letter code,\n    \"time_zone\" : (string),\n    \"last_coordinates\" : (array of float) [lon, lat],\n    \"gender\" : (string) \"M\" | \"F\",\n    \"total_revenue\" : (float),\n    \"attributed_campaign\" : (string),\n    \"attributed_source\" : (string),\n    \"attributed_adgroup\" : (string),\n    \"attributed_ad\" : (string),\n    \"push_subscribe\" : (string) \"opted_in\" | \"subscribed\" | \"unsubscribed\",\n    \"email_subscribe\" : (string) \"opted_in\" | \"subscribed\" | \"unsubscribed\",\n    \"custom_attributes\" : (object) custom attribute key value pairs,\n    \"custom_events\" : [\n        {\n            \"name\" : (string),\n            \"first\" : (string) date,\n            \"last\" : (string) date,\n            \"count\" : (int)\n        },\n        ...\n    ],\n    \"purchases\" : [\n        {\n            \"name\" : (string),\n            \"first\" : (string) date,\n            \"last\" : (string) date,\n            \"count\" : (int)\n        },\n        ...\n    ],\n    \"devices\" : [\n        {\n            \"model\" : (string),\n            \"os\" : (string),\n            \"carrier\" : (string),\n            \"idfv\" : (string) only included for iOS devices,\n            \"idfa\" : (string) only included for iOS devices when IDFA collection is enabled,\n            \"google_ad_id\" : (string) only included for Android devices when Google Play Advertising Identifier collection is enabled,\n            \"roku_ad_id\" : (string) only included for Roku devices,\n            \"windows_ad_id\" : (string) only included for Windows devices,\n            \"ad_tracking_enabled\" : (bool)\n        },\n        ...\n    ],\n    \"push_tokens\" : [\n        {\n            \"app\" : (string) app name,\n            \"platform\" : (string),\n            \"token\" : (string)\n        },\n        ...\n    ],\n    \"apps\" : [\n        {\n            \"name\" : (string),\n            \"platform\" : (string),\n            \"version\" : (string),\n            \"sessions\" : (string),\n            \"first_used\" : (string) date,\n            \"last_used\" : (string) date\n        },\n        ...\n    ],\n    \"campaigns_received\" : [\n        {\n            \"name\" : (string),\n            \"last_received\" : (string) date,\n            \"engaged\" : {\n                \"opened_email\" : (bool),\n                \"opened_push\" : (bool),\n                \"clicked_email\" : (bool),\n                \"clicked_in_app_message\" : (bool)\n            },\n            \"converted\" : (bool),\n            \"api_campaign_id\" : (string),\n            \"variation_name\" : (optional, string) exists only if it is a multivariate campaign,\n            \"variation_api_id\" : (optional, string) exists only if it is a multivariate campaign,\n            \"in_control\" : (optional, bool) exists only if it is a multivariate campaign\n        },\n        ...\n    ],\n    \"canvases_received\": [\n        {\n            \"name\": (string),\n            \"api_canvas_id\": (string),\n            \"last_received_message\": (string) date,\n            \"last_entered\": (string) date,\n            \"variation_name\": (string),\n            \"in_control\": (bool),\n            \"last_exited\": (string) date,\n            \"steps_received\": [\n                {\n                    \"name\": (string),\n                    \"api_canvas_step_id\": (string),\n                    \"last_received\": (string) date\n                },\n                {\n                    \"name\": (string),\n                    \"api_canvas_step_id\": (string),\n                    \"last_received\": (string) date\n                },\n                {\n                    \"name\": (string),\n                    \"api_canvas_step_id\": (string),\n                    \"last_received\": (string) date\n                }\n            ]\n        },\n        ...\n    ],\n    \"cards_clicked\" : [\n        {\n            \"name\" : (string)\n        },\n        ...\n    ]\n}\n\n ```\n\n#### **Sample output**\n\n``` json\n{\n    \"created_at\" : \"2020-07-10 15:00:00.000 UTC\",\n    \"external_id\" : \"A8i3mkd99\",\n    \"user_aliases\" : [\n      {\n        \"alias_name\" : \"user_123\",\n        \"alias_label\" : \"amplitude_id\"\n      }\n    ],\n    \"braze_id\": \"5fbd99bac125ca40511f2cb1\",\n    \"random_bucket\" : 2365,\n    \"first_name\" : \"Jane\",\n    \"last_name\" : \"Doe\",\n    \"email\" : \"example@braze.com\",\n    \"dob\" : \"1980-12-21\",\n    \"home_city\" : \"Chicago\",\n    \"country\" : \"US\",\n    \"phone\" : \"+442071838750\",\n    \"language\" : \"en\",\n    \"time_zone\" : \"Eastern Time (US & Canada)\",\n    \"last_coordinates\" : [41.84157636433568, -87.83520818508256],\n    \"gender\" : \"F\",\n    \"total_revenue\" : 65,\n    \"attributed_campaign\" : \"braze_test_campaign_072219\",\n    \"attributed_source\" : \"braze_test_source_072219\",\n    \"attributed_adgroup\" : \"braze_test_adgroup_072219\",\n    \"attributed_ad\" : \"braze_test_ad_072219\",\n    \"push_subscribe\" : \"opted_in\",\n    \"push_opted_in_at\": \"2020-01-26T22:45:53.953Z\",\n    \"email_subscribe\" : \"subscribed\",\n    \"custom_attributes\":\n    {\n      \"loyaltyId\": \"37c98b9d-9a7f-4b2f-a125-d873c5152856\",\n      \"loyaltyPoints\": \"321\",\n       \"loyaltyPointsNumber\": 107\n    },\n    \"custom_events\": [\n      {\n        \"name\": \"Loyalty Acknowledgement\",\n        \"first\": \"2021-06-28T17:02:43.032Z\",\n        \"last\": \"2021-06-28T17:02:43.032Z\",\n        \"count\": 1\n      },\n      ...\n    ],\n    \"purchases\": [\n      {\n        \"name\": \"item_40834\",\n        \"first\": \"2021-09-05T03:45:50.540Z\",\n        \"last\": \"2022-06-03T17:30:41.201Z\",\n        \"count\": 10\n      },\n      ...\n    ],\n    \"devices\": [\n      {\n        \"model\": \"Pixel XL\",\n        \"os\": \"Android (Q)\",\n        \"carrier\": null,\n        \"device_id\": \"312ef2c1-83db-4789-967-554545a1bf7a\",\n        \"ad_tracking_enabled\": true\n      },\n      ...\n    ],\n    \"push_tokens\": [\n      {\n        \"app\": \"MovieCanon\",\n        \"platform\": \"Android\",\n        \"token\": \"12345abcd\",\n        \"device_id\": \"312ef2c1-83db-4789-967-554545a1bf7a\",\n        \"notifications_enabled\": true\n      },\n      ...\n    ],\n    \"apps\": [\n      {\n        \"name\": \"MovieCannon\",\n        \"platform\": \"Android\",\n        \"version\": \"3.29.0\",\n        \"sessions\": 1129,\n        \"first_used\": \"2020-02-02T19:56:19.142Z\",\n        \"last_used\": \"2021-11-11T00:25:19.201Z\"\n      },\n      ...\n    ],\n    \"campaigns_received\": [\n      {\n        \"name\": \"Email Unsubscribe\",\n        \"api_campaign_id\": \"d72fdc84-ddda-44f1-a0d5-0e79f47ef942\",\n        \"last_received\": \"2022-06-02T03:07:38.105Z\",\n        \"engaged\":\n        {\n           \"opened_email\": true\n        },\n        \"converted\": true,\n        \"multiple_converted\":\n        {\n          \"Primary Conversion Event - A\": true\n        },\n        \"in_control\": false,\n        \"variation_name\": \"Variant 1\",\n        \"variation_api_id\": \"1bddc73a-a134-4784-9134-5b5574a9e0b8\"\n      },\n      ...\n    ],\n    \"canvases_received\": [\n      {\n        \"name\": \"Non Global  Holdout Group 4/21/21\",\n        \"api_canvas_id\": \"46972a9d-dc81-473f-aa03-e3473b4ed781\",\n        \"last_received_message\": \"2021-07-07T20:46:24.136Z\",\n        \"last_entered\": \"2021-07-07T20:45:24.000+00:00\",\n        \"variation_name\": \"Variant 1\",\n        \"in_control\": false,\n        \"last_entered_control_at\": null,\n        \"last_exited\": \"2021-07-07T20:46:24.136Z\",\n        \"steps_received\": [\n          {\n            \"name\": \"Step\",\n            \"api_canvas_step_id\": \"43d1a349-c3c8-4be1-9fbe-ce708e4d1c39\",\n            \"last_received\": \"2021-07-07T20:46:24.136Z\"\n          },\n          ...\n        ]\n      }\n      ...\n    ],\n    \"cards_clicked\" : [\n      {\n        \"name\" : \"Loyalty Promo\"\n      },\n      ...\n    ]\n}\n\n ```\n\n> Tip: For help with CSV and API exports, visit Export troubleshooting.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "segment_id": "segment_identifier",
                  "callback_endpoint": "example_endpoint",
                  "fields_to_export": ["first_name", "email", "purchases"],
                  "output_format": "zip"
                },
                "properties": {
                  "segment_id": { "type": "string" },
                  "callback_endpoint": { "type": "string" },
                  "fields_to_export": {
                    "type": "array",
                    "items": { "type": "string" }
                  },
                  "output_format": { "type": "string" }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/users/export/global_control_group": {
      "post": {
        "tags": ["Export > User Data"],
        "summary": "Export user profile by Global Control Group",
        "description": "> Use this endpoint to export all users within a Global Control Group. \n  \n\nUser data is exported as multiple files of user JSON objects separated by new lines (such as one JSON object per line).\n\n| Warning |\n| --- |\n| Individual custom attributes cannot be exported. However, all custom attributes can be exported by including `custom_attributes` in the `fields_to_export` array (for example, `[‘first_name’, ‘email’, ‘custom_attributes’]`). |\n\nTo use this endpoint, you’ll need to generate an API key with the `users.export.global_control_group` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](http://localhost:4000/docs/api/api_limits/).\n\n## Credential-based response details\n\nFor information regarding credentials-based response details, visit this [section](https://www.braze.com/docs/api/endpoints/export/user_data/post_users_global_control_group/#credentials-based-response-details) in the Braze API docs.\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `callback_endpoint` | Optional | String | Endpoint to post a download URL to when the export is available. |\n| `fields_to_export` | Required\\* | Array of strings | Name of user data fields to export, you may also export custom attributes.  <br>  <br>_\\*Beginning April 2021, new accounts must specify specific fields to export._ |\n| `output_format` | Optional | String | When using your own S3 bucket, allows to specify file format as `zip` or `gzip`. Defaults to ZIP file format. |\n\n## Fields to export\n\nThe following is a list of valid `fields_to_export`. Using `fields_to_export` to minimize the data returned can improve response time of this API endpoint:\n\n| Field to export | Data type | Description |\n| --- | --- | --- |\n| `apps` | Array | Apps this user has logged sessions for, which includes the fields:  <br>  <br>\\- `name`: app name  <br>\\- `platform`: app platform, such as iOS, Android, or Web  <br>\\- `version`: app version number or name  <br>\\- `sessions`: total number of sessions for this app  <br>\\- `first_used`: date of first session  <br>\\- `last_used`: date of last session  <br>  <br>All fields are strings. |\n| `attributed_campaign` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for a particular ad campaign. |\n| `attributed_source` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for the platform the ad was on. |\n| `attributed_adgroup` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for an optional sub-grouping below campaign. |\n| `attributed_ad` | String | Data from [attribution integrations](https:/www.braze.com/docs/partners/message_orchestration/attribution), if set up. Identifier for an optional sub-grouping below campaign and adgroup. |\n| `braze_id` | String | Device-specific unique user identifier set by Braze for this user. |\n| `country` | String | User's country using [ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) standard. |\n| `created_at` | String | Date and time for when the user profile was created, in ISO 8601 format. |\n| `custom_attributes` | Object | Custom attribute key-value pairs for this user. |\n| `custom_events` | Array | Custom events attributed to this user in the last 90 days. |\n| `devices` | Array | Information about the user's device, which could include the following depending on platform:  <br>  <br>\\- `model`: Device's model name  <br>\\- `os`: Device's operating system  <br>\\- `carrier`: Device's service carrier, if available  <br>\\- `idfv`: (iOS) Braze's device identifier, the Apple Identifier for Vendor, if exists  <br>\\- `idfa`: (iOS) Identifier for Advertising, if exists  <br>\\- `device_id`: (Android) Braze's device identifier  <br>\\- `google_ad_id`: (Android) Google Play Advertising Identifier, if exists  <br>\\- `roku_ad_id`: (Roku) Roku Advertising Identifier  <br>\\- `ad_tracking_enabled`: If ad tracking is enabled on the device, can be true or false |\n| `dob` | String | User's date of birth in the format `YYYY-MM-DD`. |\n| `email` | String | User's email address. |\n| `external_id` | String | Unique user identifier for identified users. |\n| `first_name` | String | User's first name. |\n| `gender` | String | User's gender. Possible values are:  <br>  <br>\\- `M`: male  <br>\\- `F`: female  <br>\\- `O`: other  <br>\\- `N`: not applicable  <br>\\- `P`: prefer not to say  <br>\\- `nil`: unknown |\n| `home_city` | String | User's home city. |\n| `language` | String | User's language in ISO-639-1 standard. |\n| `last_coordinates` | Array of floats | User's most recent device location, formatted as `[longitude, latitude]`. |\n| `last_name` | String | User's last name. |\n| `phone` | String | User's telephone number in E.164 format. |\n| `purchase`s | Array | Purchases this user has made in the last 90 days. |\n| `random_bucket` | Integer | User's [random bucket number](https:/www.braze.com/docs/user_guide/data_and_analytics/braze_currents/event_glossary/customer_behavior_events#random-bucket-number-event), used to create uniformly distributed segments of random users. |\n| `time_zone` | String | User's time zone in the same format as the IANA Time Zone Database. |\n| `total_revenue` | Float | Total revenue attributed to this user. Total revenue is calculated based on purchases the user made during conversion windows for the campaigns and Canvases they received. |\n| `uninstalled_at` | Timestamp | Date and time the user uninstalls the app. Omitted if the app has not been uninstalled. |\n| `user_aliases` | Object | [User aliases object](https:/www.braze.com/docs/api/objects_filters/user_alias_object#user-alias-object-specification) containing the `alias_name` and `alias_label`, if exists. |\n\n## Response\n\n```\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n    \"message\": (required, string) the status of the export, returns 'success' when completed without errors,\n    \"object_prefix\": (required, string) the filename prefix that will be used for the JSON file produced by this export, e.g.,'bb8e2a91-c4aa-478b-b3f2-a4ee91731ad1-1464728599',\n    \"url\" : (optional, string) the URL where the segment export data can be downloaded if you do not have your own S3 credentials\n}\n\n ```\n\nOnce made available, the URL will only be valid for a few hours. As such, we highly recommend that you add your own S3 credentials to Braze.\n\n### Sample user export file output\n\nUser export object (we will include the least data possible - if a field is missing from the object it should be assumed to be null, false, or empty):\n\n``` json\n{\n    \"created_at\" : (string),\n    \"external_id\" : (string),\n    \"user_aliases\" : [\n      {\n        \"alias_name\" : (string),\n        \"alias_label\" : (string)\n      }\n    ],\n    \"braze_id\": (string),\n    \"first_name\" : (string),\n    \"last_name\" : (string),\n    \"email\" : (string),\n    \"dob\" : (string) date for the user's date of birth,\n    \"home_city\" : (string),\n    \"country\" : (string) ISO-3166-1 alpha-2 standard,\n    \"phone\" : (string),\n    \"language\" : (string) ISO-639-1 standard,\n    \"time_zone\" : (string),\n    \"last_coordinates\" : (array of float) [lon, lat],\n    \"gender\" : (string) \"M\" | \"F\",\n    \"total_revenue\" : (float),\n    \"attributed_campaign\" : (string),\n    \"attributed_source\" : (string),\n    \"attributed_adgroup\" : (string),\n    \"attributed_ad\" : (string),\n    \"custom_attributes\" : (object) custom attribute key-value pairs,\n    \"custom_events\" : [\n      {\n        \"name\" : (string),\n        \"first\" : (string) date,\n        \"last\" : (string) date,\n        \"count\" : (int)\n      },\n      ...\n    ],\n    \"purchases\" : [\n      {\n        \"name\" : (string),\n        \"first\" : (string) date,\n        \"last\" : (string) date,\n         \"count\" : (int)\n      },\n      ...\n    ],\n    \"devices\" : [\n      {\n        \"model\" : (string),\n        \"os\" : (string),\n        \"carrier\" : (string),\n        \"idfv\" : (string) only included for iOS devices when IDFV collection is enabled,\n        \"idfa\" : (string) only included for iOS devices when IDFA collection is enabled,\n        \"google_ad_id\" : (string) only included for Android devices when Google Play Advertising Identifier collection is enabled,\n        \"roku_ad_id\" : (string) only included for Roku devices,\n        \"ad_tracking_enabled\" : (bool)\n      },\n      ...\n    ],\n    \"apps\" : [\n      {\n        \"name\" : (string),\n        \"platform\" : (string),\n        \"version\" : (string),\n        \"sessions\" : (string),\n        \"first_used\" : (string) date,\n        \"last_used\" : (string) date\n      },\n      ...\n    ],\n}\n\n ```\n\n### Sample output\n\n``` json\n{\n{\n    \"created_at\" : \"2020-07-10 15:00:00.000 UTC\",\n    \"external_id\" : \"A8i3mkd99\",\n    \"user_aliases\" : [\n      {\n        \"alias_name\" : \"user_123\",\n        \"alias_label\" : \"amplitude_id\"\n      }\n    ],\n    \"braze_id\": \"5fbd99bac125ca40511f2cb1\",\n    \"random_bucket\" : 2365,\n    \"first_name\" : \"Jane\",\n    \"last_name\" : \"Doe\",\n    \"email\" : \"example@braze.com\",\n    \"dob\" : \"1980-12-21\",\n    \"home_city\" : \"Chicago\",\n    \"country\" : \"US\",\n    \"phone\" : \"+442071838750\",\n    \"language\" : \"en\",\n    \"time_zone\" : \"Eastern Time (US & Canada)\",\n    \"last_coordinates\" : [41.84157636433568, -87.83520818508256],\n    \"gender\" : \"F\",\n    \"total_revenue\" : 65,\n    \"attributed_campaign\" : \"braze_test_campaign_072219\",\n    \"attributed_source\" : \"braze_test_source_072219\",\n    \"attributed_adgroup\" : \"braze_test_adgroup_072219\",\n    \"attributed_ad\" : \"braze_test_ad_072219\",\n    \"custom_attributes\": \n      {\n        \"loyaltyId\": \"37c98b9d-9a7f-4b2f-a125-d873c5152856\",\n        \"loyaltyPoints\": \"321\",\n        \"loyaltyPointsNumber\": 107\n      },\n    \"custom_events\": [\n      {\n          \"name\": \"Loyalty Acknowledgement\",\n          \"first\": \"2021-06-28T17:02:43.032Z\",\n          \"last\": \"2021-06-28T17:02:43.032Z\",\n          \"count\": 1\n      },\n      ...\n    ],\n    \"purchases\": [\n      {\n        \"name\": \"item_40834\",\n        \"first\": \"2021-09-05T03:45:50.540Z\",\n        \"last\": \"2022-06-03T17:30:41.201Z\",\n        \"count\": 10\n      },\n      ...\n    ],\n    \"devices\": [\n      {\n        \"model\": \"Pixel XL\",\n        \"os\": \"Android (Q)\",\n        \"carrier\": null,\n        \"device_id\": \"312ef2c1-83db-4789-967-554545a1bf7a\",\n        \"ad_tracking_enabled\": true\n      },\n      ...\n    ],\n    \"apps\": [\n      {\n        \"name\": \"MovieCannon\",\n        \"platform\": \"Android\",\n        \"version\": \"3.29.0\",\n        \"sessions\": 1129,\n        \"first_used\": \"2020-02-02T19:56:19.142Z\",\n        \"last_used\": \"2021-11-11T00:25:19.201Z\"\n      },\n      ...\n    ],\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "callback_endpoint": "",
                  "fields_to_export": ["email", "braze_id"],
                  "output_format": "zip"
                },
                "properties": {
                  "callback_endpoint": { "type": "string" },
                  "fields_to_export": {
                    "type": "array",
                    "items": { "type": "string" }
                  },
                  "output_format": { "type": "string" }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/messages/live_activity/update": {
      "post": {
        "tags": ["Messages > Live Activities"],
        "summary": "Update Live Activity",
        "description": "> Use this endpoint to update and end [Live Activities](https://www.braze.com/docs/developer_guide/platform_integration_guides/swift/live_activities/live_activities/) displayed by your iOS app. This endpoint requires additional setup. \n  \n\nAfter you register a Live Activity, you can pass a JSON payload to update your Apple Push Notification service (APNs). See Apple’s documentation on [updating your Live Activity with push notification payloads](https://developer.apple.com/documentation/activitykit/updating-and-ending-your-live-activity-with-activitykit-push-notifications) for more information.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need to complete the following:\n\n- Generate an API key with the `messages.live_activity.update` permission.\n    \n- Register a Live Activity [remotely](https://www.braze.com/docs/developer_guide/platform_integration_guides/swift/live_activities/live_activities/?tab=remote#step-2-start-the-activity) or [locally](https://www.braze.com/docs/developer_guide/platform_integration_guides/swift/live_activities/live_activities/?tab=local#step-2-start-the-activity) using the Braze Swift SDK.\n    \n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `app_id` | Required | String | App [API identifier](https://www.braze.com/docs/api/identifier_types/#the-app-identifier) retrieved from the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page. |\n| `activity_id` | Required | String | When you register your Live Activity using [<code>launchActivity</code>](https://braze-inc.github.io/braze-swift-sdk/documentation/brazekit/braze/liveactivities-swift.class), you use the `pushTokenTag` parameter to name the Activity's push token to a custom string.  <br>  <br>Set `activity_id` to this custom string to define which Live Activity you want to update. |\n| `content_state` | Required | Object | You define the `ContentState` parameters when you create your Live Activity. Pass the updated values for your `ContentState` using this object.  <br>  <br>The format of this request must match the shape you initially defined. |\n| `end_activity` | Optional | Boolean | If `true`, this request ends the Live Activity. |\n| `dismissal_date` | Optional | Datetime  <br>([ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) string) | This parameter defines the time to remove the Live Activity from the user's UI. If this time is in the past, the Live Activity will be removed immediately. |\n| `stale_date` | Optional | Datetime  <br>([ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) string) | This parameter tells the system when the Live Activity content is marked as outdated in the user's UI. |\n| `notification` | Optional | Object | Include an [<code>apple_push</code>](https://www.braze.com/docs/api/objects_filters/messaging/apple_object/) object to define a push notification. This behavior of this push notification depends on if the user is active or if the user is using a proxy device. {::nomarkdown}  <br>  <br>  <br>  <br>  <br>  <br>\\- If a `notification` is included and the user is active on their iPhone when the update is delivered, the updated Live Activity UI will slide down and display like a push notification.  <br>\\- If a `notification` is included and the user is not active on their iPhone, their screen will light up to display the updated Live Activity UI on their lock screen.  <br>\\- The `notification alert` will not display as a standard push notification. Additionally, if a user has a proxy device, like an Apple Watch, the `alert` will be displayed there. |\n\n## Response\n\nThere are two status code responses for this endpoint: `201` and `4XX`.\n\n### Example success response\n\nA `201` status code is returned if the request was formatted correctly and we received the request. The status code `201` could return the following response body.\n\n``` json\n{\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe `4XX` class of status code indicates a client error. Refer to the [API errors and responses article](https://www.braze.com/docs/api/errors/) for more information about errors you may encounter.\n\nThe status code `400` could return the following response body.\n\n``` json\n{\n    \"error\": \"\\nProblem:\\n  message body does not match declared format\\nResolution:\\n  when specifying application/json as content-type, you must pass valid application/json in the request's 'body' \"\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "app_id": "{YOUR-APP-API-IDENTIFIER}",
                  "activity_id": "live-activity-1",
                  "content_state": { "teamOneScore": 2, "teamTwoScore": 4 },
                  "end_activity": false,
                  "dismissal_date": "2023-02-28T00:00:00+0000",
                  "stale_date": "2023-02-27T16:55:49+0000",
                  "notification": {
                    "alert": {
                      "body": "It's halftime! Let's look at the scores",
                      "title": "Halftime"
                    }
                  }
                },
                "properties": {
                  "app_id": { "type": "string" },
                  "activity_id": { "type": "string" },
                  "content_state": {
                    "type": "object",
                    "properties": {
                      "teamOneScore": { "type": "integer" },
                      "teamTwoScore": { "type": "integer" }
                    }
                  },
                  "end_activity": { "type": "boolean" },
                  "dismissal_date": { "type": "string", "format": "date-time" },
                  "stale_date": { "type": "string", "format": "date-time" },
                  "notification": {
                    "type": "object",
                    "properties": {
                      "alert": {
                        "type": "object",
                        "properties": {
                          "body": { "type": "string" },
                          "title": { "type": "string" }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/messages/scheduled_broadcasts": {
      "get": {
        "tags": ["Messages > Schedule Mesages"],
        "summary": "List upcoming scheduled campaigns and Canvases",
        "description": "> Use this endpoint to return a JSON list of information about scheduled campaigns and entry Canvases between now and a designated `end_time` specified in the request. \n  \n\nDaily, recurring messages will only appear once with their next occurrence. Results returned in this endpoint include campaigns and Canvases created and scheduled in the Braze dashboard.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `messages.schedule_broadcasts` permission.\n\n### Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"scheduled_broadcasts\": [\n    {\n      \"name\" (string) the name of the scheduled broadcast,\n      \"id\" (stings) the Canvas or campaign identifier,\n      \"type\" (string) the broadcast type either Canvas or Campaign,\n      \"tags\" (array) an array of tag names formatted as strings,\n      \"next_send_time\" (string) The next send time formatted in ISO 8601, may also include time zone if not local/intelligent delivery,\n      \"schedule_type\" (string) The schedule type, either local_time_zones, intelligent_delivery or the name of your company's time zone,\n    },\n  ]\n}\n\n ```",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "end_time",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format\n\nEnd date of the range to retrieve upcoming scheduled Campaigns and Canvases. This is treated as midnight in UTC time by the API.",
            "example": "2018-09-01T00:00:00-04:00"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/messages/schedule/delete": {
      "post": {
        "tags": ["Messages > Schedule Mesages"],
        "summary": "Delete scheduled messages",
        "description": "> Use this endpoint to cancel a message that you previously scheduled before it has been sent. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `messages.schedule.delete` permission.\n\n### Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n### Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `schedule_id` | Required | String | The schedule_id to delete (obtained from the response to create schedule). |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": { "schedule_id": "schedule_identifier" },
                "properties": { "schedule_id": { "type": "string" } }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/canvas/trigger/schedule/delete": {
      "post": {
        "tags": ["Messages > Schedule Mesages"],
        "summary": "Delete scheduled API-triggered Canvases",
        "description": "> Use this endpoint to cancel a Canvas message that you previously scheduled via API-triggered before it has been sent. \n  \n\nScheduled messages or triggers that are deleted very close to or during the time they were supposed to be sent will be updated with best efforts, so last-second deletions could be applied to all, some, or none of your targeted users.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `canvas.trigger.schedule.delete` permission.\n\n### Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `canvas_id` | Required | String | See [Canvas identifier](https://braze.com/docs/api/identifier_types/). |\n| `schedule_id` | Required | String | The `schedule_id` to delete (obtained from the response to create schedule). |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "canvas_id": "canvas_identifier",
                  "schedule_id": "schedule_identifier"
                },
                "properties": {
                  "canvas_id": { "type": "string" },
                  "schedule_id": { "type": "string" }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/campaigns/trigger/schedule/delete": {
      "post": {
        "tags": ["Messages > Schedule Mesages"],
        "summary": "Delete scheduled API-triggered campaigns",
        "description": "> The delete schedule endpoint allows you to cancel a message that you previously scheduled API-triggered Canvases before it has been sent. \n  \n\nScheduled messages or triggers that are deleted very close to or during the time they were supposed to be sent will be updated with best efforts, so last-second deletions could be applied to all, some, or none of your targeted users.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need to generate an API key with the `campaigns.trigger.schedule.delete` permission.\n\n### Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n### Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `campaign_id` | Required | String | See [campaign identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `schedule_id` | Required | String | The `schedule_id` to delete (obtained from the response to create schedule). |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "campaign_id": "campaign_identifier",
                  "schedule_id": "schedule_identifier"
                },
                "properties": {
                  "campaign_id": { "type": "string" },
                  "schedule_id": { "type": "string" }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/messages/schedule/create": {
      "post": {
        "tags": ["Messages > Schedule Mesages"],
        "summary": "Create scheduled messages",
        "description": "> Use this endpoint to schedule a campaign, Canvas, or other message to be sent at a designated time and provides you with an identifier to reference that message for updates. \n  \n\nIf you are targeting a segment, a record of your request will be stored in the [Developer Console](https://dashboard.braze.com/app_settings/developer_console/activitylog/) after all scheduled messages have been sent.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `messages.schedule.create` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\nBraze endpoints support [batching API requests](https://www.braze.com/docs/api/api_limits/#batching-api-requests). A single request to the messaging endpoints can reach any of the following:\n\n- Up to 50 specific external_ids, each with individual message parameters\n- A segment of any size created in the Braze dashboard, specified by its `segment_id`\n- An ad-hoc audience segment of any size, defined in the request as a [Connected Audience](https://www.braze.com/docs/api/objects_filters/connected_audience/) object\n    \n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `broadcast` | Optional | Boolean | See [broadcast](https://www.braze.com/docs/api/parameters/#broadcast). This parameter defaults to false (as of August 31, 2017).  <br>  <br>If `recipients` is omitted, `broadcast` must be set to true. However, use caution when setting `broadcast: true`, as unintentionally setting this flag may cause you to send your message to a larger than expected audience. |\n| `external_user_ids` | Optional | Array of strings | See [external user identifier](https://www.braze.com/docs/api/parameters/#external-user-id). |\n| `user_aliases` | Optional | Array of user alias objects | See [user alias object](https://www.braze.com/docs/api/objects_filters/user_alias_object/). |\n| `audience` | Optional | Connected audience object | See [connected audience](https://www.braze.com/docs/api/objects_filters/connected_audience/). |\n| `segment_id` | Optional | String | See [segment identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `campaign_id` | Required | String | See [campaign identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `recipients` | Optional | Array of recipients objects | See [recipients object](https://www.braze.com/docs/api/objects_filters/recipient_object/). |\n| `send_id` | Optional | String | See [send identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `override_messaging_limits` | Optional | Boolean | Ignore global rate limits for campaigns, defaults to false |\n| `recipient_subscription_state` | Optional | String | Use this to send messages to only users who have opted in (`opted_in`), only users who have subscribed or are opted in (`subscribed`) or to all users, including unsubscribed users (`all`).  <br>  <br>Using `all` users is useful for transactional email messaging. Defaults to `subscribed`. |\n| `schedule` | Required | Schedule object | See [schedule object](https://www.braze.com/docs/api/objects_filters/schedule_object/) |\n| `messages` | Optional | Messaging object | See available [messaging objects](https://www.braze.com/docs/api/objects_filters/#messaging-objects). |\n\n## Response\n\n### Example success response\n\n``` json\n{\n    \"dispatch_id\": (string) the dispatch identifier,\n    \"schedule_id\": (string) the schedule identifier,\n    \"message\": \"success\"\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "broadcast": false,
                  "external_user_ids": "external_user_identifiers",
                  "user_aliases": {
                    "alias_name": "example_name",
                    "alias_label": "example_label"
                  },
                  "segment_id": "segment_identifiers",
                  "audience": {
                    "AND": [
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "eye_color",
                          "comparison": "equals",
                          "value": "blue"
                        }
                      },
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "favorite_foods",
                          "comparison": "includes_value",
                          "value": "pizza"
                        }
                      },
                      {
                        "OR": [
                          {
                            "custom_attribute": {
                              "custom_attribute_name": "last_purchase_time",
                              "comparison": "less_than_x_days_ago",
                              "value": 2
                            }
                          },
                          {
                            "push_subscription_status": {
                              "comparison": "is",
                              "value": "opted_in"
                            }
                          }
                        ]
                      },
                      {
                        "email_subscription_status": {
                          "comparison": "is_not",
                          "value": "subscribed"
                        }
                      },
                      {
                        "last_used_app": {
                          "comparison": "after",
                          "value": "2019-07-22T13:17:55+0000"
                        }
                      }
                    ]
                  },
                  "campaign_id": "campaign_identifier",
                  "send_id": "send_identifier",
                  "override_messaging_limits": false,
                  "recipient_subscription_state": "subscribed",
                  "schedule": {
                    "time": "",
                    "in_local_time": true,
                    "at_optimal_time": true
                  },
                  "messages": {
                    "apple_push": {},
                    "android_push": {},
                    "windows_push": {},
                    "windows8_push": {},
                    "kindle_push": {},
                    "web_push": {},
                    "email": {},
                    "webhook": {},
                    "content_card": {}
                  }
                },
                "properties": {
                  "broadcast": { "type": "boolean" },
                  "external_user_ids": { "type": "string" },
                  "user_aliases": {
                    "type": "object",
                    "properties": {
                      "alias_name": { "type": "string" },
                      "alias_label": { "type": "string" }
                    }
                  },
                  "segment_id": { "type": "string" },
                  "audience": {
                    "type": "object",
                    "properties": {
                      "AND": { "type": "array", "items": { "type": "object" } }
                    }
                  },
                  "campaign_id": { "type": "string" },
                  "send_id": { "type": "string" },
                  "override_messaging_limits": { "type": "boolean" },
                  "recipient_subscription_state": { "type": "string" },
                  "schedule": {
                    "type": "object",
                    "properties": {
                      "time": { "type": "string" },
                      "in_local_time": { "type": "boolean" },
                      "at_optimal_time": { "type": "boolean" }
                    }
                  },
                  "messages": {
                    "type": "object",
                    "properties": {
                      "apple_push": { "type": "object" },
                      "android_push": { "type": "object" },
                      "windows_push": { "type": "object" },
                      "windows8_push": { "type": "object" },
                      "kindle_push": { "type": "object" },
                      "web_push": { "type": "object" },
                      "email": { "type": "object" },
                      "webhook": { "type": "object" },
                      "content_card": { "type": "object" }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/campaigns/trigger/schedule/create": {
      "post": {
        "tags": ["Messages > Schedule Mesages"],
        "summary": "Schedule API-triggered campaigns",
        "description": "> Use this endpoint to send dashboard created campaign messages via API-triggered delivery, allowing you to decide what action should trigger the message to be sent. \n  \n\nYou can pass in `trigger_properties` that will be templated into the message itself.\n\nNote that to send messages with this endpoint, you must have a [Campaign ID](https://www.braze.com/docs/api/identifier_types/), created when you build an [API-Triggered Campaign](https://www.braze.com/docs/api/api_campaigns/).\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `campaigns.trigger.schedule.create` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\nBraze endpoints support [batching API requests](https://www.braze.com/docs/api/api_limits/#batching-api-requests). A single request to the messaging endpoints can reach any of the following:\n\n- Up to 50 specific external_ids, each with individual message parameters\n- A segment of any size created in the Braze dashboard, specified by its `segment_id`\n- An ad-hoc audience segment of any size, defined in the request as a [Connected Audience](https://www.braze.com/docs/api/objects_filters/connected_audience/) object\n    \n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `campaign_id` | Required | String | See [campaign identifier](https://www.braze.com/docs/api/identifier_types/) |\n| `send_id` | Optional | String | See [send identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `recipients` | Optional | Array of recipient objects | See [recipients object](https://www.braze.com/docs/api/objects_filters/recipient_object/). |\n| `audience` | Optional | Connected audience object | See [connected audience](https://www.braze.com/docs/api/objects_filters/connected_audience/). |\n| `broadcast` | Optional | Boolean | See [broadcast](https://www.braze.com/docs/api/parameters/#broadcast). This parameter defaults to false (as of August 31, 2017).  <br>  <br>If `recipients` is omitted, `broadcast` must be set to true. However, use caution when setting `broadcast: true`, as unintentionally setting this flag may cause you to send your message to a larger than expected audience. |\n| `trigger_properties` | Optional | Object | Personalization key-value pairs for all users in this send. See [trigger properties](https://www.braze.com/docs/api/objects_filters/trigger_properties_object/). |\n| `schedule` | Required | Schedule object | See [schedule object](https://www.braze.com/docs/api/objects_filters/schedule_object/). |\n\n## Response\n\n### Example success response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-API-KEY-HERE\n{\n{\n    \"dispatch_id\": \"dispatch_identifier\",\n    \"schedule_id\": \"schedule_identifier\",\n    \"message\": \"success\"\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "campaign_id": "campaign_identifier",
                  "send_id": "send_identifier",
                  "recipients": [
                    {
                      "user_alias": "example_alias",
                      "external_user_id": "external_user_identifier",
                      "trigger_properties": {}
                    }
                  ],
                  "audience": {
                    "AND": [
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "eye_color",
                          "comparison": "equals",
                          "value": "blue"
                        }
                      },
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "favorite_foods",
                          "comparison": "includes_value",
                          "value": "pizza"
                        }
                      },
                      {
                        "OR": [
                          {
                            "custom_attribute": {
                              "custom_attribute_name": "last_purchase_time",
                              "comparison": "less_than_x_days_ago",
                              "value": 2
                            }
                          },
                          {
                            "push_subscription_status": {
                              "comparison": "is",
                              "value": "opted_in"
                            }
                          }
                        ]
                      },
                      {
                        "email_subscription_status": {
                          "comparison": "is_not",
                          "value": "subscribed"
                        }
                      },
                      {
                        "last_used_app": {
                          "comparison": "after",
                          "value": "2019-07-22T13:17:55+0000"
                        }
                      }
                    ]
                  },
                  "broadcast": false,
                  "trigger_properties": {},
                  "schedule": {
                    "time": "",
                    "in_local_time": false,
                    "at_optimal_time": false
                  }
                },
                "properties": {
                  "campaign_id": { "type": "string" },
                  "send_id": { "type": "string" },
                  "recipients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "user_alias": { "type": "string" },
                        "external_user_id": { "type": "string" },
                        "trigger_properties": { "type": "object" }
                      }
                    }
                  },
                  "audience": {
                    "type": "object",
                    "properties": {
                      "AND": { "type": "array", "items": { "type": "object" } }
                    }
                  },
                  "broadcast": { "type": "boolean" },
                  "trigger_properties": { "type": "object" },
                  "schedule": {
                    "type": "object",
                    "properties": {
                      "time": { "type": "string" },
                      "in_local_time": { "type": "boolean" },
                      "at_optimal_time": { "type": "boolean" }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/canvas/trigger/schedule/create": {
      "post": {
        "tags": ["Messages > Schedule Mesages"],
        "summary": "Schedule API-triggered Canvases",
        "description": "> Use this endpoint to schedule Canvas messages via API-triggered delivery, allowing you to decide what action should trigger the message to be sent. \n  \n\nYou can pass in `canvas_entry_properties` that will be templated into the messages sent by the first steps of the Canvas.\n\nNote that to send messages with this endpoint, you must have a [Canvas ID](https://www.braze.com/docs/api/identifier_types/#canvas-api-identifier) created when you build a Canvas.\n\n### Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `canvas.trigger.schedule.create` permission.\n\n### Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\nBraze endpoints support [batching API requests](https://www.braze.com/docs/api/api_limits/#batching-api-requests). A single request to the messaging endpoints can reach any of the following:\n\n- Up to 50 specific external_ids, each with individual message parameters\n- A segment of any size created in the Braze dashboard, specified by its `segment_id`\n- An ad-hoc audience segment of any size, defined in the request as a [Connected Audience](https://www.braze.com/docs/api/objects_filters/connected_audience/) object\n    \n\n### Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `canvas_id` | Required | String | See [Canvas identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `send_id` | Optional | String | See [send identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `recipients` | Optional | Array of recipient objects | See [recipients object](https://www.braze.com/docs/api/objects_filters/recipient_object/). |\n| `audience` | Optional | Connected audience object | See [connected audience](https://www.braze.com/docs/api/objects_filters/connected_audience/). |\n| `broadcast` | Optional | Boolean | See [broadcast](https://www.braze.com/docs/api/parameters/#broadcast). This parameter defaults to false (as of August 31, 2017).  <br>  <br>If `recipients` is omitted, `broadcast` must be set to true. However, use caution when setting `broadcast: true`, as unintentionally setting this flag may cause you to send your message to a larger than expected audience. |\n| `trigger_properties` | Optional | Object | Personalization key-value pairs for all users in this send. See [trigger properties](https://www.braze.com/docs/api/objects_filters/trigger_properties_object/). |\n| `schedule` | Required | Schedule object | See [schedule object](https://www.braze.com/docs/api/objects_filters/schedule_object/). |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "canvas_id": "canvas_identifier",
                  "recipients": [
                    {
                      "user_alias": "example_alias",
                      "external_user_id": "external_user_identifier",
                      "trigger_properties": {},
                      "canvas_entry_properties": {}
                    }
                  ],
                  "audience": {
                    "AND": [
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "eye_color",
                          "comparison": "equals",
                          "value": "blue"
                        }
                      },
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "favorite_foods",
                          "comparison": "includes_value",
                          "value": "pizza"
                        }
                      },
                      {
                        "OR": [
                          {
                            "custom_attribute": {
                              "custom_attribute_name": "last_purchase_time",
                              "comparison": "less_than_x_days_ago",
                              "value": 2
                            }
                          },
                          {
                            "push_subscription_status": {
                              "comparison": "is",
                              "value": "opted_in"
                            }
                          }
                        ]
                      },
                      {
                        "email_subscription_status": {
                          "comparison": "is_not",
                          "value": "subscribed"
                        }
                      },
                      {
                        "last_used_app": {
                          "comparison": "after",
                          "value": "2019-07-22T13:17:55+0000"
                        }
                      }
                    ]
                  },
                  "broadcast": false,
                  "canvas_entry_properties": {},
                  "schedule": {
                    "time": "",
                    "in_local_time": false,
                    "at_optimal_time": false
                  }
                },
                "properties": {
                  "canvas_id": { "type": "string" },
                  "recipients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "user_alias": { "type": "string" },
                        "external_user_id": { "type": "string" },
                        "trigger_properties": { "type": "object" },
                        "canvas_entry_properties": { "type": "object" }
                      }
                    }
                  },
                  "audience": {
                    "type": "object",
                    "properties": {
                      "AND": { "type": "array", "items": { "type": "object" } }
                    }
                  },
                  "broadcast": { "type": "boolean" },
                  "canvas_entry_properties": { "type": "object" },
                  "schedule": {
                    "type": "object",
                    "properties": {
                      "time": { "type": "string" },
                      "in_local_time": { "type": "boolean" },
                      "at_optimal_time": { "type": "boolean" }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/messages/schedule/update": {
      "post": {
        "tags": ["Messages > Schedule Mesages"],
        "summary": "Update scheduled messages",
        "description": "> Use this endpoint to update scheduled messages. \n  \n\nThis endpoint accepts updates to either the `schedule` or `messages` parameter or both. Your request must contain at least one of those two keys.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `messages.schedule.update` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `schedule_id` | Required | String | The `schedule_id` to update (obtained from the response to create schedule). |\n| `schedule` | Optional | Object | See [schedule object](https://www.braze.com/docs/api/objects_filters/schedule_object/). |\n| `messages` | Optional | Object | See available [message objects](https://www.braze.com/docs/api/objects_filters/#messaging-objects). |\n\n## Example request\n\n``` json\ncurl --location --request POST 'https://rest.iad-01.braze.com/messages/schedule/update' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"schedule_id\": \"schedule_identifier\",\n  \"schedule\": {\n    \"time\": \"2017-05-24T20:30:36Z\"\n   },\n  \"messages\": {\n    \"apple_push\": {\n      \"alert\": \"Updated Message!\",\n      \"badge\": 1\n    },\n    \"android_push\": {\n      \"title\": \"Updated title!\",\n      \"alert\": \"Updated message!\"\n    },\n    \"sms\": {  \n      \"subscription_group_id\": \"subscription_group_identifier\",\n      \"message_variation_id\": \"message_variation_identifier\",\n      \"body\": \"This is my SMS body.\",\n      \"app_id\": \"app_identifier\"\n    }\n  }\n}'\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "schedule_id": "schedule_identifier",
                  "schedule": { "time": "2017-05-24T20:30:36Z" },
                  "messages": {
                    "apple_push": { "alert": "Updated Message!", "badge": 1 },
                    "android_push": {
                      "title": "Updated title!",
                      "alert": "Updated message!"
                    },
                    "sms": {
                      "subscription_group_id": "subscription_group_identifier",
                      "message_variation_id": "message_variation_identifier",
                      "body": "This is my SMS body.",
                      "app_id": "app_identifier"
                    }
                  }
                },
                "properties": {
                  "schedule_id": { "type": "string" },
                  "schedule": {
                    "type": "object",
                    "properties": {
                      "time": { "type": "string", "format": "date-time" }
                    }
                  },
                  "messages": {
                    "type": "object",
                    "properties": {
                      "apple_push": {
                        "type": "object",
                        "properties": {
                          "alert": { "type": "string" },
                          "badge": { "type": "integer" }
                        }
                      },
                      "android_push": {
                        "type": "object",
                        "properties": {
                          "title": { "type": "string" },
                          "alert": { "type": "string" }
                        }
                      },
                      "sms": {
                        "type": "object",
                        "properties": {
                          "subscription_group_id": { "type": "string" },
                          "message_variation_id": { "type": "string" },
                          "body": { "type": "string" },
                          "app_id": { "type": "string" }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/campaigns/trigger/schedule/update": {
      "post": {
        "tags": ["Messages > Schedule Mesages"],
        "summary": "Update scheduled API-triggered campaigns",
        "description": "> Use this endpoint to update scheduled API-triggered campaigns created in the dashboard, allowing you to decide what action should trigger the message to be sent. \n  \n\nYou can pass in `trigger_properties` that will be templated into the message itself.\n\nNote that to send messages with this endpoint, you must have a campaign ID, created when you build an [API-triggered campaign](https://www.braze.com/docs/api/api_campaigns/).\n\nAny schedule will completely overwrite the one that you provided in the create schedule request or in previous update schedule requests. For example, if you originally provide `\"schedule\" : {\"time\" : \"2015-02-20T13:14:47\", \"in_local_time\" : true}` and then in your update you provide `\"schedule\" : {\"time\" : \"2015-02-20T14:14:47\"}`, your message will now be sent at the provided time in UTC, not in the user's local time. Scheduled triggers that are updated very close to or during the time they were supposed to be sent will be updated with best efforts, so last-second changes could be applied to all, some, or none of your targeted users.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `campaigns.trigger.schedule.update` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `campaign_id` | Required | String | See [campaign identifier](https://www.braze.com/docs/api/identifier_types/) |\n| `schedule_id` | Optional | String | The `schedule_id` to update (obtained from the response to create schedule). |\n| `schedule` | Required | Object | See [schedule object](https://www.braze.com/docs/api/objects_filters/schedule_object/). |\n\n## Example request\n\n``` json\ncurl --location --request POST 'https://rest.iad-01.braze.com/campaigns/trigger/schedule/update' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"campaign_id\": \"campaign_identifier\",\n  \"schedule_id\": \"schedule_identifier\",\n  \"schedule\": {\n    \"time\": \"2017-05-24T21:30:00Z\",\n    \"in_local_time\": true\n  }\n}'\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "campaign_id": "campaign_identifier",
                  "schedule_id": "schedule_identifier",
                  "schedule": {
                    "time": "2017-05-24T21:30:00Z",
                    "in_local_time": true
                  }
                },
                "properties": {
                  "campaign_id": { "type": "string" },
                  "schedule_id": { "type": "string" },
                  "schedule": {
                    "type": "object",
                    "properties": {
                      "time": { "type": "string", "format": "date-time" },
                      "in_local_time": { "type": "boolean" }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/canvas/trigger/schedule/update": {
      "post": {
        "tags": ["Messages > Schedule Mesages"],
        "summary": "Update scheduled API-triggered Canvases",
        "description": "> Use this endpoint to update scheduled API-triggered Canvases that were created in the dashboard. \n  \n\nThis allows you to decide what action should trigger the message to be sent. You can pass in `trigger_properties` that will be templated into the message itself.\n\nNote that to send messages with this endpoint, you must have a Canvas ID, created when you build a [Canvas](https://www.braze.com/docs/api/identifier_types/#canvas-api-identifier).\n\nAny schedule will completely overwrite the one that you provided in the create schedule request or in previous update schedule requests. For example, if you originally provide `\"schedule\" : {\"time\" : \"2015-02-20T13:14:47\", \"in_local_time\" : true}` and then in your update you provide `\"schedule\" : {\"time\" : \"2015-02-20T14:14:47\"}`, your message will now be sent at the provided time in UTC, not in the user's local time. Scheduled triggers that are updated very close to or during the time they were supposed to be sent will be updated with best efforts, so last-second changes could be applied to all, some, or none of your targeted users.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `canvas.trigger.schedule.update` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request body\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n ```\n\n``` json\n{\n  \"canvas_id\": (required, string) see Canvas identifier,\n  \"schedule_id\": (required, string) the `schedule_id` to update (obtained from the response to create schedule),\n  \"schedule\": {\n    // required, see create schedule documentation\n  }\n}\n ```\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `canvas_id` | Required | String | See [Canvas identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `schedule_id` | Optional | String | The `schedule_id` to update (obtained from the response to create schedule). |\n| `schedule` | Required | Object | See [schedule object](https://www.braze.com/docs/api/objects_filters/schedule_object/). |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "canvas_id": "canvas_identifier",
                  "schedule_id": "schedule_identifier",
                  "schedule": {
                    "time": "2017-05-24T21:30:00Z",
                    "in_local_time": true
                  }
                },
                "properties": {
                  "canvas_id": { "type": "string" },
                  "schedule_id": { "type": "string" },
                  "schedule": {
                    "type": "object",
                    "properties": {
                      "time": { "type": "string", "format": "date-time" },
                      "in_local_time": { "type": "boolean" }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/sends/id/create": {
      "post": {
        "tags": ["Messages > Send Messages"],
        "summary": "Create send IDs",
        "description": "> Use this endpoint to create send IDs that can be used to send messages and track message performance programatically, without campaign creation for each send.\n\nUsing the send identifier to track and send messages is useful if you are planning to programmatically generate and send content.\n\n## Prerequisites\n\nTo use this endpoint, you'll need to generate an API key with the `sends.id.create` permission.\n\n## Rate limit\n\nThe daily maximum number of custom send identifiers that can be created via this endpoint is 100 for a given app group. Each `send_id` and `campaign_id` combination that you create will count towards your daily limit. The response headers for any valid request include the current rate limit status, see [API rate limits](https://www.braze.com/docs/api/api_limits/) for details.\n\n### Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `campaign_id` | Required | String | See [campaign identifier](https://www.braze.com/api/identifier_types/). |\n| `send_id` | Optional | String | See [send identifier](https://www.braze.com/api/identifier_types/). |\n\n## Response\n\n### Example success response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"message\": \"success\",\n  \"send_id\" : (string) the send identifier\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "campaign_id": "campaign_identifier",
                  "send_id": "send_identifier"
                },
                "properties": {
                  "campaign_id": { "type": "string" },
                  "send_id": { "type": "string" }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/messages/send": {
      "post": {
        "tags": ["Messages > Send Messages"],
        "summary": "Send messages immediately using the API only",
        "description": "> Use this endpoint to send immediate messages to designated users via the Braze API. \n  \n\nBe sure to include Messaging Objects in your body to complete your requests.\n\nIf you are targeting a segment, a record of your request will be stored in the [Developer Console](https://dashboard.braze.com/app_settings/developer_console/activitylog/).\n\n## Prerequisites\n\nTo use this endpoint, you'll need to generate an API key with the `messages.send` permission.\n\n## Rate limit\n\nWhen specifying a segment or Connected Audience in your request, we apply a rate limit of 250 requests per minute to this endpoint. Otherwise, if specifying an `external_id`, this endpoint has a default rate limit of 250,000 requests per hour, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\nBraze endpoints support [batching API requests](https://www.braze.com/docs/api/api_limits/#batching-api-requests). A single request to the messaging endpoints can reach any of the following:\n\n- Up to 50 specific `external_ids`, each with individual message parameters\n    \n- A segment of any size created in the Braze dashboard, specified by its `segment_id`\n    \n- An ad-hoc audience segment of any size, defined in the request as a [Connected Audience](https://www.braze.com/docs/api/objects_filters/connected_audience/) object\n    \n\n### Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `broadcast` | Optional | Boolean | See [broadcast](https://www.braze.com/docs/api/parameters/#broadcast). This parameter defaults to false (as of August 31, 2017).  <br>  <br>If `recipients` is omitted, `broadcast` must be set to true. However, use caution when setting `broadcast: true`, as unintentionally setting this flag may cause you to send your messages to a larger than expected audience. |\n| `external_user_ids` | Optional | Array of strings | See [external user ID](https://www.braze.com/docs/api/parameters/#external-user-id). |\n| `user_aliases` | Optional | Array of user alias objects | See [user alias object](https://www.braze.com/docs/api/objects_filters/user_alias_object/). |\n| `segment_id` | Optional | String | See [segment identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `audience` | Optional | Connected audience object | See [connected audience](https://www.braze.com/docs/api/objects_filters/connected_audience/). |\n| `campaign_id` | Optional\\* | String | See [campaign identifier](https://www.braze.com/docs/api/identifier_types/) for more information.  <br>  <br>\\*Required if you wish to track campaign stats (e.g. sends, clicks, bounces, etc) on the Braze dashboard. |\n| `send_id` | Optional | String | See [send identifier](https://www.braze.com/docs/api/identifier_types/) |\n| `override_frequency_capping` | Optional | Boolean | Ignore \\`frequency_capping\\` for campaigns, defaults to false. |\n| `recipient_subscription_state` | Optional | String | Use this to send messages to only users who have opted in (`opted_in`), only users who have subscribed or are opted in (`subscribed`) or to all users, including unsubscribed users (`all`).  <br>  <br>Using `all` users is useful for transactional email messaging. Defaults to `subscribed`. |\n| `messages` | Optional | Messaging objects | See available [messaging objects](https://www.braze.com/docs/api/endpoints/messaging/send_messages/post_send_messages/#available-messaging-objects). |\n\n## Response details\n\nMessage sending endpoint responses will include the message’s `dispatch_id` for reference back to the dispatch of the message. The `dispatch_id` is the ID of the message dispatch, meaning the unique ID for each “transmission” sent from Braze. For more information, refer to [Dispatch ID behavior](https://www.braze.com/docs/help/help_articles/data/dispatch_id/).",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "broadcast": "false",
                  "external_user_ids": "external_user_identifiers",
                  "user_aliases": {
                    "alias_name": "example_name",
                    "alias_label": "example_label"
                  },
                  "segment_id": "segment_identifier",
                  "audience": {
                    "AND": [
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "eye_color",
                          "comparison": "equals",
                          "value": "blue"
                        }
                      },
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "favorite_foods",
                          "comparison": "includes_value",
                          "value": "pizza"
                        }
                      },
                      {
                        "OR": [
                          {
                            "custom_attribute": {
                              "custom_attribute_name": "last_purchase_time",
                              "comparison": "less_than_x_days_ago",
                              "value": 2
                            }
                          },
                          {
                            "push_subscription_status": {
                              "comparison": "is",
                              "value": "opted_in"
                            }
                          }
                        ]
                      },
                      {
                        "email_subscription_status": {
                          "comparison": "is_not",
                          "value": "subscribed"
                        }
                      },
                      {
                        "last_used_app": {
                          "comparison": "after",
                          "value": "2019-07-22T13:17:55+0000"
                        }
                      }
                    ]
                  },
                  "campaign_id": "campaign_identifier",
                  "send_id": "send_identifier",
                  "override_frequency_capping": "false",
                  "recipient_subscription_state": "all",
                  "messages": {
                    "android_push": "(optional, Android Push Object)",
                    "apple_push": "(optional, Apple Push Object)",
                    "content_card": "(optional, Content Card Object)",
                    "email": "(optional, Email Object)",
                    "kindle_push": "(optional, Kindle/FireOS Push Object)",
                    "web_push": "(optional, Web Push Object)",
                    "windows_phone8_push": "(optional, Windows Phone 8 Push Object)",
                    "windows_universal_push": "(optional, Windows Universal Push Object)"
                  }
                },
                "properties": {
                  "broadcast": { "type": "string" },
                  "external_user_ids": { "type": "string" },
                  "user_aliases": {
                    "type": "object",
                    "properties": {
                      "alias_name": { "type": "string" },
                      "alias_label": { "type": "string" }
                    }
                  },
                  "segment_id": { "type": "string" },
                  "audience": {
                    "type": "object",
                    "properties": {
                      "AND": { "type": "array", "items": { "type": "object" } }
                    }
                  },
                  "campaign_id": { "type": "string" },
                  "send_id": { "type": "string" },
                  "override_frequency_capping": { "type": "string" },
                  "recipient_subscription_state": { "type": "string" },
                  "messages": {
                    "type": "object",
                    "properties": {
                      "android_push": { "type": "string" },
                      "apple_push": { "type": "string" },
                      "content_card": { "type": "string" },
                      "email": { "type": "string" },
                      "kindle_push": { "type": "string" },
                      "web_push": { "type": "string" },
                      "windows_phone8_push": { "type": "string" },
                      "windows_universal_push": { "type": "string" }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/transactional/v1/campaigns/{campaign_id}/send": {
      "post": {
        "tags": ["Messages > Send Messages"],
        "summary": "Send Transactional Email using API-triggered delivery",
        "description": "> Use this endpoint to send immediate, one-off transactional messages to a designated user. \n  \n\nThis endpoint is used alongside the creation of a Braze [Transactional Email campaign](https://www.braze.com/docs/api/api_campaigns/transactional_campaigns) and corresponding campaign ID.\n\n> **Important:** Transactional Email is currently available as part of select Braze packages. Reach out to your Braze customer success manager for more details. \n  \n\nSimilar to the [Send triggered campaign endpoint](https://www.braze.com/docs/api/endpoints/messaging/send_messages/post_send_triggered_campaigns/), this campaign type allows you to house message content inside of the Braze dashboard while dictating when and to whom a message is sent via your API. Unlike the Send triggered campaign endpoint, which accepts an audience or segment to send messages to, a request to this endpoint must specify a single user either by `external_user_id` or `user_alias`, as this campaign type is purpose-built for 1:1 messaging of alerts like order confirmations or password resets.\n\n## Prerequisites\n\nTo use this endpoint, you'll need to generate an API key with the `transactional.send` permission.\n\n## Rate limit\n\nBraze Transactional Emails are not subject to a rate limit. Depending on your chosen package, a set number of transactional emails is covered per hour by SLA. Requests that exceed that rate will still send, but are not covered by SLA. 99.9% of emails will send in less than one minute.\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `campaign_id` | Required | String | ID of the campaign |\n\n## Request Parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `external_send_id` | Optional | String | A Base64 compatible string. Validated against the following regex `/^[a-zA-Z0-9-_+\\/=]+$/`.  <br>  <br>This optional field allows you to pass an internal identifier for this particular send which will be included in events sent from the Transactional HTTP event postback. When passed, this identifier will also be used as a deduplication key, which Braze will store for 24 hours.  <br>  <br>Passing the same identifier in another request will not result in a new instance of a send by Braze for 24 hours. |\n| `trigger_properties` | Optional | Object | See [trigger properties](https://www.braze.com/docs/api/objects_filters/trigger_properties_object/). Personalization key-value pairs that will apply to the user in this request. |\n| `recipients` | Required | Object | The user you are targeting this message to. Can contain `attributes` and a single `external_user_id` or `user_alias`.  <br>  <br>Note that if you provide an external user ID that doesn’t already exist in Braze, passing any fields to the `attributes` object will create this user profile in Braze and send this message to the newly created user.  <br>  <br>If you send multiple requests to the same user with different data in the `attributes` object, Braze will ensure that `first_name`, `last_name`, and `email` attributes will be updated synchronously and templated into your message. Custom attributes don’t have this same protection, so proceed with caution when updating a user through this API and passing different custom attribute values in quick succession. |\n\n## Response\n\nThe send transactional email endpoint will respond with the message’s `dispatch_id` which represents the instance of this message send. This identifier can be used along with events from the Transactional HTTP event postback to trace the status of an individual email sent to a single user.\n\n### Example response\n\n``` json\n{\n    \"dispatch_id\": Out-of-the-box generated Unique ID of the instance of this send\n    \"status\": Current status of the message\n    \"metadata\": Object containing additional information about the send instance\n}\n\n ```\n\n## Troubleshooting\n\nThe endpoint may also return an error code and a human-readable message in some cases, most of which are validation errors. Here are some common errors you may get when making invalid requests.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `The campaign is not a transactional campaign. Only transactional campaigns may use this endpoint` | The campaign ID provided is not for a transactional campaign. |\n| `The external reference has been queued. Please retry to obtain send_id.` | The external_send_id has been created recently, try a new external_send_id if you are intending to send a new message. |\n| `Campaign does not exist` | The campaign ID provided does not correspond to an existing campaign. |\n| `The campaign is archived. Unarchive the campaign to ensure trigger requests will take effect.` | The campaign ID provided corresponds to an archived campaign. |\n| `The campaign is paused. Resume the campaign to ensure trigger requests will take effect.` | The campaign ID provided corresponds to a paused campaign. |\n| `campaign_id must be a string of the campaign api identifier` | The campaign ID provided is not a valid format. |\n| `Error authenticating credentials` | The API key provided is invalid |\n| `Invalid whitelisted IPs` | The IP address sending the request is not on the IP whitelist (if it is being utilized) |\n| `You do not have permission to access this resource` | The API key used does not have permission to take this action |\n\nMost endpoints at Braze have a rate limit implementation that will return a 429 response code if you have made too many requests. The transactional sending endpoint works differently -- if you exceed your allotted rate limit, our system will continue to ingest the API calls, return success codes, and send the messages, however those messages may not be subject to the contractual SLA for the feature. Please reach out if you need more information about this functionality.\n\n## Transactional HTTP Event Postback\n\nAll transactional emails are complemented with event status postbacks sent as an HTTP request back to your specified URL. This will allow you to evaluate the message status in real-time and take action to reach the user on another channel if the message goes undelivered, or fallback to an internal system if Braze is experiencing latency.\n\nIn order to associate the incoming events to a particular instance of send, you can choose to either capture and store the Braze `dispatch_id` returned in the [API response](https://www.braze.com/docs/api/endpoints/messaging/send_messages/post_send_transactional_message/#example-response), or pass your own identifier to the `external_send_id` field. An example of a value you may choose to pass to that field may be an order ID, where after completing order 1234, an order confirmation message is triggered to the user through Braze, and `external_send_id : 1234` is included in the request. All following event postbacks such as `Sent` and `Delivered` will include `external_send_id : 1234` in the payload allowing you to confirm that user successfully received their order confirmation email.\n\nTo get started using the Transactional HTTP Event Postback, navigate to **Settings** > **Email Preferences** in your Braze dashboard and locate the section **Transactional Event Status Postback**. Input your desired URL to receive postbacks.\n\n> **Note:** If you are using our [older navigation](https://www.braze.com/docs/navigation), **Email Preferences** can be found at ****Manage Settings** > **Email Settings****. \n  \n\n### Postback body\n\n``` json\n// Sent Event\n{\n    \"dispatch_id\": \"acf471119f7449d579e8089032003ded\",\n    \"status\": \"sent\",\n    \"metadata\": {\n      \"received_at\": \"2020-08-31T18:58:41.000+00:00\",\n      \"enqueued_at\": \"2020-08-31T18:58:41.000+00:00\",\n      \"executed_at\": \"2020-08-31T18:58:41.000+00:00\",\n      \"sent_at\": \"2020-08-31T18:58:42.000+00:00\",\n      \"campaign_api_id\": \"417220e4-5a2a-b634-7f7d-9ec891532368\",\n      \"external_send_id\" : \"34a2ceb3cf6184132f3d816e9984269a\"\n    }\n}\n// Processed Event\n{\n    \"dispatch_id\": \"acf471119f7449d579e8089032003ded\",\n    \"status\": \"processed\",\n    \"metadata\": {\n      \"processed_at\": \"2020-08-31T18:58:42.000+00:00\",\n      \"campaign_api_id\": \"417220e4-5a2a-b634-7f7d-9ec891532368\",\n      \"external_send_id\" : \"34a2ceb3cf6184132f3d816e9984269a\"\n    }\n}\n// Aborted\n{\n    \"dispatch_id\": \"acf471119f7449d579e8089032003ded\",\n    \"status\": \"aborted\",\n    \"metadata\": {\n      \"reason\": \"User not emailable\",\n      \"aborted_at\": \"2020-08-31T19:04:51.000+00:00\",\n      \"campaign_api_id\": \"417220e4-5a2a-b634-7f7d-9ec891532368\",\n      \"external_send_id\" : \"34a2ceb3cf6184132f3d816e9984269a\"\n    }\n}\n// Delivered Event\n{\n    \"dispatch_id\": \"acf471119f7449d579e8089032003ded\",\n    \"status\": \"delivered\",\n    \"metadata\": {\n      \"delivered_at\": \"2020-08-31T18:27:32.000+00:00\",\n      \"campaign_api_id\": \"417220e4-5a2a-b634-7f7d-9ec891532368\",\n      \"external_send_id\" : \"34a2ceb3cf6184132f3d816e9984269a\"\n    }\n}\n// Bounced Event\n{\n    \"dispatch_id\": \"acf471119f7449d579e8089032003ded\",\n    \"status\": \"bounced\",\n    \"metadata\": {\n      \"bounced_at\": \"2020-08-31T18:58:43.000+00:00\",\n      \"reason\": \"550 5.1.1 The email account that you tried to reach does not exist\",\n      \"campaign_api_id\": \"417220e4-5a2a-b634-7f7d-9ec891532368\",\n      \"external_send_id\" : \"34a2ceb3cf6184132f3d816e9984269a\"\n    }\n}\n\n ```\n\n#### Message status\n\n| **Status** | **Description** |\n| --- | --- |\n| `sent` | Message successfully dispatched to Braze’s email sending partner |\n| `processed` | Email sending partner has successfully received and prepared the message for sending to the user’s inbox provider |\n| `aborted` | Braze was unable to successfully dispatch the message due to the user not having an emailable address, or Liquid abort logic was called in the message body. All aborted events include a reason field within the metadata object indicating why the message was aborted |\n| `delivered` | Message was accepted by the user’s email inbox provider |\n| `bounced` | Message was rejected by the user’s email inbox provider. All bounced events include a reason field within the metadata object reflecting the bounce error code provided by the inbox provider |\n\n### Example postback\n\n``` json\n// Sent Event\n{\n    \"dispatch_id\": \"acf471119f7449d579e8089032003ded\",\n    \"status\": \"sent\",\n    \"metadata\": {\n      \"received_at\": \"2020-08-31T18:58:41.000+00:00\",\n      \"enqueued_at\": \"2020-08-31T18:58:41.000+00:00\",\n      \"executed_at\": \"2020-08-31T18:58:41.000+00:00\",\n      \"sent_at\": \"2020-08-31T18:58:42.000+00:00\",\n      \"campaign_api_id\": \"417220e4-5a2a-b634-7f7d-9ec891532368\",\n      \"external_send_id\" : \"34a2ceb3cf6184132f3d816e9984269a\"\n    }\n}\n// Processed Event\n{\n    \"dispatch_id\": \"acf471119f7449d579e8089032003ded\",\n    \"status\": \"processed\",\n    \"metadata\": {\n      \"processed_at\": \"2020-08-31T18:58:42.000+00:00\",\n      \"campaign_api_id\": \"417220e4-5a2a-b634-7f7d-9ec891532368\",\n      \"external_send_id\" : \"34a2ceb3cf6184132f3d816e9984269a\"\n    }\n}\n// Aborted\n{\n    \"dispatch_id\": \"acf471119f7449d579e8089032003ded\",\n    \"status\": \"aborted\",\n    \"metadata\": {\n      \"reason\": \"User not emailable\",\n      \"aborted_at\": \"2020-08-31T19:04:51.000+00:00\",\n      \"campaign_api_id\": \"417220e4-5a2a-b634-7f7d-9ec891532368\",\n      \"external_send_id\" : \"34a2ceb3cf6184132f3d816e9984269a\"\n    }\n}\n// Delivered Event\n{\n    \"dispatch_id\": \"acf471119f7449d579e8089032003ded\",\n    \"status\": \"delivered\",\n    \"metadata\": {\n      \"delivered_at\": \"2020-08-31T18:27:32.000+00:00\",\n      \"campaign_api_id\": \"417220e4-5a2a-b634-7f7d-9ec891532368\",\n      \"external_send_id\" : \"34a2ceb3cf6184132f3d816e9984269a\"\n    }\n}\n// Bounced Event\n{\n    \"dispatch_id\": \"acf471119f7449d579e8089032003ded\",\n    \"status\": \"bounced\",\n    \"metadata\": {\n      \"bounced_at\": \"2020-08-31T18:58:43.000+00:00\",\n      \"reason\": \"550 5.1.1 The email account that you tried to reach does not exist\",\n      \"campaign_api_id\": \"417220e4-5a2a-b634-7f7d-9ec891532368\",\n      \"external_send_id\" : \"34a2ceb3cf6184132f3d816e9984269a\"\n    }\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "external_send_id": "YOUR_BASE64_COMPATIBLE_ID",
                  "trigger_properties": {},
                  "recipient": [
                    { "external_user_id": "TARGETED_USER_ID_STRING" }
                  ]
                },
                "properties": {
                  "external_send_id": { "type": "string" },
                  "trigger_properties": { "type": "object" },
                  "recipient": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": { "external_user_id": { "type": "string" } }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "campaign_id",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/campaigns/trigger/send": {
      "post": {
        "tags": ["Messages > Send Messages"],
        "summary": "Send campaigns using API-triggered delivery",
        "description": "> Use this endpoint to send immediate, ad-hoc messages to designated users via API-triggered delivery.\n\nAPI-triggered delivery allows you to house message content inside of the Braze dashboard while dictating when a message is sent, and to whom via your API.\n\nIf you are targeting a segment, a record of your request will be stored in the [Developer Console](https://dashboard.braze.com/app_settings/developer_console/activitylog/). Note that to send messages with this endpoint, you must have a [campaign ID](https://www.braze.com/docs/api/identifier_types/) created when you build an [API-triggered campaign](https://www.braze.com/docs/api/api_campaigns/).\n\n## Prerequisites\n\nTo use this endpoint, you'll need to generate an API key with the `campaigns.trigger.send` permission.\n\n## Rate limit\n\nWhen specifying a segment or Connected Audience in your request, we apply a rate limit of 250 requests per minute to this endpoint. Otherwise, if specifying an `external_id`, this endpoint has a default rate limit of 250,000 requests per hour, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\nBraze endpoints support [batching API requests](https://www.braze.com/docs/api/api_limits/#batching-api-requests). A single request to the messaging endpoints can reach any of the following:\n\n- Up to 50 specific `external_ids`, each with individual message parameters\n- A segment of any size created in the Braze dashboard, specified by its `segment_id`\n- An ad-hoc audience segment of any size, defined in the request as a [Connected Audience](https://www.braze.com/docs/api/objects_filters/connected_audience/) object\n    \n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `campaign_id` | Required | String | See [campaign identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `send_id` | Optional | String | See [send identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `trigger_properties` | Optional | Object | See [trigger properties](https://www.braze.com/docs/api/objects_filters/trigger_properties_object/). Personalization key-value pairs that will apply to all users in this request. |\n| `broadcast` | Optional | Boolean | See [broadcast](https://www.braze.com/docs/api/parameters/#broadcast). This parameter defaults to false (as of August 31, 2017).  <br>  <br>If `recipients` is omitted, `broadcast` must be set to true. However, use caution when setting `broadcast: true`, as unintentionally setting this flag may cause you to send your campaign to a larger than expected audience. |\n| `audience` | Optional | Connected audience object | See [connected audience](https://www.braze.com/docs/api/objects_filters/connected_audience/). |\n| `recipients` | Optional | Array | See [recipients object](https://www.braze.com/docs/api/objects_filters/recipient_object/). If not provided and `broadcast` is set to true, the message will send to the entire segment targeted by the campaign. |\n\nThe recipients array may contain up to 50 objects, with each object containing a single `external_user_id` string and `trigger_properties` object.\n\nWhen `send_to_existing_only` is `true`, Braze will only send the message to existing users. When `send_to_existing_only` is `false` and a user with the given `id` does not exist, Braze will create a user with that id and attributes before sending the message.\n\n> Important: A user’s subscription group status can be updated via the inclusion of a subscription_groups parameter within the attributes object. This is currently in early access. Contact your Braze customer success manager if you’re interested in participating in the early access. More details can be found in the [User attributes object](https://www.braze.com/docs/api/objects_filters/user_attributes_object). \n  \n\n## Response details\n\nMessage sending endpoint responses will include the message’s `dispatch_id` for reference back to the dispatch of the message. The `dispatch_id` is the ID of the message dispatch, a unique ID for each transmission sent from the Braze platform. When using this endpoint, you receive a single `dispatch_id` for an entire batched set of users. For more information on `dispatch_id` check out out our documentation on [Dispatch ID Behavior](https://www.braze.com/docs/help/help_articles/data/dispatch_id/).\n\n## Create send endpoint\n\n**Using the attributes object in campaigns**\n\nBraze has a Messaging Object called `Attributes` that will allow you to add, create, or update attributes and values for a user before you send them an API-triggered campaigns using the `campaign/trigger/send` endpoint as this API call will process the User Attributes object before it processes and sends the campaign. This helps minimize the risk of there being issues caused by [race conditions](https://www.braze.com/docs/help/best_practices/race_conditions/).\n\n> **Important:** Looking for the Canvas version of this endpoint? Check out [Sending Canvas messages via API-triggered delivery](https://www.braze.com/docs/api/endpoints/messaging/send_messages/post_send_triggered_canvases/#create-send-endpoint).",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "campaign_id": "campaign_identifier",
                  "send_id": "send_identifier",
                  "trigger_properties": {},
                  "broadcast": false,
                  "audience": {
                    "AND": [
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "eye_color",
                          "comparison": "equals",
                          "value": "blue"
                        }
                      },
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "favorite_foods",
                          "comparison": "includes_value",
                          "value": "pizza"
                        }
                      },
                      {
                        "OR": [
                          {
                            "custom_attribute": {
                              "custom_attribute_name": "last_purchase_time",
                              "comparison": "less_than_x_days_ago",
                              "value": 2
                            }
                          },
                          {
                            "push_subscription_status": {
                              "comparison": "is",
                              "value": "opted_in"
                            }
                          }
                        ]
                      },
                      {
                        "email_subscription_status": {
                          "comparison": "is_not",
                          "value": "subscribed"
                        }
                      },
                      {
                        "last_used_app": {
                          "comparison": "after",
                          "value": "2019-07-22T13:17:55+0000"
                        }
                      }
                    ]
                  },
                  "recipients": [
                    {
                      "user_alias": {
                        "alias_name": "example_name",
                        "alias_label": "example_label"
                      },
                      "external_user_id": "external_user_identifier",
                      "trigger_properties": {},
                      "send_to_existing_only": true,
                      "attributes": { "first_name": "Alex" }
                    }
                  ]
                },
                "properties": {
                  "campaign_id": { "type": "string" },
                  "send_id": { "type": "string" },
                  "trigger_properties": { "type": "object" },
                  "broadcast": { "type": "boolean" },
                  "audience": {
                    "type": "object",
                    "properties": {
                      "AND": { "type": "array", "items": { "type": "object" } }
                    }
                  },
                  "recipients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "user_alias": {
                          "type": "object",
                          "properties": {
                            "alias_name": { "type": "string" },
                            "alias_label": { "type": "string" }
                          }
                        },
                        "external_user_id": { "type": "string" },
                        "trigger_properties": { "type": "object" },
                        "send_to_existing_only": { "type": "boolean" },
                        "attributes": {
                          "type": "object",
                          "properties": { "first_name": { "type": "string" } }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/canvas/trigger/send": {
      "post": {
        "tags": ["Messages > Send Messages"],
        "summary": "Send Canvases using API-triggered delivery",
        "description": "> Use this endpoint to send Canvas messages via API-triggered delivery. \n  \n\nTo use this endpoint, you’ll need to generate an API key with the `canvas.trigger.send` permission.\n\nAPI-triggered delivery allows you to house message content inside of the Braze dashboard while dictating when a message is sent, and to whom via your API.\n\nNote that to send messages with this endpoint, you must have a [Canvas ID](https://www.braze.com/docs/api/identifier_types/#canvas-api-identifier) created when you build a Canvas.\n\n## Rate limit\n\nWhen specifying a segment or Connected Audience in your request, we apply a rate limit of 250 requests per minute to this endpoint. Otherwise, if specifying an `external_id`, this endpoint has a default rate limit of 250,000 requests per hour, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\nBraze endpoints support [batching API requests](https://www.braze.com/docs/api/api_limits/#batching-api-requests). A single request to the messaging endpoints can reach any of the following:\n\n- Up to 50 specific `external_ids`, each with individual message parameters\n- A segment of any size created in the Braze dashboard, specified by its `segment_id`\n- An ad-hoc audience segment of any size, defined in the request as a [Connected Audience](https://www.braze.com/docs/api/objects_filters/connected_audience/) object\n    \n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `canvas_id` | Required | String | See [Canvas identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `canvas_entry_properties` | Optional | Object | See [Canvas entry properties](https://www.braze.com/docs/api/objects_filters/canvas_entry_properties_object/). Personalization key-value pairs that will apply to all users in this request. The Canvas entry properties object has a maximum size limit of 50 KB. |\n| `broadcast` | Optional | Boolean | You must set `broadcast` to true when sending a message to an entire segment that a campaign or Canvas targets. This parameter defaults to false (as of August 31, 2017).  <br>  <br>If `broadcast` is set to true, a recipients list cannot be included. However, use caution when setting `broadcast: true`, as unintentionally setting this flag may cause you to send your message to a larger than expected audience. |\n| `audience` | Optional | Connected audience object | See [Connected audience](https://braze.com/docs/api/objects_filters/connected_audience/). |\n| `recipients` | Optional | Array | See [Recipients object](https://www.braze.com/docs/api/objects_filters/recipient_object/). If not provided and `broadcast` is set to true, the message will send to the entire segment targeted by the Canvas.  <br>  <br>The `recipients` array may contain up to 50 objects, with each object containing a single `external_user_id` string and `canvas_entry_properties` object. Either `external_user_id` or user_alias is required for this call. Requests must specify only one.  <br>  <br>When `send_to_existing_only` is true, Braze will only send the message to existing users—however this flag can’t be used with user aliases. When `send_to_existing_only` is `false` and a user with the given `id` does not exist, Braze will create a user with that ID and attributes before sending the message. |\n\nCustomers using the API for server-to-server calls may need to whitelist the appropriate API URL if they’re behind a firewall.\n\n> **Note:** If you include both specific users in your API call and a target segment in the dashboard, the message will send to specifically the user profiles that are in the API call and qualify for the segment filters. \n  \n\n## Response details\n\nMessage sending endpoint responses will include the message’s `dispatch_id` for reference back to the dispatch of the message. The `dispatch_id` is the ID of the message dispatch (unique ID for each “transmission” sent from the Braze platform). Check out [Dispatch ID behavior](https://www.braze.com/docs/help/help_articles/data/dispatch_id/) for more information.\n\n## Create send endpoint\n\n**Using the Attributes Object in Canvas**\n\nBraze has a Messaging Object called `Attributes` that allows you to add, create, or update attributes and values for a user before sending them an API-Triggered Canvas using the `canvas/trigger/send` endpoint as this API call will process the User Attributes object before it processes and sends the Canvas. This helps minimize the risk of there being issues caused by [race conditions](https://www.braze.com/docs/help/best_practices/race_conditions/).\n\n> **Important:** Looking for the camaigns version of this endpoint? Check out [Sending campaign messages via API-triggered delivery](https://www.braze.com/docs/api/endpoints/messaging/send_messages/post_send_triggered_campaigns/).",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "canvas_id": "canvas_identifier",
                  "canvas_entry_properties": {
                    "product_name": "shoes",
                    "product_price": 79.99
                  },
                  "broadcast": false,
                  "audience": {
                    "AND": [
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "eye_color",
                          "comparison": "equals",
                          "value": "blue"
                        }
                      },
                      {
                        "custom_attribute": {
                          "custom_attribute_name": "favorite_foods",
                          "comparison": "includes_value",
                          "value": "pizza"
                        }
                      },
                      {
                        "OR": [
                          {
                            "custom_attribute": {
                              "custom_attribute_name": "last_purchase_time",
                              "comparison": "less_than_x_days_ago",
                              "value": 2
                            }
                          },
                          {
                            "push_subscription_status": {
                              "comparison": "is",
                              "value": "opted_in"
                            }
                          }
                        ]
                      },
                      {
                        "email_subscription_status": {
                          "comparison": "is_not",
                          "value": "subscribed"
                        }
                      },
                      {
                        "last_used_app": {
                          "comparison": "after",
                          "value": "2019-07-22T13:17:55+0000"
                        }
                      }
                    ]
                  },
                  "recipients": [
                    {
                      "user_alias": {
                        "alias_name": "example_name",
                        "alias_label": "example_label"
                      },
                      "external_user_id": "user_identifier",
                      "trigger_properties": {},
                      "canvas_entry_properties": "",
                      "send_to_existing_only": true,
                      "attributes": { "first_name": "Alex" }
                    }
                  ]
                },
                "properties": {
                  "canvas_id": { "type": "string" },
                  "canvas_entry_properties": {
                    "type": "object",
                    "properties": {
                      "product_name": { "type": "string" },
                      "product_price": { "type": "number" }
                    }
                  },
                  "broadcast": { "type": "boolean" },
                  "audience": {
                    "type": "object",
                    "properties": {
                      "AND": { "type": "array", "items": { "type": "object" } }
                    }
                  },
                  "recipients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "user_alias": {
                          "type": "object",
                          "properties": {
                            "alias_name": { "type": "string" },
                            "alias_label": { "type": "string" }
                          }
                        },
                        "external_user_id": { "type": "string" },
                        "trigger_properties": { "type": "object" },
                        "canvas_entry_properties": { "type": "string" },
                        "send_to_existing_only": { "type": "boolean" },
                        "attributes": {
                          "type": "object",
                          "properties": { "first_name": { "type": "string" } }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/preference_center/v1/{PreferenceCenterExternalID}/url/{UserID}": {
      "get": {
        "tags": ["Preference Center"],
        "summary": "Generate preference center URL",
        "description": "> Use this endpoint to generate a URL for a preference center. \n  \n\nEach preference center URL is unique to each user.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `preference_center.user.get` permission.\n\n## Rate limit\n\nThis endpoint has a rate limit of 1,000 requests per minute, per workspace.\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `preferenceCenterExternalID` | Required | String | The ID for your preference center. |\n| `userID` | Required | String | The user ID. |\n\n## Request parameters\n\n| **Parameter** | **Required** | **Data Type** | **Description** |\n| --- | --- | --- | --- |\n| `preference_center_api_id` | Required | String | The ID for your preference center. |\n| `external_id` | Required | String | The external ID for a user. |\n\n## Example request\n\n```\ncurl --location --request GET 'https://rest.iad-01.braze.com/preference_center/v1/$preference_center_external_id/url/$user_external_id' \\\n--header 'Authorization: Bearer YOUR-API-KEY-HERE'\n\n ```\n\n## Response\n\n``` json\n{\n  \"preference_center_url\": \"https://www.example.com/preferences\"\n}\n\n ```",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "preference_center_api_id",
            "in": "query",
            "schema": { "type": "string" },
            "example": "{{preference_center_api_id}}"
          },
          {
            "name": "external_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String",
            "example": "{{external_id}}"
          },
          {
            "name": "PreferenceCenterExternalID",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          },
          {
            "name": "UserID",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/preference_center/v1/list": {
      "get": {
        "tags": ["Preference Center"],
        "summary": "List preference centers",
        "description": "> Use this endpoint to list your available preference centers. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `preference_center.list` permission.\n\n## Rate limit\n\nThis endpoint has a rate limit of 1,000 requests per minute, per workspace.\n\n## Path and request parameters\n\nThere are no path or request parameters for this endpoint.\n\n## Example request\n\n```\ncurl --location -g --request GET https://rest.iad-01.braze.com/preference_center/v1/list \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n ```\n\n## Response\n\n``` json\n{\n  \"preference_centers\": [\n    {\n      \"name\": \"My Preference Center 1\",\n      \"preference_center_api_id\": \"preference_center_api_id\",\n      \"created_at\": \"2022-08-17T15:46:10Z\",\n      \"updated_at\": \"2022-08-17T15:46:10Z\"\n    },\n    {\n      \"name\": \"My Preference Center 2\",\n      \"preference_center_api_id\": \"preference_center_api_id\",\n      \"created_at\": \"2022-08-19T11:13:06Z\",\n      \"updated_at\": \"2022-08-19T11:13:06Z\"\n    },\n    {\n      \"name\": \"My Preference Center 3\",\n      \"preference_center_api_id\": \"preference_center_api_id\",\n      \"created_at\": \"2022-08-19T11:30:50Z\",\n      \"updated_at\": \"2022-08-19T11:30:50Z\"\n    },\n    {\n      \"name\": \"My Preference Center 4\",\n      \"preference_center_api_id\": \"preference_center_api_id\",\n      \"created_at\": \"2022-09-13T20:41:34Z\",\n      \"updated_at\": \"2022-09-13T20:41:34Z\"\n    }\n  ]\n}\n\n ```",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/preference_center/v1/{PreferenceCenterExternalID}": {
      "get": {
        "tags": ["Preference Center"],
        "summary": "View details for preference center",
        "description": "> Use this endpoint to view the details for your preference centers, including when it was created and updated. \n  \n\n## Prerequisites\n\nTo use this endpoint, you'll need an API key with the `preference_center.get` permission.\n\n## Rate limit\n\nThis endpoint has a rate limit of 1,000 requests per minute, per workspace.\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `preferenceCenterExternalID` | Required | String | The ID for your preference center. |\n\n## Request parameters\n\nThere are no request parameters for this endpoint.\n\n## Example request\n\n```\ncurl --location -g --request GET https://rest.iad-01.braze.com/preference_center/v1/preference_center_external_id \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n ```\n\n## Response\n\n``` json\n{\n  \"name\": \"My Preference Center\",\n  \"preference_center_api_id\": \"preference_center_api_id\",\n  \"created_at\": \"example_time_created\",\n  \"updated_at\": \"example_time_updated\",\n  \"preference_center_title\": \"Example preference center title\",\n  \"preference_center_page_html\": \"HTML for preference center here\",\n  \"confirmation_page_html\": \"HTML for confirmation page here\",\n  \"redirect_page_html\": null,\n  \"preference_center_options\": {\n    \"meta-viewport-content\": \"width=device-width, initial-scale=2\"\n  },\n  \"state\": \"active\"\n}\n\n ```",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "PreferenceCenterExternalID",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "put": {
        "tags": ["Preference Center"],
        "summary": "Update preference center",
        "description": "> Use this endpoint to update a preference center. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key ](https://www.braze.com/docs/api/basics#rest-api-key/) with the `preference_center.update` permission.\n\n## Rate limit\n\nThis endpoint has a rate limit of 10 requests per minute, per workspace.\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `preferenceCenterExternalID` | Required | String | The ID for your preference center. |\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `preference_center_page_html` | Required | String | The HTML for the preference center page. |\n| `preference_center_title` | Optional | String | The title for the preference center and confirmation pages. If a title is not specified, the title of the pages will default to \"Preference Center\". |\n| `confirmation_page_html` | Required | String | The HTML for the confirmation page. |\n| `state` | Optional | String | Choose `active` or `draft`. |\n| `options` | Optional | Object | Attributes:  <br>`meta-viewport-content`: When present, a `viewport` meta tag will be added to the page with `content=`  <br>  <br>`link-tags`: Set a favicon for the page. When set, a  tag with a rel attribute is added to the page. |\n\n## Example request\n\n```\ncurl --location --request POST 'https://rest.iad-01.braze.com/preference_center/v1/{preferenceCenterExternalId}' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-API-KEY-HERE' \\\n--data-raw '{\n  \"name\": \"Example\",\n  \"preference_center_title\": \"Example Preference Center Title\",\n  \"preference_center_page_html\": \"HTML for preference center here\",\n  \"confirmation_page_html\": \"HTML here with a message to users here\",\n  \"state\": \"active\"\n}\n'\n\n ```\n\n## Example response\n\n```\n{\n  \"preference_center_api_id\": \"8efc52aa-935e-42b7-bd6b-98f43bb9b0f1\",\n  \"created_at\": \"2022-09-22T18:28:07Z\",\n  \"updated_at\": \"2022-09-22T18:32:07Z\",\n  \"message\": \"success\"\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "name": "preference_center_name",
                  "preference_center_title": "string",
                  "preference_center_page_html": "string",
                  "confirmation_page_html": "string",
                  "options": { "meta-viewport-content": "string" }
                },
                "properties": {
                  "name": { "type": "string" },
                  "preference_center_title": { "type": "string" },
                  "preference_center_page_html": { "type": "string" },
                  "confirmation_page_html": { "type": "string" },
                  "options": {
                    "type": "object",
                    "properties": {
                      "meta-viewport-content": { "type": "string" }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "PreferenceCenterExternalID",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/preference_center/v1": {
      "post": {
        "tags": ["Preference Center"],
        "summary": "Create preference center",
        "description": "> Use this endpoint to create a preference center to allow users to manage their notification preferences for your email campaigns. \n  \n\nRefer to [Create a preference center with API](https://www.braze.com/docs/user_guide/message_building_by_channel/email/preference_center/overview/#create-a-preference-center-via-api) for steps on how to build an API-generated preference center.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an API key with the `preference_center.update` permission.\n\n## Rate limit\n\nThis endpoint has a rate limit of 10 requests per minute, per workspace.\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `name` | Required | String | The name of the preference center that meets the following requirements:  <br>\\- Only contains letters, numbers, hyphens, and underscores  <br>\\- Does not have spaces |\n| `preference_center_title` | Optional | String | The title for the preference center and confirmation pages. If a title is not specified, the title of the pages will default to \"Preference Center\". |\n| `preference_center_page_html` | Required | String | The HTML for the preference center page. |\n| `confirmation_page_html` | Required | String | The HTML for the confirmation page. |\n| `state` | Optional | String | Choose `active` or `draft`. Defaults to `active` if not specified. |\n| `options` | Optional | Object | Attributes: `meta-viewport-content`. When present, a `viewport` meta tag will be added to the page with `content=` . |\n\n> **Note:** The preference center name can't be edited after it's created. \n  \n\n### Liquid tags\n\nRefer to the following Liquid tags that can be included in your HTML to generate a user's subscription state on the preference center page.\n\n#### User subscription state\n\n| Liquid | Description |\n| --- | --- |\n| `{{subscribed_state.${email_global}}}` | Get the global email subscribed state for the user (such as \"opted_in\", \"subscribed\", or \"unsubscribed\"). |\n| `{{subscribed_state.${}}}` |  |\n\n#### Form inputs and action\n\n| Liquid | Description |\n| --- | --- |\n| `{% form_field_name :email_global_state %}` | Indicates that a specific form input element corresponds to the user’s global email subscribed state. The user’s selection state should be “opted_in”, “subscribed”, or “unsubscribed” when the form is submitted with selection data for the global email subscribed state. If it’s a checkbox, the user will either be “opted_in” or “unsubscribed”. For a hidden input, the “subscribed” state will also be valid. |\n| `{% form_field_name :subscription_group %}` | Indicates that a specific form input element corresponds to a given subscription group. The user's selection state should be either \"subscribed\" or \"unsubscribed\" when the form is submitted with selection data for a specific subscription group. |\n| `{{preference_center_submit_url}}` | Generates URL for form submission. |\n\n## Example responses\n\n### Create preference center\n\n```\n{\n  \"preference_center_api_id\": \"preference_center_api_id_example\",\n  \"liquid_tag\": \"{{preference_center.${MyPreferenceCenter2022-09-22}}}\",\n  \"created_at\": \"2022-09-22T18:28:07+00:00\",\n  \"message\": \"success\"\n}\n\n ```\n\n### HTML with form inputs\n\n```\n%3C!doctype%20html%3E\n<html lang=\"en\">\n  <head>\n    <meta name=\"robots\" content=\"noindex\" />\n    <title>Email Preferences</title>\n    <script type=\"text/javascript\">\n%20%20%20%20%20%20window.onload%20%3D%20()%20%3D%3E%20%7B\n%20%20%20%20%20%20%20%20const%20globalUnsubscribed%20%3D%20%26%23x27%3B%7B%7Bsubscribed_state.%24%7Bemail_global%7D%7D%7D%26%23x27%3B%20%3D%3D%20%22unsubscribed%22%3B\n%20%20%20%20%20%20%20%20const%20globalSubscribedValue%20%3D%20%26%23x27%3B%7B%7Bsubscribed_state.%24%7Bemail_global%7D%7D%7D%26%23x27%3B%20%3D%3D%20%22opted_in%22%20%3F%20%22opted_in%22%20%3A%20%22subscribed%22%3B\n%20%20%20%20%20%20%20%20const%20idStates%20%3D%20%5B\n%20%20%20%20%20%20%20%20%20%20%2F%2F%20input%20format%3A%20%5BAPI_ID%2C%20%26%23x27%3B%7B%7Bsubscribed_state.%24%7BAPI_ID%7D%7D%7D%26%23x27%3B%20%3D%3D%20%22subscribed%22%5D%5B%5D\n%20%20%20%20%20%20%20%20%20%20%5B%26%23x27%3B3d2ae07a-f2ff-4318-bdff-e394f2d3a4ec%26%23x27%3B%2C%20%26%23x27%3B%7B%7Bsubscribed_state.%24%7B3d2ae07a-f2ff-4318-bdff-e394f2d3a4ec%7D%7D%7D%26%23x27%3B%20%3D%3D%20%26%23x27%3Bsubscribed%26%23x27%3B%5D%2C%5B%26%23x27%3B7d89bdc3-4aa1-4592-8b8a-4c8b7161c875%26%23x27%3B%2C%20%26%23x27%3B%7B%7Bsubscribed_state.%24%7B7d89bdc3-4aa1-4592-8b8a-4c8b7161c875%7D%7D%7D%26%23x27%3B%20%3D%3D%20%26%23x27%3Bsubscribed%26%23x27%3B%5D%2C%5B%26%23x27%3B5444d32e-2815-4258-964c-b9690d4ccb94%26%23x27%3B%2C%20%26%23x27%3B%7B%7Bsubscribed_state.%24%7B5444d32e-2815-4258-964c-b9690d4ccb94%7D%7D%7D%26%23x27%3B%20%3D%3D%20%26%23x27%3Bsubscribed%26%23x27%3B%5D\n%20%20%20%20%20%20%20%20%5D%3B\n%20%20%20%20%20%20%20%20const%20setState%20%3D%20(id%2C%20subscribed)%20%3D%3E%20%7B\n%20%20%20%20%20%20%20%20%20%20document.querySelector(%60%23checkbox-%24%7Bid%7D%60).checked%20%3D%20subscribed%3B\n%20%20%20%20%20%20%20%20%20%20document.querySelector(%60%23value-%24%7Bid%7D%60).value%20%3D%20subscribed%20%3F%20%22subscribed%22%20%3A%20%22unsubscribed%22%3B\n%20%20%20%20%20%20%20%20%7D%3B\n%20%20%20%20%20%20%20%20const%20setGlobal%20%3D%20(unsubscribed)%20%3D%3E%20%7B\n%20%20%20%20%20%20%20%20%20%20document.querySelector(%60%23checkbox-global%60).checked%20%3D%20unsubscribed%3B\n%20%20%20%20%20%20%20%20%20%20document.querySelector(%60%23value-global%60).value%20%3D%20unsubscribed%20%3F%20%22unsubscribed%22%20%3A%20globalSubscribedValue%3B\n%20%20%20%20%20%20%20%20%20%20idStates.forEach((%5Bid%5D)%20%3D%3E%20%7B\n%20%20%20%20%20%20%20%20%20%20%20%20document.querySelector(%60%23checkbox-%24%7Bid%7D%60).disabled%20%3D%20unsubscribed%3B\n%20%20%20%20%20%20%20%20%20%20%7D)%3B\n%20%20%20%20%20%20%20%20%7D%3B\n%20%20%20%20%20%20%20%20idStates.forEach((%5Bid%2C%20state%5D)%20%3D%3E%20%7B\n%20%20%20%20%20%20%20%20%20%20setState(id%2C%20state)%3B\n%20%20%20%20%20%20%20%20%20%20document.querySelector(%60%23checkbox-%24%7Bid%7D%60).onchange%20%3D%20((e)%20%3D%3E%20%7B\n%20%20%20%20%20%20%20%20%20%20%20%20setState(id%2C%20e.target.checked)%3B\n%20%20%20%20%20%20%20%20%20%20%7D)%3B\n%20%20%20%20%20%20%20%20%7D)%3B\n%20%20%20%20%20%20%20%20setGlobal(globalUnsubscribed)%3B\n%20%20%20%20%20%20%20%20document.querySelector(%60%23checkbox-global%60).onchange%20%3D%20((e)%20%3D%3E%20%7B\n%20%20%20%20%20%20%20%20%20%20setGlobal(e.target.checked)%3B\n%20%20%20%20%20%20%20%20%7D)%3B\n%20%20%20%20%20%20%7D%3B\n    </script>\n    <style>\n%20%20%20%20%20%20body%20%7B\n%20%20%20%20%20%20%20%20background%3A%20%23fff%3B\n%20%20%20%20%20%20%20%20margin%3A%200%3B\n%20%20%20%20%20%20%7D\n%20%20%20%20%20%20%40media%20(max-width%3A%20600px)%20%7B\n%20%20%20%20%20%20%20%20.main-container%20%7B\n%20%20%20%20%20%20%20%20%20%20margin-top%3A%200%3B\n%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B\n%20%20%20%20%20%20%20%20%7D\n%20%20%20%20%20%20%20%20.main-container%20.content%20.email-input%20%7B\n%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B\n%20%20%20%20%20%20%20%20%7D\n%20%20%20%20%20%20%7D\n    </style>\n  </head>\n  <body class=\"vsc-initialized\" style=\"margin: 0\" bgcolor=\"#fff\">\n%20%20%20%20%3Cdiv\n%20%20%20%20%20%20class%3D%22main-container%22\n%20%20%20%20%20%20style%3D%22\n%20%20%20%20%20%20%20%20background-color%3A%20%23fff%3B\n%20%20%20%20%20%20%20%20color%3A%20%23333335%3B\n%20%20%20%20%20%20%20%20font-family%3A\n%20%20%20%20%20%20%20%20%20%20Sailec%20W00%20Medium%2C\n%20%20%20%20%20%20%20%20%20%20helvetica%2C\n%20%20%20%20%20%20%20%20%20%20arial%2C\n%20%20%20%20%20%20%20%20%20%20sans-serif%3B\n%20%20%20%20%20%20%20%20margin-left%3A%20auto%3B\n%20%20%20%20%20%20%20%20margin-right%3A%20auto%3B\n%20%20%20%20%20%20%20%20margin-top%3A%2030px%3B\n%20%20%20%20%20%20%20%20width%3A%20600px%3B\n%20%20%20%20%20%20%20%20padding%3A%2015px%200%205px%3B\n%20%20%20%20%20%20%22\n%20%20%20%20%3E\n      <div class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=\"content\" style=\"margin-left: 20px; margin-right: 20px\">\n        <div class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27;>\n%20%20%20%20%20%20%20%20%20%20%3Ch1\n%20%20%20%20%20%20%20%20%20%20%20%20style%3D%22color%3A%20%233accdd%3B%20font-size%3A%2027px%3B%20font-weight%3A%20400%3B%20margin-bottom%3A%2040px%3B%20margin-top%3A%200%22\n%20%20%20%20%20%20%20%20%20%20%20%20align%3D%22center%22\n%20%20%20%20%20%20%20%20%20%20%3E\n%20%20%20%20%20%20%20%20%20%20%20%20Manage%20Email%20Preferences\n          </h1>\n          <p class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=\"intro-text\" style=\"font-size: 14px; margin-bottom: 20px\" align=\"center\">\n%20%20%20%20%20%20%20%20%20%20%20%20Select%20the%20emails%20that%20you%20want%20to%20receive.\n          </p>\n        </div>\n        <form action=\"{{preference_center_submit_url}}\" method=\"post\" accept-charset=\"UTF-8\">\n          <div class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27;>\n            <h3 class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; style=\"font-size: 15px; margin-bottom: 15px; margin-left: 5px; margin-top: 40px\">\n              Email Address: <span class=\"displayed-email\" style=\"font-weight: 400\">{{${email_address}}}</span>\n            </h3>\n          </div>\n          <div class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=\"subscription-groups-holder\" style=\"margin-bottom: 20px\"><div class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=\"row\" style=\"border-top-width: 1px; border-top-color: #dddde2; border-top-style: solid; background-color: #fff; padding: 15px 10px 14px;border-bottom: 1px solid rgb(221, 221, 226);\">\n  <label style=\"color: #27368f; cursor: pointer; font-size: 15px; font-weight: 700;\">\n    <input type=\"checkbox\" id=\"checkbox-3d2ae07a-f2ff-4318-bdff-e394f2d3a4ec\" class=\"sub_group\" style=\"margin-right: 4px;\">\n    <input type=\"hidden\" name=\"{% form_field_name :subscription_group 3d2ae07a-f2ff-4318-bdff-e394f2d3a4ec %}\" id=\"value-3d2ae07a-f2ff-4318-bdff-e394f2d3a4ec\" />\n%20%20%20%20Sub%20Group%201\n  </label>\n  <p class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=\"subscription-group\" style=\"font-size: 13px; line-height: 1.4em; min-height: 20px; padding-right: 20px; margin: 0 0 3px 23px;\">\n  </p>\n</div>\n<div class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=\"row\" style=\"border-top-width: 1px; border-top-color: #dddde2; border-top-style: solid; background-color: #fff; padding: 15px 10px 14px;border-bottom: 1px solid rgb(221, 221, 226);\">\n  <label style=\"color: #27368f; cursor: pointer; font-size: 15px; font-weight: 700;\">\n    <input type=\"checkbox\" id=\"checkbox-7d89bdc3-4aa1-4592-8b8a-4c8b7161c875\" class=\"sub_group\" style=\"margin-right: 4px;\">\n    <input type=\"hidden\" name=\"{% form_field_name :subscription_group 7d89bdc3-4aa1-4592-8b8a-4c8b7161c875 %}\" id=\"value-7d89bdc3-4aa1-4592-8b8a-4c8b7161c875\" />\n%20%20%20%20Sub%20Group%202\n  </label>\n  <p class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=\"subscription-group\" style=\"font-size: 13px; line-height: 1.4em; min-height: 20px; padding-right: 20px; margin: 0 0 3px 23px;\">\n  </p>\n</div>\n<div class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=\"row\" style=\"border-top-width: 1px; border-top-color: #dddde2; border-top-style: solid; background-color: #fff; padding: 15px 10px 14px;border-bottom: 1px solid rgb(221, 221, 226);\">\n  <label style=\"color: #27368f; cursor: pointer; font-size: 15px; font-weight: 700;\">\n    <input type=\"checkbox\" id=\"checkbox-5444d32e-2815-4258-964c-b9690d4ccb94\" class=\"sub_group\" style=\"margin-right: 4px;\">\n    <input type=\"hidden\" name=\"{% form_field_name :subscription_group 5444d32e-2815-4258-964c-b9690d4ccb94 %}\" id=\"value-5444d32e-2815-4258-964c-b9690d4ccb94\" />\n%20%20%20%20Sub%20Group%203\n  </label>\n  <p class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=\"subscription-group\" style=\"font-size: 13px; line-height: 1.4em; min-height: 20px; padding-right: 20px; margin: 0 0 3px 23px;\">\n  </p>\n</div>\n</div>\n          <div class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=\"unsub-all\" style=\"cursor: pointer; font-size: 13px; margin-bottom: 20px\" align=\"center\">\n            <label>\n              <input type=\"checkbox\" id=\"checkbox-global\" />\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22hidden%22\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3D%22value-global%22\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3D%22%7B%25%20form_field_name%20%3Aemail_global_state%20%25%7D%22\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%3E\n              <i class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27;> Unsubscribe from all of the above types of emails </i>\n            </label>\n          </div>\n          <div class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27;>\n%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22save%22\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22submit%22\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3D%22Save%22\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20style%3D%22\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgb(71%2C%20204%2C%20163)%3B\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%23fff%3B\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20block%3B\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2016px%3B\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-decoration%3A%20none%3B\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20200px%3B\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%20auto%2020px%3B\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%3B\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border-style%3A%20none%3B\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22\n%20%20%20%20%20%20%20%20%20%20%20%20%2F%3E\n          </div>\n        </form>\n      </div>\n    </div>\n  </body>\n</html>\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "name": "string",
                  "preference_center_title": "string",
                  "preference_center_page_html": "string",
                  "confirmation_page_html": "string",
                  "state": "active",
                  "options": { "meta-viewport-content": "string" }
                },
                "properties": {
                  "name": { "type": "string" },
                  "preference_center_title": { "type": "string" },
                  "preference_center_page_html": { "type": "string" },
                  "confirmation_page_html": { "type": "string" },
                  "state": { "type": "string" },
                  "options": {
                    "type": "object",
                    "properties": {
                      "meta-viewport-content": { "type": "string" }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/scim/v2/Users/{id}": {
      "delete": {
        "tags": ["SCIM"],
        "summary": "Remove dashboard user account",
        "description": "> Use this endpoint to permanently delete an existing dashboard user by specifying the resource `id` returned by the SCIM [&lt;code&gt;POST&lt;/code&gt;](https://www.braze.com/docs/scim/post_create_user_account/) method. \n  \n\nThis is similar to deleting a user in the **Manage Users** section of the Braze dashboard.\n\n## Prerequisites\n\nTo use this endpoint, you'll need a SCIM token. For more information, refer to [Automated user provisioning](https://www.braze.com/docs/scim/automated_user_provisioning/).\n\n## Rate limit\n\nThis endpoint has a rate limit of 5000 requests per day, per company. This rate limit is shared with the `/scim/v2/Users/` PUT, GET, and POST endpoints as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data type | Description |\n| --- | --- | --- | --- |\n| `id` | Required | String | The user’s resource ID. This parameter is returned by the `POST` `/scim/v2/Users/` or `GET` `/scim/v2/Users?filter=userName eq \"[user@test.com](mailto:user@test.com)\"` methods. |\n\n## Request parameters\n\nThere is no request body for this endpoint.\n\n## Example request\n\n``` json\ncurl --location --request DELETE 'https://rest.iad-01.braze.com/scim/v2/Users/dfa245b7-24195aec-887bb3ad-602b3340' \\\n--header 'Content-Type: application/json' \\\n--header 'X-Request-Origin: YOUR-REQUEST-ORIGIN-HERE' \\\n--header 'Authorization: Bearer YOUR-SCIM-TOKEN-HERE' \\\n\n ```\n\n## Response\n\n### Example error response\n\n``` json\nHTTP/1.1 204 Not Found\nContent-Type: text/html; charset=UTF-8\n\n ```\n\nIf a developer with this ID doesn’t exist in Braze, the endpoint will respond with:\n\n``` json\nHTTP/1.1 404 Not Found Content-Type: text/html; charset=UTF-8\n{ \"schemas\": [\"urn:ietf:params:scim:api:messages:2.0:Error\"], \"detail\": \"User not found\", \"status\": 404 }\n\n ```",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "X-Request-Origin",
            "in": "header",
            "schema": { "type": "string" },
            "example": "YOUR-REQUEST-ORIGIN-HERE"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer YOUR-SCIM-TOKEN-HERE"
          },
          {
            "name": "id",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "get": {
        "tags": ["SCIM"],
        "summary": "Look up an existing dashboard user account",
        "description": "> Use this endpoint to look up an existing dashboard user account by specifying the resource `id` returned by the SCIM [&lt;code&gt;POST&lt;/code&gt;](https://www.braze.com/docs/scim/post_create_user_account/) method. \n  \n\n## Prerequisites\n\nTo use this endpoint, you'll need a SCIM token. For more information, refer to [Automated user provisioning](https://www.braze.com/docs/scim/automated_user_provisioning/).\n\n## Rate limit\n\nThis endpoint has a rate limit of 5000 requests per day, per company. This rate limit is shared with the `/scim/v2/Users/` PUT, GET, DELETE, and POST endpoints as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `id` | Required | String | The user's resource ID. This parameter is returned by the `POST` `/scim/v2/Users/` or `GET` `/scim/v2/Users?filter=userName eq \"user@test.com\"` methods. |\n\n## Request parameters\n\nThere is no request body for this endpoint.\n\n## Example request\n\n``` json\ncurl --location --request GET 'https://rest.iad-01.braze.com/scim/v2/Users/dfa245b7-24195aec-887bb3ad-602b3340' \\\n--header 'Content-Type: application/json' \\\n--header 'X-Request-Origin: YOUR-REQUEST-ORIGIN-HERE' \\\n--header 'Authorization: Bearer YOUR-API-KEY-HERE' \\\n\n ```\n\n## Response\n\n``` json\n{\n    \"schemas\": [\"urn:ietf:params:scim:schemas:core:2.0:User\"],\n    \"id\": \"dfa245b7-24195aec-887bb3ad-602b3340\",\n    \"userName\": \"user@test.com\",\n    \"name\": {\n        \"givenName\": \"Test\",\n        \"familyName\": \"User\"\n    },\n    \"department\": \"finance\",\n    \"lastSignInAt\": \"Thursday, January 1, 1970 12:00:00 AM\",\n    \"createdAt\": \"Thursday, January 1, 1970 12:00:00 AM\",\n    \"permissions\": {\n        \"companyPermissions\": [\"manage_company_settings\"],\n        \"roles\": [\n            {\n                \"roleName\": \"Another Test Role\",\n                \"roleId\": \"23125dad23dfaae7,\n                \"appGroup\": [\n                    {\n                        \"appGroupId\": \"241adcd25adfabcded\",\n                        \"appGroupName\": \"Production Workspace\",\n                        \"appGroupPermissionSets\": [\n                            {\n                                \"appGroupPermissionSetName\": \"A Permission Set\",\n                                \"appGroupPermissionSetId\": \"dfa385109bc38\",\n                                \"permissions\": [\"basic_access\",\"publish_cards\"]\n                            }\n                        ]\n                    } \n                ]\n            }\n        ],\n        \"appGroup\": [\n            {\n                \"appGroupId\": \"241adcd25789fabcded\",\n                \"appGroupName\": \"Test Workspace\",\n                \"appGroupPermissions\": [\"basic_access\",\"send_campaigns_canvases\"],\n                \"team\": [\n                    {\n                         \"teamId\": \"241adcd25789fabcded\",\n                         \"teamName\": \"Test Team\",                  \n                         \"teamPermissions\": [\"admin\"]\n                    }\n                ]\n            } \n        ]\n    }\n}\n\n ```",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "X-Request-Origin",
            "in": "header",
            "schema": { "type": "string" },
            "example": "YOUR-REQUEST-ORIGIN-HERE"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer YOUR-SCIM-TOKEN-HERE"
          },
          {
            "name": "id",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "put": {
        "tags": ["SCIM"],
        "summary": "Update dashboard user account",
        "description": "> Use this endpoint to update an existing dashboard user account by specifying the resource `id` returned by the SCIM [&lt;code&gt;POST&lt;/code&gt;](https://www.braze.com/docs/scim/post_create_user_account/) method. \n  \n\nIt allows you to update of given and family names, permissions (for setting permissions at the company, app group, and team level) and department.\n\nFor security reasons, `userName` (email address) cannot be updated through this endpoint. If you would like to change the `userName` (email address) for a user, contact [Support](https://www.braze.com/docs/support_contact/).\n\n## Prerequisites\n\nTo use this endpoint, you'll need a SCIM token. For more information, refer to [Automated user provisioning](https://www.braze.com/docs/scim/automated_user_provisioning/).\n\n## Rate limit\n\nThis endpoint has a rate limit of 5000 requests per day, per company. This rate limit is shared with the `/scim/v2/Users/` GET, DELETE, and POST endpoints as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `id` | Required | String | The user's resource ID. This parameter is returned by the `POST` `/scim/v2/Users/` or `GET` `/scim/v2/Users?filter=userName eq \"user@test.com\"` methods. |\n\n## Request parameters\n\n| Parameter | Required | Data type | Description |\n| --- | --- | --- | --- |\n| `schemas` | Required | Array of strings | Expected SCIM 2.0 schema name for user object. |\n| `name` | Required | JSON object | This object contains the user's given name and family name. |\n| `department` | Required | String | Valid department string from the [department string documentation](https://{{site.baseurl}}/scim_api_appendix/#department-strings). |\n| `permissions` | Required | JSON object | Permissions object as described in the [permissions object documentation](https://{{site.baseurl}}/scim_api_appendix/#permissions-object). |\n\n## Response\n\n``` json\n{\n    \"schemas\": [\"urn:ietf:params:scim:schemas:core:2.0:User\"],\n    \"id\": \"dfa245b7-24195aec-887bb3ad-602b3340\",\n    \"userName\": \"user@test.com\",\n    \"name\": {\n        \"givenName\": \"Test\",\n        \"familyName\": \"User\"\n    },\n    \"department\": \"finance\",\n    \"lastSignInAt\": \"Thursday, January 1, 1970 12:00:00 AM\",\n    \"permissions\": {\n        \"companyPermissions\": [\"manage_company_settings\"],\n        \"appGroup\": [\n            {\n                \"appGroupId\": \"241adcd25789fabcded\",\n                \"appGroupName\": \"Test App Group\",\n                \"appGroupPermissions\": [\"basic_access\",\"send_campaigns_canvases\"],\n                \"team\": [\n                    {\n                         \"teamId\": \"2519dafcdba238ae7\",\n                         \"teamName\": \"Test Team\",                  \n                         \"teamPermissions\": [\"admin\"]\n                    }\n                ]\n            } \n        ]\n    }\n}\n\n ```\n\n### Error states\n\nIf a user with this ID doesn’t exist in Braze, the endpoint will respond with:\n\n``` json\nHTTP/1.1 404 Not Found\nContent-Type: text/html; charset=UTF-8\n{\n    \"schemas\": [\"urn:ietf:params:scim:api:messages:2.0:Error\"],\n    \"detail\": \"User not found\",\n    \"status\": 404\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"],
                  "name": { "givenName": "Test", "familyName": "User" },
                  "department": "finance",
                  "permissions": {
                    "companyPermissions": ["manage_company_settings"],
                    "appGroup": [
                      {
                        "appGroupName": "Test App Group",
                        "appGroupPermissions": [
                          "basic_access",
                          "send_campaigns_canvases"
                        ],
                        "team": [
                          {
                            "teamName": "Test Team",
                            "teamPermissions": ["admin"]
                          }
                        ]
                      }
                    ]
                  }
                },
                "properties": {
                  "schemas": { "type": "array", "items": { "type": "string" } },
                  "name": {
                    "type": "object",
                    "properties": {
                      "givenName": { "type": "string" },
                      "familyName": { "type": "string" }
                    }
                  },
                  "department": { "type": "string" },
                  "permissions": {
                    "type": "object",
                    "properties": {
                      "companyPermissions": {
                        "type": "array",
                        "items": { "type": "string" }
                      },
                      "appGroup": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "appGroupName": { "type": "string" },
                            "appGroupPermissions": {
                              "type": "array",
                              "items": { "type": "string" }
                            },
                            "team": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "teamName": { "type": "string" },
                                  "teamPermissions": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "X-Request-Origin",
            "in": "header",
            "schema": { "type": "string" },
            "example": "YOUR-REQUEST-ORIGIN-HERE"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer YOUR-SCIM-TOKEN-HERE"
          },
          {
            "name": "id",
            "in": "path",
            "schema": { "type": "string" },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/scim/v2/Users": {
      "get": {
        "tags": ["SCIM"],
        "summary": "Search existing dashboard user by email",
        "description": "> Use this endpoint to look up an existing dashboard user account by specifying their email in the filter query parameter. \n  \n\nNote that when the query parameter is URL encoded it will read like this: `/scim/v2/Users?filter=userName eq \"user@test.com\"`\n\n## Prerequisites\n\nTo use this endpoint, you'll need a SCIM token. For more information, refer to [Automated user provisioning](https://www.braze.com/docs/scim/automated_user_provisioning/).\n\n## Rate limit\n\nThis endpoint has a rate limit of 5000 requests per day, per company. This rate limit is shared with the `/scim/v2/Users/` PUT, GET, DELETE, and POST endpoints as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Path parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `userName@example.com` | Required | String | The user's email. |\n\n## Request parameters\n\nThere is no request body for this endpoint.\n\n## Response\n\n``` json\nContent-Type: application/json\nX-Request-Origin: YOUR-REQUEST-ORIGIN-HERE\nAuthorization: Bearer YOUR-SCIM-TOKEN-HERE\n{\n    \"schemas\": [\"urn:ietf:params:scim:api:messages:2.0:ListResponse\"],\n    \"totalResults\": 1,\n    \"Resources\": [\n        {\n            \"userName\": \"user@test.com\",\n            \"id\": \"dfa245b7-24195aec-887bb3ad-602b3340\",\n            \"name\": {\n                \"givenName\": \"Test\",\n                \"familyName\": \"User\"\n            },\n            \"department\": \"finance\",\n            \"lastSignInAt\": \"Thursday, January 1, 1970 12:00:00 AM\",\n            \"permissions\": {\n                \"companyPermissions\": [\"manage_company_settings\"],\n                \"appGroup\": [\n                    {\n                        \"appGroupId\": \"241adcd25789fabcded\",\n                        \"appGroupName\": \"Test Workspace\",\n                        \"appGroupPermissions\": [\"basic_access\",\"send_campaigns_canvases\"],\n                        \"team\": [\n                            {\n                                \"teamId\": \"241adcd25789fabcded\",\n                                \"teamName\": \"Test Team\",                  \n                                \"teamPermissions\": [\"admin\"]\n                            }\n                        ]\n                    } \n                ]\n            }\n        }\n    ]\n}\n\n ```",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "X-Request-Origin",
            "in": "header",
            "schema": { "type": "string" },
            "example": "YOUR-REQUEST-ORIGIN-HERE"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer YOUR-SCIM-TOKEN-HERE"
          },
          {
            "name": "filter",
            "in": "query",
            "schema": { "type": "string" },
            "example": "{userName@example.com}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      },
      "post": {
        "tags": ["SCIM"],
        "summary": "Create new dashboard user account",
        "description": "> Use this endpoint to create a new dashboard user account by specifying email, given and family names, permissions (for setting permissions at the company, app group, and team level). \n  \n\n## Prerequisites\n\nTo use this endpoint, you'll need a SCIM token. For more information, refer to [Automated user provisioning](https://www.braze.com/docs/scim/automated_user_provisioning/).\n\n## Rate limit\n\nThis endpoint has a rate limit of 5000 requests per day, per company. This rate limit is shared with the `/scim/v2/Users/` PUT, GET, and DELETE endpoints as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data type | Description |\n| --- | --- | --- | --- |\n| `schemas` | Required | Array of strings | Expected SCIM 2.0 schema name for user object. |\n| `userName` | Required | String | The user’s email address. |\n| `name` | Required | JSON object | This object contains the user's given name and family name. |\n| `department` | Required | String | Valid department string from the [department string documentation](https://{{site.baseurl}}/scim_api_appendix/#department-strings). |\n| `permissions` | Required | JSON object | Permissions object as described in the [permissions object documentation](https://{{site.baseurl}}/scim_api_appendix/#permissions-object). |\n\n## Response\n\n``` json\n{\n    \"schemas\": [\"urn:ietf:params:scim:schemas:core:2.0:User\"],\n    \"id\": \"dfa245b7-24195aec-887bb3ad-602b3340\",\n    \"userName\": \"user@test.com\",\n    \"name\": {\n        \"givenName\": \"Test\",\n        \"familyName\": \"User\"\n    },\n    \"department\": \"finance\",\n    \"lastSignInAt\": \"Thursday, January 1, 1970 12:00:00 AM\",\n    \"permissions\": {\n        \"companyPermissions\": [\"manage_company_settings\"],\n        \"appGroup\": [\n            {\n                \"appGroupId\": \"241adcd25789fabcded\",\n                \"appGroupName\": \"Test App Group\",\n                \"appGroupPermissions\": [\"basic_access\",\"send_campaigns_canvases\"],\n                \"team\": [\n                    {\n                         \"teamId\": \"2519dafcdba238ae7\",\n                         \"teamName\": \"Test Team\",                  \n                         \"teamPermissions\": [\"basic_access\",\"export_user_data\"]\n                    }\n                ]\n            } \n        ]\n    }\n}\n\n ```\n\n### Error states\n\nIf a user with this email address already exists in Braze, the endpoint will respond with:\n\n``` json\nHTTP/1.1 409 Conflict\nDate: Tue, 10 Sep 2019 02:22:30 GMT\nContent-Type: text/json;charset=UTF-8\n{\n  \"schemas\": [\"urn:ietf:params:scim:api:messages:2.0:Error\"],\n  \"detail\": \"User already exists in the database.\",\n  \"status\": 409\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"],
                  "userName": "user@test.com",
                  "name": { "givenName": "Test", "familyName": "User" },
                  "department": "finance",
                  "permissions": {
                    "companyPermissions": ["manage_company_settings"],
                    "appGroup": [
                      {
                        "appGroupName": "Test App Group",
                        "appGroupPermissions": [
                          "basic_access",
                          "send_campaigns_canvases"
                        ],
                        "team": [
                          {
                            "teamName": "Test Team",
                            "teamPermissions": [
                              "basic_access",
                              "export_user_data"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                },
                "properties": {
                  "schemas": { "type": "array", "items": { "type": "string" } },
                  "userName": { "type": "string", "format": "email" },
                  "name": {
                    "type": "object",
                    "properties": {
                      "givenName": { "type": "string" },
                      "familyName": { "type": "string" }
                    }
                  },
                  "department": { "type": "string" },
                  "permissions": {
                    "type": "object",
                    "properties": {
                      "companyPermissions": {
                        "type": "array",
                        "items": { "type": "string" }
                      },
                      "appGroup": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "appGroupName": { "type": "string" },
                            "appGroupPermissions": {
                              "type": "array",
                              "items": { "type": "string" }
                            },
                            "team": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "teamName": { "type": "string" },
                                  "teamPermissions": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "X-Request-Origin",
            "in": "header",
            "schema": { "type": "string" },
            "example": "YOUR-REQUEST-ORIGIN-HERE"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer YOUR-SCIM-TOKEN-HERE"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/sms/invalid_phone_numbers": {
      "get": {
        "tags": ["SMS"],
        "summary": "Query invalid phone numbers",
        "description": "> Use this endpoint to pull a list of phone numbers that have been deemed “invalid” within a certain time frame. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/basics#rest-api-key/) with the `sms.invalid_phone_numbers` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n|  | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `start_date` | Optional  <br>(see note) | String in YYYY-MM-DD format | Start date of the range to retrieve invalid phone numbers, must be earlier than `end_date`. This is treated as midnight in UTC time by the API. |\n| `end_date` | Optional  <br>(see note) | String in YYYY-MM-DD format | End date of the range to retrieve invalid phone numbers. This is treated as midnight in UTC time by the API. |\n| `limit` | Optional | Integer | Optional field to limit the number of results returned. Defaults to 100, maximum is 500. |\n| `offset` | Optional | Integer | Optional beginning point in the list to retrieve from. |\n| `phone_numbers` | Optional  <br>(see note) | Array of Strings in e.164 format | If provided, we will return the phone number if it has been found to be invalid. |\n| `reason` | Optional  <br>(see note) | String | Available values are “provider_error” (provider error indicates phone cannot receive SMS) or “deactivated” (phone number has been deactivated). If omitted, all reasons are returned. |\n\n- You must provide either a `start_date` and an `end_date` OR `phone_numbers`. If you provide all three, `start_date`, `end_date`, and `phone_numbers`, we prioritize the given phone numbers and disregard the date range.\n    \n- If your date range has more than the `limit` number of invalid phone numbers, you will need to make multiple API calls with increasing the `offset` each time until a call returns either fewer than `limit` or zero results.\n    \n\n## Example request\n\n``` json\ncurl --location --request GET 'https://rest.iad-01.braze.com/sms/invalid_phone_numbers?start_date=2019-01-01&end_date=2019-02-01&limit=100&offset=1&phone_numbers[]=12345678901' \\\n--header 'Authorization: Bearer YOUR-API-KEY-HERE'\n\n ```\n\n## Response\n\nEntries are listed in descending order.\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR-REST-API-KEY\n{\n  \"sms\": [\n    {\n      \"phone\": (string) phone number in e.164 format,\n      \"invalid_detected_at\": (string) the time the invalid number was detected in ISO 8601\n      \"reason\" : \"provider_error\"\n    },\n    {\n      \"phone\": (string) phone number in e.164 format,\n      \"invalid_detected_at\": (string) the time the invalid number was detected in ISO 8601\n      \"reason\" : \"deactivated\"\n    },\n    {\n      \"phone\": (string) phone number in e.164 format,\n      \"invalid_detected_at\": (string) the time the invalid number was detected in ISO 8601\n      \"reason\" : \"provider_error\"\n    }\n  ],\n  \"message\": \"success\"\n}\n\n ```",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "start_date",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional*) String in YYYY-MM-DD format \n\nStart date of the range to retrieve invalid phone numbers, must be earlier than `end_date`. This is treated as midnight in UTC time by the API.\n",
            "example": "2018-09-01"
          },
          {
            "name": "end_date",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional*) String in YYYY-MM-DD format \n\nEnd date of the range to retrieve invalid phone numbers. This is treated as midnight in UTC time by the API.\n",
            "example": "2018-09-01"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nOptional field to limit the number of results returned. Defaults to 100, maximum is 500.",
            "example": 100
          },
          {
            "name": "offset",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nOptional beginning point in the list to retrieve from.",
            "example": 1
          },
          {
            "name": "phone_numbers",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional*) Array of Strings in e.164 format\n\nIf provided, we will return the phone number if it has been found to be invalid.\n",
            "example": 12345678901
          },
          {
            "name": "reason",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String\n\nAvailable values are “provider_error” (provider error indicates phone cannot receive SMS) or “deactivated” (phone number has been deactivated). If omitted, all reasons are returned.",
            "example": "provider_error"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/sms/invalid_phone_numbers/remove": {
      "post": {
        "tags": ["SMS"],
        "summary": "Remove invalid phone numbers",
        "description": "> Use this endpoint to remove “invalid” phone numbers from Braze’s invalid list. \n  \n\nThis can be used to re-validate phone numbers after they have been marked as invalid.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/basics#rest-api-key/) with the `sms.invalid_phone_numbers.remove` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `phone_number` | Required | Array of strings in e.164 format | An array of up to 50 phone numbers to modify. |\n\n## Example request\n\n``` json\ncurl --location --request POST 'https://rest.iad-01.braze.com/sms/invalid_phone_numbers/remove' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"phone_numbers\" : [\"12183095514\",\"14255551212\"]\n}'\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": { "phone_numbers": ["string"] },
                "properties": {
                  "phone_numbers": {
                    "type": "array",
                    "items": { "type": "string" }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/subscription/status/get": {
      "get": {
        "tags": ["Subscription Groups > SMS and WhatsApp"],
        "summary": "List user's subscription group status",
        "description": "> Use this endpoint to get the subscription state of a user in a subscription group. \n  \n\nThese groups will be available on the **Subscription Group** page. The response from this endpoint will include the external ID and either subscribed, unsubscribed, or unknown for the specific subscription group requested in the API call. This can be used to update the subscription group state in subsequent API calls or to be displayed on a hosted web page.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/basics#rest-api-key/) with the `subscription.status.get` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| [<code>subscription_group_id</code>](https://www.braze.com/docs/api/identifier_types/?tab=subscription%20group%20ids) | Required | String | The `id` of your subscription group. |\n| `external_id` | Required\\* | String | The `external_id` of the user (must include at least one and at most 50 `external_ids`).  <br>  <br>When both an `external_id` and `email`/`phone` are submitted, only the `external_id`(s) provided will be applied to the result query. |\n| `phone` | Required\\* | String in [E.164](https://en.wikipedia.org/wiki/E.164) format | The phone number of the user. If email is not included, you must include at least one phone number (with a maximum of 50).  <br>  <br>Submitting both an email address and phone number (with no `external_id`) will result in an error. |\n\nOne of `external_id` or `email` or `phone` is required for each user.\n\n- For SMS and WhatsApp subscription groups, either `external_id` or `phone` is required. When both are submitted, only the `external_id` is used for querying and the phone number is applied to that user.\n    \n\n## Example request\n\n### Multiple users\n\n``` json\n1\nhttps://rest.iad-03.braze.com/subscription/status/get?subscription_group_id={{subscription_group_id}}&external_id[]=1&external_id[]=2\n\n ```\n\n### SMS and WhatsApp\n\n``` json\ncurl --location -g --request GET 'https://rest.iad-01.braze.com/subscription/status/get?subscription_group_id={{subscription_group_id}}&phone=+11112223333' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n ```",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "subscription_group_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nThe `id` of your subscription group.",
            "example": "{{subscription_group_id}}"
          },
          {
            "name": "external_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required*) String\n\nThe `external_id` of the user (must include at least one and at most 50 `external_ids`).\n\nWhen both an `external_id` and `email`/`phone` are submitted, only the `external_id`(s) provided will be applied to the result query.",
            "example": "{{external_identifier}}"
          },
          {
            "name": "phone",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required*) String in [E.164](https://en.wikipedia.org/wiki/E.164) format\n\nThe phone number of the user. If email is not included, you must include at least one phone number (with a maximum of 50).\n\nSubmitting both an email address and phone number (with no `external_id`) will result in an error.",
            "example": "+11112223333"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/subscription/user/status": {
      "get": {
        "tags": ["Subscription Groups > SMS and WhatsApp"],
        "summary": "List user's subscription group",
        "description": "> Use this endpoint to list and get the subscription groups of a certain user. \n  \n\n## Prequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/basics#rest-api-key/) with the `subscription.groups.get` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n> If there are multiple users (multiple `external_ids`) who share the same email address, all users will be returned as a separate user (even if they have the same email address or subscription group). \n  \n\n## Example request\n\n### Multiple users\n\n`https://rest.iad-03.braze.com/subscription/user/status?external_id[]=1&external_id[]=2`\n\n### SMS and WhatsApp\n\n``` json\ncurl --location -g --request GET 'https://rest.iad-01.braze.com/subscription/user/status?external_id={{external_id}}&limit=100&offset=1&phone=+11112223333' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n ```",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "external_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required*) String\n\nThe external_id of the user (must include at least one and at most 50 external_ids).",
            "example": "{{external_id}}"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nThe limit on the maximum number of results returned. Default (and maximum) limit is 100.",
            "example": 100
          },
          {
            "name": "offset",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Integer\n\nNumber of templates to skip before returning the rest of the templates that fit the search criteria.",
            "example": 1
          },
          {
            "name": "phone",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required*) String in [E.164](https://en.wikipedia.org/wiki/E.164) format\n\nThe phone number of the user. Must include at least one phone number (with a maximum of 50).",
            "example": "+11112223333"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/subscription/status/set": {
      "post": {
        "tags": ["Subscription Groups > SMS and WhatsApp"],
        "summary": "Update user's subscription group status",
        "description": "> Use this endpoint to batch update the subscription state of up to 50 users on the Braze dashboard. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/basics#rest-api-key/) with the `subscription.status.set` permission.\n\n## Rate limit\n\nThis endpoint has a rate limit of 5,000 requests per minute shared across the `/subscription/status/set` and `/v2/subscription/status/set` endpoint as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n### Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `subscription_group_id` | Required | String | The `id` of your subscription group. |\n| `subscription_state` | Required | String | Available values are `unsubscribed` (not in subscription group) or `subscribed` (in subscription group). |\n| `external_id` | Required\\* | Array of strings | The `external_id` of the user or users, may include up to 50 `id`s. |\n| `phone` | Required\\* | String in [E.164](https://en.wikipedia.org/wiki/E.164) format | The phone number of the user, can be passed as an array of strings. Must include at least one phone number (with a max of 50).  <br>  <br>If multiple users (`external_id`) in the same workspace share the same phone number, then all users that share the phone number are updated with the same subscription group changes. |\n\nThis property should not be used for updating a user’s profile information. Use the [/users/track](https://www.braze.com/docs/api/endpoints/user_data/post_user_track/) property instead.\n\n> When creating new users via the [/users/track](https://www.braze.com/docs/api/endpoints/user_data/post_user_track/) endpoint, you can set subscription groups within the user attributes object, which allows you to create a user and set the subscription group state in one API call. \n  \n\n## Example requests\n\n### SMS **and RCS**\n\n``` json\ncurl --location --request POST 'https://rest.iad-01.braze.com/subscription/status/set' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"subscription_group_id\": \"504e09e6-ffa4-4b31-96c3-c05d50d903cf\",\n  \"subscription_state\": \"unsubscribed\",\n  \"external_id\": [\n    \"user1\",\n    \"user2\"\n  ],\n  \"emails\": [\n    \"test1@braze.com\",\n    \"test2@braze.com\"\n  ],\n  \"phones\": [\n    \"+445555555555\",\n    \"+445555555556\"\n  ]\n}\n'\n\n ```\n\n## Example success response\n\nThe status code `201` could return the following response body.\n\n``` json\n{\n    \"message\": \"success\"\n}\n\n ```\n\n> The endpoint only accepts the `email` or `phone` value, not both. If given both, you will receive this response: `{\"message\":\"Either an email address or a phone number should be provided, but not both.\"}`",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "subscription_group_id": "string",
                  "subscription_state": "string",
                  "external_id": ["string"],
                  "email": ["string"]
                },
                "properties": {
                  "subscription_group_id": { "type": "string" },
                  "subscription_state": { "type": "string" },
                  "external_id": {
                    "type": "array",
                    "items": { "type": "string" }
                  },
                  "email": { "type": "array", "items": { "type": "string" } }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/v2/subscription/status/set": {
      "post": {
        "tags": ["Subscription Groups > SMS and WhatsApp"],
        "summary": "Update user's subscription group status (V2)",
        "description": "> Use this endpoint to batch update the subscription state of up to 50 users on the Braze dashboard. \n  \n\nTo use this endpoint, you’ll need to generate an API key with the `subscription.status.set` permission.\n\nYou can access a subscription group’s `subscription_group_id` by navigating to the **Subscriptions Group** page.\n\n## Rate limit\n\nThis endpoint has a rate limit of 5,000 requests per minute shared across the`/subscription/status/set` and `/v2/subscription/status/set` endpoint as documented in [API rate limits](http://localhost:4000/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `subscription_group_id` | Required | String | The `id` of your subscription group. |\n| `subscription_state` | Required | String | Available values are `unsubscribed` (not in subscription group) or `subscribed` (in subscription group). |\n| `external_ids` | Required\\* | Array of strings | The `external_id` of the user or users, may include up to 50 `id`s. |\n| `phones` | Required\\* | String in [E.164](https://en.wikipedia.org/wiki/E.164) format | The phone numbers of the user, can be passed as an array of strings. Must include at least one phone number (with a max of 50).  <br>  <br>If multiple users (`external_id`) in the same workspace share the same phone number, then all users that share the phone number are updated with the same subscription group changes. |\n\n### Example requests\n\n#### SMS\n\n``` json\ncurl --location --request POST 'https://rest.iad-01.braze.com/subscription/status/set' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY' \\\n--data-raw '{\n  \"subscription_groups\": [\n    {\n      \"subscription_group_id\": \"504e09e6-ffa4-4b31-96c3-c05d50d903cf\",\n      \"subscription_state\": \"unsubscribed\",\n      \"external_ids\": [\n        \"user1\",\n        \"user2\"\n      ],\n      \"emails\": [\n        \"test1@braze.com\",\n        \"test2@braze.com\"\n      ],\n      \"phones\": [\n        \"+445555555555\",\n        \"+445555555556\"\n      ]\n    }\n  ]\n}\n'\n\n ```\n\n### Example successful response\n\nResponse: (status 201)\n\n``` json\n{\n    \"message\": \"success\"\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "subscription_groups": [
                    {
                      "subscription_group_id": "string",
                      "subscription_state": "string",
                      "external_ids": ["string"],
                      "emails": ["string"],
                      "phones": ["string"]
                    }
                  ]
                },
                "properties": {
                  "subscription_groups": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "subscription_group_id": { "type": "string" },
                        "subscription_state": { "type": "string" },
                        "external_ids": {
                          "type": "array",
                          "items": { "type": "string" }
                        },
                        "emails": {
                          "type": "array",
                          "items": { "type": "string" }
                        },
                        "phones": {
                          "type": "array",
                          "items": { "type": "string" }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/content_blocks/list": {
      "get": {
        "tags": ["Templates > Content Blocks"],
        "summary": "List available Content Blocks",
        "description": "> Use this endpoint to list your existing [Content Blocks](https://www.braze.com/docs/user_guide/engagement_tools/templates_and_media/content_blocks/) information. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/api_key/) with the `content_blocks.list` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `modified_after` | Optional | String in [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) format | Retrieve only Content Blocks updated at or after the given time. |\n| `modified_before` | Optional | String in [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) format | Retrieve only Content Blocks updated at or before the given time. |\n| `limit` | Optional | Positive Number | Maximum number of Content Blocks to retrieve. Default to 100 if not provided, with a maximum acceptable value of 1000. |\n| `offset` | Optional | Positive Number | Number of Content Blocks to skip before returning rest of the templates that fit the search criteria. |\n\n## Example request\n\n``` json\ncurl --location --request GET 'https://rest.iad-01.braze.com/content_blocks/list?modified_after=2020-01-01T01:01:01.000000&modified_before=2020-02-01T01:01:01.000000&limit=100&offset=1' \\\n--header 'Authorization: Bearer YOUR-API-KEY-HERE'\n\n ```\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR_REST_API_KEY\n{\n  \"count\": \"integer\",\n  \"content_blocks\": [\n    {\n      \"content_block_id\": (string) the Content Block identifier,\n      \"name\": (string) the name of the Content Block,\n      \"content_type\": (string) the content type, html or text,\n      \"liquid_tag\": (string) the Liquid tags,\n      \"inclusion_count\" : (integer) the inclusion count,\n      \"created_at\": (string) The time the Content Block was created in ISO 8601,\n      \"last_edited\": (string) The time the Content Block was last edited in ISO 8601,\n      \"tags\": (array) An array of tags formatted as strings,\n    }\n  ]\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `Modified after time is invalid` | The provided date is not a valid or parsable date. Reformat this value as a string in ISO 8601 format (`yyyy-mm-ddThh:mm:ss.ffffff`). |\n| `Modified before time is invalid` | The provided date is not a valid or parsable date. Reformat this value as a string in ISO 8601 format (`yyyy-mm-ddThh:mm:ss.ffffff`). |\n| `Modified after time must be earlier than or the same as modified before time.` | Change the `modified_after` value to a time that is earlier than the `modified_before` time. |\n| `Content Block number limit is invalid` | The `limit` parameter must be an integer (positive number) greater than 0. |\n| `Content Block number limit must be greater than 0` | Change the `limit` parameter to an integer greater than 0. |\n| `Content Block number limit exceeds maximum of 1000` | Change the `limit` parameter to an integer less than 1000. |\n| `Offset is invalid` | The `offset` parameter must be an integer greater than 0. |\n| Offset must be greater than 0 | Change the `offset` parameter to an integer greater than 0. |",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "modified_after",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)\n\nRetrieve only content blocks updated at or after the given time.",
            "example": "2020-01-01T01:01:01.000000"
          },
          {
            "name": "modified_before",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)\n\nRetrieve only content blocks updated at or before the given time.",
            "example": "2020-02-01T01:01:01.000000"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Positive Number\n\nMaximum number of content blocks to retrieve. Default to 100 if not provided, with a maximum acceptable value of 1000.",
            "example": 100
          },
          {
            "name": "offset",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Positive Number\n\nNumber of content blocks to skip before returning rest of the templates that fit the search criteria.",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/content_blocks/info": {
      "get": {
        "tags": ["Templates > Content Blocks"],
        "summary": "See Content Block information",
        "description": "> Use this endpoint to call information for your existing [Content Blocks](https://www.braze.com/docs/user_guide/engagement_tools/templates_and_media/content_blocks/). \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/api_key/) with the `content_blocks.info` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `content_block_id` | Required | String | The Content Block identifier.  <br>  <br>You can find this by either listing Content Block information through an API call or going to the [API Keys](https://www.braze.com/docs/user_guide/administrative/app_settings/api_settings_tab/) page, then scrolling to the bottom and searching for your Content Block API identifier. |\n| `include_inclusion_data` | Optional | Boolean | When set to `true`, the API returns back the Message Variation API identifier of campaigns and Canvases where this Content Block is included, to be used in subsequent calls. The results exclude archived or deleted campaigns or Canvases. |\n\n## Example request\n\n``` json\ncurl --location -g --request GET 'https://rest.iad-01.braze.com/content_blocks/info?content_block_id={{content_block_id}}&include_inclusion_data=false' \\\n--header 'Authorization: Bearer YOUR-REST-API-KEY'\n\n ```\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR_REST_API_KEY\n{\n  \"content_block_id\": (string) the Content Block identifier,\n  \"name\": (string) the name of the Content Block,\n  \"content\": (string) the content in the Content Block,\n  \"description\": (string) the Content Block description,\n  \"content_type\": (string) the content type, html or text,\n  \"tags\": (array) An array of tags formatted as strings,\n  \"created_at\": (string) The time the Content Block was created in ISO 8601,\n  \"last_edited\": (string) The time the Content Block was last edited in ISO 8601,\n  \"inclusion_count\" : (integer) the inclusion count,\n  \"inclusion_data\": (array) the inclusion data,\n  \"message\": \"success\",\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `Content Block ID cannot be blank` | Make sure that a Content Block is listed in your request and is encapsulated in quotes (`\"\"`). |\n| `Content Block ID is invalid for this App Group` | This Content Block doesn't exist or is in a different company account or app group. |\n| `Content Block has been deleted—content not available` | This Content Block, though it may have existed earlier, has been deleted. |\n| `Include Inclusion Data—error` | This parameter only accepts boolean values (true or false). Make sure the value for `include_inclusion_data` is not encapsulated in quotes (`\"\"`), which causes the value to be sent as a string instead. See request headers for details. |",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "content_block_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nThe Content Block identifier.\n\nYou can find this by either listing Content Block information through an API call or going to the API Keys page, then scrolling to the bottom and searching for your Content Block API identifier.",
            "example": "{{content_block_id}}"
          },
          {
            "name": "include_inclusion_data",
            "in": "query",
            "schema": { "type": "boolean" },
            "description": "(Optional) Boolean\n\nWhen set to `true`, the API returns back the Message Variation API identifier of campaigns and Canvases where this Content Block is included, to be used in subsequent calls. The results exclude archived or deleted campaigns or Canvases.\n"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/content_blocks/create": {
      "post": {
        "tags": ["Templates > Content Blocks"],
        "summary": "Create Content Block",
        "description": "> Use this endpoint to create a [Content Block](https://www.braze.com/docs/user_guide/engagement_tools/templates_and_media/content_blocks/). \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/api_key/) with the `content_blocks.create` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `name` | Required | String | Name of the Content Block. Must be less than 100 characters. |\n| `description` | Optional | String | Description of the Content Block. Must be less than 250 characters. |\n| `content` | Required | String | HTML or text content within the Content Block. |\n| `state` | Optional | String | Choose `active` or `draft`. Defaults to `active` if not specified. |\n| `tags` | Optional | Array of strings | [Tags](https://www.braze.com/docs/user_guide/administrative/app_settings/manage_app_group/tags/) must already exist. |\n\n## Example request\n\n``` json\nCopiedcurl --location --request POST 'https://rest.iad-01.braze.com/content_blocks/create' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR_REST_API_KEY' \\\n--data-raw '{\n  \"name\": \"content_block\",\n  \"description\": \"This is my Content Block\",\n  \"content\": \"HTML content within block\",\n  \"state\": \"draft\",\n  \"tags\": [\"marketing\"]\n}'\n\n ```\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR_REST_API_KEY\n{\n  \"content_block_id\": (string) Your newly generated block id,\n  \"liquid_tag\": (string) The generated block tag from the Content Block name,\n  \"created_at\": (string) The time the Content Block was created in ISO 8601,\n  \"message\": \"success\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `Content cannot be blank` |  |\n| `Content must be a string` | Make sure your content is encapsulated in quotes (`\"\"`). |\n| `Content must be smaller than 50kb` | The content in your Content Block must be less than 50kb total. |\n| `Content contains malformed liquid` | The Liquid provided is not valid or parsable. Try again with valid Liquid or reach out to support. |\n| `Content Block cannot be referenced within itself` |  |\n| `Content Block description cannot be blank` |  |\n| `Content Block description must be a string` | Make sure your Content Block description is encapsulated in quotes (`\"\"`). |\n| `Content Block description must be shorter than 250 characters` |  |\n| `Content Block name cannot be blank` |  |\n| `Content Block name must be shorter than 100 characters` |  |\n| `Content Block name can only contain alphanumeric characters` | Content Block names can include any of the following characters: the letters (capitalized or lowercase) `A` through `Z`, the numbers `0` through `9`, dashes `-`, and underscores `_`. It cannot contain non-alphanumeric characters like emojis, `!`, `@`, `~`, `&`, and other “special” characters. |\n| `Content Block with this name already exists` | Try a different name. |\n| `Content Block state must be either active or draft` |  |\n| `Tags must be an array` | Tags must be formatted as an array of strings, for example `[\"marketing\", \"promotional\", \"transactional\"]`. |\n| `All tags must be strings` | Make sure your tags are encapsulated in quotes (`\"\"`). |\n| `Some tags could not be found` | To add a tag when creating a Content Block, the tag must already exist in Braze. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "name": "string",
                  "description": "string",
                  "content": "string",
                  "state": "active",
                  "tags": ["string"]
                },
                "properties": {
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "content": { "type": "string" },
                  "state": { "type": "string" },
                  "tags": { "type": "array", "items": { "type": "string" } }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/content_blocks/update": {
      "post": {
        "tags": ["Templates > Content Blocks"],
        "summary": "Update Content Block",
        "description": "> Use this endpoint to update a [Content Block](https://www.braze.com/docs/user_guide/engagement_tools/templates_and_media/content_blocks/). \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/api_key/) with the `content_blocks.update` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `content_block_id` | Required | String | Your content block's API identifier. |\n| `name` | Required | String | Name of the content block. Must be less than 100 characters. |\n| `description` | Optional | String | Description of the content block. Must be less than 250 characters. |\n| `content` | Required | String | HTML or text content within content blocks. |\n| `state` | Optional | String | Choose `active` or `draft`. Defaults to `active` if not specified. |\n| `tags` | Optional | Array of strings | [Tags](https://www.braze.com/docs/user_guide/administrative/app_settings/manage_app_group/tags/) must already exist. |\n\n## Example request\n\n``` json\ncurl --location --request POST 'https://rest.iad-01.braze.com/content_blocks/update' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR_REST_API_KEY' \\\n--data-raw '{\n  \"content_block_id\" :\"content_block_id\",\n  \"name\": \"content_block\",\n  \"description\": \"This is my Content Block\",\n  \"content\": \"HTML or text content within block\",\n  \"state\": \"draft\",\n  \"tags\": [\"marketing\"]\n}'\n\n ```\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR_REST_API_KEY\n{\n  \"content_block_id\": (string) Your newly generated block id,\n  \"liquid_tag\": (string) The generated block tag from the Content Block name,\n  \"created_at\": (string) The time the Content Block was created in ISO 8601,\n  \"message\": \"success\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `Content cannot be blank` |  |\n| `Content must be a string` | Make sure your content is encapsulated in quotes (`\"\"`). |\n| `Content must be smaller than 50kb` | The content in your Content Block must be less than 50kb total. |\n| `Content contains malformed liquid` | The Liquid provided is not valid or parsable. Try again with valid Liquid or reach out to support. |\n| `Content Block cannot be referenced within itself` |  |\n| `Content Block description cannot be blank` |  |\n| `Content Block description must be a string` | Make sure your Content Block description is encapsulated in quotes (`\"\"`). |\n| `Content Block description must be shorter than 250 characters` |  |\n| `Content Block name cannot be blank` |  |\n| `Content Block name must be shorter than 100 characters` |  |\n| `Content Block name can only contain alphanumeric characters` | Content Block names can include any of the following characters: the letters (capitalized or lowercase) `A` through `Z`, the numbers `0` through `9`, dashes `-`, and underscores `_`. It cannot contain non-alphanumeric characters like emojis, `!`, `@`, `~`, `&`, and other “special” characters. |\n| `Content Block with this name already exists` | Try a different name. |\n| `Content Block name cannot be updated for active Content Blocks` |  |\n| `Content Block state must be either active or draft` |  |\n| `Active Content Block can not be updated to Draft. Create a new Content Block.` |  |\n| `Tags must be an array` | Tags must be formatted as an array of strings, for example `[\"marketing\", \"promotional\", \"transactional\"]`. |\n| `All tags must be strings` | Make sure your tags are encapsulated in quotes (`\"\"`). |\n| `Some tags could not be found` | To add a tag when creating a Content Block, the tag must already exist in Braze. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "content_block_id": "string",
                  "name": "string",
                  "description": "string",
                  "content": "string",
                  "state": "active",
                  "tags": ["string"]
                },
                "properties": {
                  "content_block_id": { "type": "string" },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "content": { "type": "string" },
                  "state": { "type": "string" },
                  "tags": { "type": "array", "items": { "type": "string" } }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/templates/email/list": {
      "get": {
        "tags": ["Templates > Email Templates"],
        "summary": "List available email templates",
        "description": "> Use this endpoint to get a list of available templates in your Braze account. \n  \n\n## Prerequisites\n\nTo use this endpoint, you'll need an [API key](https://braze.com/docs/api/api_key/) with the `templates.email.list` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `modified_after` | Optional | String in [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) format | Retrieve only templates updated at or after the given time. |\n| `modified_before` | Optional | String in [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) format | Retrieve only templates updated at or before the given time. |\n| `limit` | Optional | Positive number | Maximum number of templates to retrieve. Default to 100 if not provided, with a maximum acceptable value of 1000. |\n| `offset` | Optional | Positive number | Number of templates to skip before returning rest of the templates that fit the search criteria. |\n\n## Example request\n\n``` json\ncurl --location --request GET 'https://rest.iad-01.braze.com/templates/email/list?modified_after=2020-01-01T01:01:01.000000&modified_before=2020-02-01T01:01:01.000000&limit=1&offset=0' \\\n--header 'Authorization: Bearer YOUR_REST_API_KEY'\n\n ```\n\n## Response\n\n**Important:** Templates built using the drag-and-drop editor for email are not provided in this response.\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR_REST_API_KEY\n{\n  \"count\": the number of templates returned\n  \"templates\": [template with the following properties]:\n    \"email_template_id\": (string) your email template's API Identifier,\n    \"template_name\": (string) the name of your email template,\n    \"created_at\": (string) the time the email was created at in ISO 8601,\n    \"updated_at\": (string) the time the email was updated in ISO 8601,\n    \"tags\": (array of strings) tags appended to the template\n}\n\n ```",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "modified_after",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)\n\nRetrieve only templates updated at or after the given time.",
            "example": "2020-01-01T01:01:01.000000"
          },
          {
            "name": "modified_before",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)\n\nRetrieve only templates updated at or before the given time.",
            "example": "2020-02-01T01:01:01.000000"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Positive Number\n\nMaximum number of templates to retrieve. Default to 100 if not provided, with a maximum acceptable value of 1000.",
            "example": 1
          },
          {
            "name": "offset",
            "in": "query",
            "schema": { "type": "integer" },
            "description": "(Optional) Positive Number\n\nNumber of templates to skip before returning rest of the templates that fit the search criteria."
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/templates/email/info": {
      "get": {
        "tags": ["Templates > Email Templates"],
        "summary": "See email template information",
        "description": "> Use this endpoint to get information on your email templates. \n  \n\n**Important:** Templates built using the drag-and-drop editor are not accepted.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/api_key/) with the `templates.email.info` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `email_template_id` | Required | String | See [email template API identifier](https://www.braze.com/docs/api/identifier_types/). |\n\n## Example request\n\n``` json\ncurl --location -g --request GET 'https://rest.iad-01.braze.com/templates/email/info?email_template_id={{email_template_id}}' \\\n--header 'Authorization: Bearer YOUR_REST_API_KEY'\n\n ```\n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR_REST_API_KEY\n{\n  \"email_template_id\": (string) Your email template's API Identifier,\n  \"template_name\": (string) The name of your email template,\n  \"description\": (string) The email template description,\n  \"subject\": (string) The email template subject line,\n  \"preheader\": (optional, string) The email preheader used to generate previews in some clients),\n  \"body\": (optional, string) The email template body that may include HTML,\n  \"plaintext_body\": (optional, string) A plaintext version of the email template body,\n  \"should_inline_css\": (optional, boolean) Whether there is inline CSS in the body of the template - defaults to the css inlining value for the workspace,\n  \"tags\": (string) Tag names,\n  \"created_at\": (string) The time the email was created at in ISO 8601,\n  \"updated_at\": (string) The time the email was updated in ISO 8601\n}\n\n ```\n\nImages in this response will show in the `body` variable as HTML.",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "email_template_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String\n\nSee [email template's API identifier](https://www.braze.com/docs/api/identifier_types/).",
            "example": "{{email_template_id}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/templates/email/create": {
      "post": {
        "tags": ["Templates > Email Templates"],
        "summary": "Create email template",
        "description": "> Use this endpoint to create email templates on the Braze dashboard. \n  \n\nThese templates will be available on the **Templates & Media** page. The response from this endpoint will include a field for `email_template_id`, which can be used to update the template in subsequent API calls.\n\nUsers’ email subscription status can be updated and retrieved with Braze using a RESTful API. You can use the API to set up bi-directional sync between Braze and other email systems or your own database. All API requests are made over HTTPS.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/api_key/) with the `templates.email.create` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `template_name` | Required | String | Name of your email template. |\n| `subject` | Required | String | Email template subject line. |\n| `body` | Required | String | Email template body that may include HTML. |\n| `plaintext_body` | Optional | String | A plaintext version of the email template body. |\n| `preheader` | Optional | String | Email preheader used to generate previews in some clients. |\n| `tags` | Optional | String | [Tags](https://www.braze.com/docs/user_guide/administrative/app_settings/manage_app_group/tags/) must already exist. |\n| `should_inline_css` | Optional | Boolean | Enables or disables the `inline_css` feature per template. If not provided, Braze will use the default setting for the app group. One of `true` or `false` is expected. |\n\n## Example request\n\n``` json\nCopiedcurl --location --request POST 'https://rest.iad-01.braze.com/templates/email/create' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR_REST_API_KEY' \\\n--data-raw '{\n  \"template_name\": \"email_template_name\",\n  \"subject\": \"Welcome to my email template!\",\n  \"body\": \"This is the text within my email body and https://www.braze.com/ here is a link to Braze.com.\",\n  \"plaintext_body\": \"This is the text within my email body and here is a link to https://www.braze.com/.\",\n  \"preheader\": \"My preheader is pretty cool.\",\n  \"tags\": [\"Tag1\", \"Tag2\"]\n}'\n\n ```\n\n## Possible errors\n\nThe following table lists possible returned errors and their associated troubleshooting steps, if applicable.\n\n| Error | Troubleshooting |\n| --- | --- |\n| Template name is required | Enter a template name. |\n| Tags must be an array | Tags must be formatted as an array of strings, for example `[\"marketing\", \"promotional\", \"transactional\"]`. |\n| All tags must be strings | Make sure your tags are encapsulated in quotes (`\"\"`). |\n| Some tags could not be found | To add a tag when creating an email template, the tag must already exist in Braze. |\n| Email must have valid Content Block names | The email might contain Content Blocks that don’t exist in this environment. |\n| Invalid value for `should_inline_css`. One of `true` or `false` was expected | This parameter only accepts boolean values (true or false). Make sure the value for `should_inline_css` is not encapsulated in quotes (`\"\"`), which causes the value to be sent as a string instead. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "template_name": "string",
                  "subject": "string",
                  "body": "string",
                  "plaintext_body": "string",
                  "preheader": "string",
                  "tags": ["string"],
                  "should_inline_css": true
                },
                "properties": {
                  "template_name": { "type": "string" },
                  "subject": { "type": "string" },
                  "body": { "type": "string" },
                  "plaintext_body": { "type": "string" },
                  "preheader": { "type": "string" },
                  "tags": { "type": "array", "items": { "type": "string" } },
                  "should_inline_css": { "type": "boolean" }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "template_name",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String"
          },
          {
            "name": "subject",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String"
          },
          {
            "name": "body",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String"
          },
          {
            "name": "plaintext_body",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String"
          },
          {
            "name": "preheader",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String"
          },
          {
            "name": "tags",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String"
          },
          {
            "name": "should_inline_css",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Boolean"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/templates/email/update": {
      "post": {
        "tags": ["Templates > Email Templates"],
        "summary": "Update email template",
        "description": "> Use this endpoint to update email templates on the Braze dashboard. \n  \n\nYou can access an email template’s `email_template_id` by navigating to it on the **Templates & Media** page. The [Create email template endpoint](https://www.braze.com/docs/api/endpoints/templates/email_templates/post_create_email_template/) will also return an `email_template_id` reference.\n\nAll fields other than the `email_template_id` are optional, but you must specify at least one field to update.\n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/api_key/) with the `templates.email.update` permission.\n\n## Rate limit\n\nWe apply the default Braze rate limit of 250,000 requests per hour to this endpoint, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `email_template_id` | Required | String | Your [email template’s API identifier](https://www.braze.com/docs/api/identifier_types/). |\n| `template_name` | Optional | String | Name of your email template. |\n| `subject` | Optional | String | Email template subject line. |\n| `body` | Optional | String | Email template body that may include HTML. |\n| `plaintext_body` | Optional | String | A plaintext version of the email template body. |\n| `preheader` | Optional | String | Email preheader used to generate previews in some clients. |\n| `tags` | Optional | String | [Tags](https://www.braze.com/docs/user_guide/administrative/app_settings/manage_app_group/tags/) must already exist. |\n| `should_inline_css` | Optional | Boolean | Enables or disables the `inline_css` feature per template. If not provided, Braze will use the default setting for the AppGroup. One of `true` or `false` is expected. |\n\n### Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps, if applicable.\n\n| Error | Troubleshooting |\n| --- | --- |\n| Template name is required |  |\n| Tags must be an array | Tags must be formatted as an array of strings, for example `[\"marketing\", \"promotional\", \"transactional\"]`. |\n| All tags must be strings | Make sure your tags are encapsulated in quotes (`\"\"`). |\n| Some tags could not be found | To add a tag when creating an email template, the tag must already exist in Braze. |\n| Invalid value for `should_inline_css`. One of `true` or `false` was expected | This parameter only accepts boolean values (true or false). Make sure the value for `should_inline_css` is not encapsulated in quotes (`\"\"`), which causes the value to be sent as a string instead. |\n\n## Example request\n\n``` json\ncurl --location --request POST 'https://rest.iad-01.braze.com/templates/email/update' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR_REST_API_KEY' \\\n--data-raw '{\n  \"email_template_id\": \"email_template_id\",\n  \"template_name\": \"Weekly Newsletter\",\n  \"subject\": \"This Week'\\''s Styles\",\n  \"body\": \"Check out this week'\\''s digital lookbook to inspire your outfits. Take a look at https://www.braze.com/\",\n  \"plaintext_body\": \"This is the updated text within my email body and here is a link to https://www.braze.com/.\",\n  \"preheader\": \"We want you to have the best looks this summer\",\n  \"tags\": [\"Tag1\", \"Tag2\"]\n}'\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible returned errors and their associated troubleshooting steps, if applicable.\n\n| Error | Troubleshooting |\n| --- | --- |\n| Template name is required | Enter a template name. |\n| Tags must be an array | Tags must be formatted as an array of strings, for example `[\"marketing\", \"promotional\", \"transactional\"]`. |\n| All tags must be strings | Make sure your tags are encapsulated in quotes (`\"\"`). |\n| Some tags could not be found | To add a tag when creating an email template, the tag must already exist in Braze. |\n| Invalid value for `should_inline_css`. One of `true` or `false` was expected | This parameter only accepts boolean values (true or false). Make sure the value for `should_inline_css` is not encapsulated in quotes (`\"\"`), which causes the value to be sent as a string instead. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "email_template_id": "string",
                  "template_name": "string",
                  "subject": "string",
                  "body": "string",
                  "plaintext_body": "string",
                  "preheader": "string",
                  "tags": ["string"],
                  "should_inline_css": true
                },
                "properties": {
                  "email_template_id": { "type": "string" },
                  "template_name": { "type": "string" },
                  "subject": { "type": "string" },
                  "body": { "type": "string" },
                  "plaintext_body": { "type": "string" },
                  "preheader": { "type": "string" },
                  "tags": { "type": "array", "items": { "type": "string" } },
                  "should_inline_css": { "type": "boolean" }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          },
          {
            "name": "email_template_id",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Required) String",
            "example": "{{email_template_id}}"
          },
          {
            "name": "template_name",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String"
          },
          {
            "name": "subject",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String"
          },
          {
            "name": "body",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String"
          },
          {
            "name": "plaintext_body",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String"
          },
          {
            "name": "preheader",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String"
          },
          {
            "name": "tags",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) String"
          },
          {
            "name": "should_inline_css",
            "in": "query",
            "schema": { "type": "string" },
            "description": "(Optional) Boolean"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/users/external_ids/rename": {
      "post": {
        "tags": ["User Data > External ID Migration"],
        "summary": "Rename external ID",
        "description": "> Use this endpoint to rename your users’ external IDs. \n  \n\nYou can send up to 50 rename objects per request.\n\nThis endpoint sets a new (primary) `external_id` for the user and deprecates their existing `external_id`. This means that the user can be identified by either `external_id` until the deprecated one is removed. Having multiple external IDs allows for a migration period so that older versions of your apps that use the previous external ID naming schema don’t break.\n\nAfter your old naming schema is no longer in use, we highly recommend removing deprecated external IDs using the [<code>/users/external_ids/remove</code>&nbsp;endpoint](https://www.braze.com/docs/api/endpoints/user_data/external_id_migration/post_external_ids_remove).\n\n> **Warning:** Make sure to remove deprecated external IDs with the `/users/external_ids/remove` endpoint instead of `/users/delete`. Sending a request to `/users/delete` with the deprecated external ID deletes the user profile entirely and cannot be undone. \n  \n\n## Prerequisites\n\nTo use this endpoint, you’ll need an [API key](https://www.braze.com/docs/api/api_key/) with the `users.external_ids.rename` permission.\n\n## Rate limit\n\nWe apply a rate limit of 1,000 requests per minute to this endpoint, as documented in [API rate limits](http://braze.com/docs/api/api_limits/).\n\n### Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `external_id_renames` | Required | Array of external identifier rename objects | View request example and the following limitations for structure of external ID rename object |\n\nNote the following:\n\n- The `current_external_id` must be the user’s primary ID, and cannot be a deprecated ID.\n    \n- The `new_external_id` must not already be in use as either a primary ID or a deprecated ID.\n    \n- The `current_external_id` and `new_external_id` cannot be the same.\n    \n\n## Response\n\nThe response will confirm all successful renames, as well as unsuccessful renames with any associated errors. Error messages in the `rename_errors` field will reference the index of the object in the array of the original request.\n\n``` json\n{\n  \"message\" : (string) status message,\n  \"external_ids\" : (array of strings) successful rename operations,\n  \"rename_errors\": (array of arrays) <minor error message>\n}\n\n ```\n\nThe `message` field will return `success` for any valid request. More specific errors are captured in the `rename_errors` array. The `message` field returns an error in the case of:\n\n- Invalid API key\n    \n- Empty `external_id_renames` array\n    \n- `external_id_renames` array with more than 50 objects\n    \n- Rate limit hit (more than 1,000 requests per minute)\n    \n\n## Frequently Asked Questions\n\n### **Does this impact MAU?**\n\nNo, since the number of users will stay the same, they’ll just have a new `external_id`.\n\n### **Does user behavior change historically?**\n\nNo, since the user is still the same user, and all their historical behavior is still connected to them.\n\n### **Can it be run on development or staging app groups?**\n\nYes. In fact, we highly recommend running a test migration on a staging or development app group, and ensuring everything has gone smoothly before executing on production data.\n\n### **Does this consume data points?**\n\nThis feature does not cost data points.\n\n### **What is the recommended deprecation period?**\n\nWe have no hard limit on how long you can keep deprecated external IDs around, but we highly recommend removing them once there is no longer a need to reference users by the deprecated ID.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "external_id_renames": [
                    {
                      "current_external_id": "existing_external_id",
                      "new_external_id": "new_external_id"
                    }
                  ]
                },
                "properties": {
                  "external_id_renames": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "current_external_id": { "type": "string" },
                        "new_external_id": { "type": "string" }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/users/external_ids/remove": {
      "post": {
        "tags": ["User Data > External ID Migration"],
        "summary": "Remove external ID",
        "description": "> Use this endpoint to remove your users' old deprecated external IDs. \n  \n\nYou can send up to 50 external IDs per request. To use this endpoint, you’ll need to generate an [API key](https://www.braze.com/docs/api/api_key/) with the `users.external_ids.remove` permission.\n\n> **Warning:** This endpoint completely removes the deprecated ID and cannot be undone. Using this endpoint to remove deprecated \\`external_ids\\` that are still associated with users in your system can permanently prevent you from finding those users' data. \n  \n\n## Rate limit\n\nWe apply a rate limit of 1,000 requests per minute to this endpoint, as documented in [API rate limits](http://braze.com/docs/api/api_limits/).\n\n### Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `external_ids` | Required | Array of strings | External identifiers for the users to remove |\n\n> **Important:** Only deprecated IDs can be removed; attempting to remove a primary external ID will result in an error. \n  \n\n## Response\n\nThe response will confirm all successful removals, as well as unsuccessful removals with the associated errors. Error messages in the `removal_errors` field will reference the index in the array of the original request.\n\n``` json\n{\n  \"message\" : (string) status message,\n  \"removed_ids\" : (array of strings) successful remove operations,\n  \"removal_errors\": (array of arrays) <minor error message>\n}\n\n ```\n\nThe `message` field will return `success` for any valid request. More specific errors are captured in the `removal_errors` array. The `message` field returns an error in the case of:\n\n- Invalid API key\n    \n- Empty `external_ids` array\n    \n- `external_ids` array with more than 50 items\n    \n- Rate limit hit (more than 1,000 requests per minute)",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "external_ids": ["existing_deprecated_external_id_string"]
                },
                "properties": {
                  "external_ids": {
                    "type": "array",
                    "items": { "type": "string" }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/users/alias/new": {
      "post": {
        "tags": ["User Data"],
        "summary": "Create new user alias",
        "description": "> Use this endpoint to add new user aliases for existing identified users, or to create new unidentified users. \n  \n\nUp to 50 user aliases may be specified per request.\n\n**Adding a user alias for an existing user** requires an `external_id` to be included in the new user alias object. If the `external_id` is present in the object but there is no user with that `external_id`, the alias will not be added to any users. If an `external_id` is not present, a user will still be created but will need to be identified later. You can do this using the “Identifying Users” and the `users/identify` endpoint.\n\n**Creating a new alias-only user** requires the `external_id` to be omitted from the new user alias object. After the user is created, use the `/users/track` endpoint to associate the alias-only user with attributes, events, and purchases, and the `/users/identify` endpoint to identify the user with an `external_id`.\n\n## Prerequisites\n\nTo use this endpoint, you'll need an [API key](https://braze.com/docs/api/api_key/) with the `users.alias.new` permission.\n\n### Rate limit\n\nFor customers who onboarded with Braze on or after September 16, 2021, we apply a shared rate limit of 20,000 requests per minute to this endpoint. This rate limit is shared with the `/users/delete`, `/users/identify`, `/users/merge`, and `/users/alias/update` endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n### Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `user_aliases` | Required | Array of new user alias objects | See [user alias object](https://www.braze.com/docs/api/objects_filters/user_alias_object/).  <br>  <br>For more information on `alias_name` and `alias_label`, check out our [User Aliases](https://www.braze.com/docs/user_guide/data_and_analytics/user_data_collection/user_profile_lifecycle/#user-aliases) documentation. |\n\n### Response\n\n``` json\n\nContent-Type: application/json\nAuthorization: Bearer YOUR_REST_API_KEY\n{\n    \"aliases_processed\": 1,\n    \"message\": \"success\"\n}\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "user_aliases": [
                    {
                      "external_id": "external_identifier",
                      "alias_name": "example_name",
                      "alias_label": "example_label"
                    }
                  ]
                },
                "properties": {
                  "user_aliases": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "external_id": { "type": "string" },
                        "alias_name": { "type": "string" },
                        "alias_label": { "type": "string" }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/users/alias/update": {
      "post": {
        "tags": ["User Data"],
        "summary": "Update user alias",
        "description": "> Use this endpoint to update existing user aliases. \n  \n\nUp to 50 user aliases may be specified per request.\n\nUpdating a user alias requires `alias_label`, `old_alias_name`, and `new_alias_name` to be included in the update user alias object. If there is no user alias associated with the `alias_label` and `old_alias_name`, no alias will be updated. If the given `alias_label` and `old_alias_name` is found, then the `old_alias_name` will be updated to the `new_alias_name`.\n\n**Note:** This endpoint does not guarantee the sequence of `alias_updates` objects being updated.\n\n## Prerequisites\n\nTo use this endpoint, you'll need an [API key](https://braze.com/docs/api/api_key/) with the `users.alias.update` permission.\n\n## Rate limit\n\nFor customers who onboarded with Braze on or after September 16, 2021, we apply a shared rate limit of 20,000 requests per minute to this endpoint. This rate limit is shared with the `/users/delete`, `/users/identify`, `/users/merge`, and `/users/alias/update` endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n### Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `alias_updates` | Required | Array of update user alias objects | See [user alias object](https://www.braze.com/docs/api/objects_filters/user_alias_object/).  <br>  <br>For more information on `old_alias_name`, `new_alias_name`, and `alias_label`, refer to [User aliases](https://www.braze.com/docs/user_guide/data_and_analytics/user_data_collection/user_profile_lifecycle/#user-aliases). |\n\n### Endpoint request body with update user alias object specification\n\n``` json\n{\n  \"alias_label\" : (required, string),\n  \"old_alias_name\" : (required, string),\n  \"new_alias_name\" : (required, string)\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "alias_updates": [
                    {
                      "alias_label": "example_alias_label",
                      "old_alias_name": "example_old_alias_name",
                      "new_alias_name": "example_new_alias_name"
                    }
                  ]
                },
                "properties": {
                  "alias_updates": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "alias_label": { "type": "string" },
                        "old_alias_name": { "type": "string" },
                        "new_alias_name": { "type": "string" }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/users/identify": {
      "post": {
        "tags": ["User Data"],
        "summary": "Identify users",
        "description": "> Use this endpoint to identify an unidentified (alias-only or email-only) user using the provided external ID. \n  \n\n## How it works\n\nCalling `/users/identify` combines a user profile that is identified by an alias (alias-only profile) or email address (email-only profile) with a user profile that has an `external_id` (identified profile), then removes the alias-only profile.\n\nIdentifying a user requires an `external_id` to be included in the `aliases_to_identify` or `emails_to_identify` object. If there isn’t a user with that `external_id`, the `external_id` will be added to the aliased user’s record, and the user will be considered identified.\n\nNote the following:\n\n- When these subsequent associations are made with the `merge_behavior` field set to `none`, only the push tokens and message history associated with the user alias are retained; any attributes, events, or purchases will be “orphaned” and not available on the identified user. One workaround is to export the aliased user’s data before identification using the [<code>/users/export/ids</code>&nbsp;endpoint](https://www.braze.com/docs/api/endpoints/export/user_data/post_users_identifier/), then re-associate the attributes, events, and purchases with the identified user.\n    \n- When associations are made with the `merge_behavior` field set to `merge`, this endpoint will merge [specific fields](https://www.braze.com/docs/api/endpoints/user_data/post_user_identify#merge) found on the anonymous user to the identified user.\n    \n\n> **Tip**: To prevent unexpected loss of data when identifying users, we highly recommend that you first refer to [data collection best practices](https://www.braze.com/docs/user_guide/data_and_analytics/user_data_collection/best_practices/#capturing-user-data-when-alias-only-user-info-is-already-present) to learn about capturing user data when alias-only user info is already present. \n  \n\n## Prerequisites\n\nTo use this endpoint, you'll need an [API key](https://braze.com/docs/api/api_key/) with the `users.identify` permission.\n\n## Rate limit\n\nFor customers who onboarded with Braze on or after September 16, 2021, we apply a shared rate limit of 20,000 requests per minute to this endpoint. This rate limit is shared with the `/users/delete`, `/users/identify`, `/users/merge`, and `/users/alias/update` endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `aliases_to_identify` | Required | Array of aliases to identify object | See [alias to identify object](https://www.braze.com/docs/api/objects_filters/aliases_to_identify/) and [user alias object](https://www.braze.com/docs/api/objects_filters/user_alias_object/). |\n| `emails_to_identify` | Required | Array of aliases to identify object | See [Identifying users by email](https://www.braze.com/docs/api/endpoints/user_data/post_user_identify/#identifying-users-by-email). |\n| `merge_behavior` | Optional | String | One of `none` or `merge` is expected. |\n\n#### Merge_behavior field\n\nSetting the `merge_behavior` field to `merge` sets the endpoint to merge the following list of fields found **exclusively** on the anonymous user to the identified user. Setting the field to `none` will not merge any user data to the identified user profile.\n\n- First name\n    \n- Last name\n    \n- Email\n    \n- Gender\n    \n- Date of birth\n    \n- Phone number\n    \n- Time zone\n    \n- Home city\n    \n- Country\n    \n- Language\n    \n- Session count (the sum of sessions from both profiles)\n    \n- Date of first session (Braze will pick the earlier date of the two dates)\n    \n- Date of last session (Braze will pick the later date of the two dates)\n    \n- Custom attributes\n    \n- Custom event and purchase event data (excluding event properties)\n    \n- Custom event and purchase event properties for \"X times in Y days\" segmentation (where X<=50 and Y<=30)\n    \n- Segmentable custom events summary\n    \n    - Event count (the sum from both profiles)\n        \n    - Event first occurred (Braze will pick the earlier date of the two dates)\n        \n    - Event last occurred (Braze will pick the later date of the two dates)\n        \n- In-app purchase total in cents (the sum from both profiles)\n    \n- Total number of purchases (the sum from both profiles)\n    \n- Date of first purchase (Braze will pick the earlier date of the two dates)\n    \n- Date of last purchase (Braze will pick the later date of the two dates)\n    \n- App summaries\n    \n- Last_X_at fields (Braze will update the fields if the orphaned profile fields are more recent)\n    \n- Campaign summaries (Braze will pick the most recent date fields)\n    \n- Workflow summaries (Braze will pick the most recent date fields)\n    \n- Message and message engagement history\n    \n- Custom event and purchase event count and first date and last date timestamps\n    \n    - These merged fields will update “for X events in Y days” filters. For purchase events, these filters include “number of purchases in Y days” and “money spent in last Y days”.\n        \n- Session data if the app exists on both user profiles\n    \n    - For example, if our target user doesn’t have an app summary for “ABCApp” but our original user does, the target user will have the “ABCApp” app summary on their profile after the merge.\n        \n\n### Identifying users by email\n\nIf an `email` is specified as an identifier, an additional `prioritization` value is required in the identifier. The `prioritization` should be an array specifying which user to merge if there are multiple users found. `prioritization` is an ordered array, meaning if more than one user matches from a prioritization, then merging will not occur.\n\nThe allowed values for the array are: `identified`, `unidentified`, `most_recently_updated`. `most_recently_updated` refers to prioritizing the most recently updated user.\n\nOnly one of the following options may exist in the prioritization array at a time:\n\n- `identified` refers to prioritizing a user with an `external_id`\n    \n- `unidentified` refers to prioritizing a user without an `external_id`\n    \n\n## Request example\n\n```\ncurl --location --request POST 'https://rest.iad-01.braze.com/users/identify' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR_REST_API_KEY' \\\n--data-raw '{\n  \"aliases_to_identify\": [\n    {\n      \"external_id\": \"external_identifier\",\n      \"user_alias\": {\n          \"alias_name\": \"example_alias\",\n          \"alias_label\": \"example_label\"\n      }\n    }\n  ],\n  \"emails_to_identify\": [\n    {\n      \"external_id\": \"external_identifier_2\",\n      \"email\": \"john.smith@braze.com\",\n      \"prioritization\": [\"unidentified\", \"most_recently_updated\"]\n    }\n  ]\n  \"merge_behavior\": \"merge\"\n}'\n\n ```\n\n## Response\n\n```\nContent-Type: application/json\nAuthorization: Bearer YOUR_REST_API_KEY\n{\n    \"aliases_processed\": 1,\n    \"message\": \"success\"\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "aliases_to_identify": [
                    {
                      "external_id": "external_identifier",
                      "user_alias": {
                        "alias_name": "example_alias",
                        "alias_label": "example_label"
                      }
                    }
                  ],
                  "email_addresses": [
                    {
                      "external_id": "external_identifier",
                      "email": "john.smith@example.com",
                      "prioritization": [
                        "unidentified",
                        "most_recently_updated"
                      ]
                    }
                  ],
                  "merge_behavior": "merge"
                },
                "properties": {
                  "aliases_to_identify": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "external_id": { "type": "string" },
                        "user_alias": {
                          "type": "object",
                          "properties": {
                            "alias_name": { "type": "string" },
                            "alias_label": { "type": "string" }
                          }
                        }
                      }
                    }
                  },
                  "email_addresses": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "external_id": { "type": "string" },
                        "email": { "type": "string", "format": "email" },
                        "prioritization": {
                          "type": "array",
                          "items": { "type": "string" }
                        }
                      }
                    }
                  },
                  "merge_behavior": { "type": "string" }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/users/track": {
      "post": {
        "tags": ["User Data"],
        "summary": "Track users",
        "description": "> Use this endpoint to record custom events, purchases, and update user profile attributes. \n  \n\n**Note:** Braze processes the data passed via API at face value and customers should only pass deltas (changing data) to minimize unnecessary data point consumption. To read more, refer to [Data points](https://www.braze.com/docs/user_guide/onboarding_with_braze/data_points#data-points).\n\n## Prerequisites\n\nTo use this endpoint, you'll need an [API key](https://braze.com/docs/api/api_key/) with the `users.track` permission.\n\nCustomers using the API for server-to-server calls may need to allowlist `rest.iad-01.braze.com` if they’re behind a firewall.\n\n## Rate limit\n\nStarting on October 28th, 2024, we apply a base speed limit of 3,000 requests per three seconds to this endpoint for all customers. Each `/users/track` request can contain up to 75 event objects, 75 attribute objects, and 75 purchase objects. Each object (event, attribute, and purchase arrays) can update one user each. In total, this means a maximum of 225 users can be updated in a single call. In addition, a single user profile can be updated by multiple objects.\n\nDifferent limits apply to customers who have purchased **Monthly Active Users - CY 24-25**. For details on these limits, see [Monthly Active Users - CY 24-25 limits](https://www.braze.com/docs/api/endpoints/user_data/post_user_track/#monthly-active-users-cy-24-25).\n\nSee our page on [API rate limits](https://www.braze.com/docs/api/api_limits/) for details, and reach out to your customer success manager if you need your limit increased.\n\n## Request parameters\n\n> **Important:** For each request component listed in the following table, one of `external_id`, `user_alias`, `braze_id`, `email`, or `phone` is required. \n  \n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `attributes` | Optional | Array of attributes objects | See [user attributes object](https://www.braze.com/docs/api/objects_filters/user_attributes_object/) |\n| `events` | Optional | Array of event objects | See [events object](https://www.braze.com/docs/api/objects_filters/event_object/) |\n| `purchases` | Optional | Array of purchase objects | See [purchases object](https://www.braze.com/docs/api/objects_filters/purchase_object/) |\n\n## Example requests\n\n### Update a user profile by email address\n\nYou can update a user profile by email address using the `/users/track` endpoint.\n\n```\ncurl --location --request POST 'https://rest.iad-01.braze.com/users/track' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR_REST_API_KEY' \\\n--data-raw '{\n    \"attributes\": [\n        {\n            \"email\": \"test@braze.com\",\n            \"string_attribute\": \"fruit\",\n            \"boolean_attribute_1\": true,\n            \"integer_attribute\": 26,\n            \"array_attribute\": [\n                \"banana\",\n                \"apple\"\n            ]\n        }\n    ],\n    \"events\": [\n        {\n            \"email\": \"test@braze.com\",\n            \"app_id\": \"your_app_identifier\",\n            \"name\": \"rented_movie\",\n            \"time\": \"2022-12-06T19:20:45+01:00\",\n            \"properties\": {\n                \"release\": {\n                    \"studio\": \"FilmStudio\",\n                    \"year\": \"2022\"\n                },\n                \"cast\": [\n                    {\n                        \"name\": \"Actor1\"\n                    },\n                    {\n                        \"name\": \"Actor2\"\n                    }\n                ]\n            }\n        },\n        {\n            \"user_alias\": {\n                \"alias_name\": \"device123\",\n                \"alias_label\": \"my_device_identifier\"\n            },\n            \"app_id\": \"your_app_identifier\",\n            \"name\": \"rented_movie\",\n            \"time\": \"2013-07-16T19:20:50+01:00\"\n        }\n    ],\n    \"purchases\": [\n        {\n            \"email\": \"test@braze.com\",\n            \"app_id\": \"your_app_identifier\",\n            \"product_id\": \"product_name\",\n            \"currency\": \"USD\",\n            \"price\": 12.12,\n            \"quantity\": 6,\n            \"time\": \"2017-05-12T18:47:12Z\",\n            \"properties\": {\n                \"color\": \"red\",\n                \"monogram\": \"ABC\",\n                \"checkout_duration\": 180,\n                \"size\": \"Large\",\n                \"brand\": \"Backpack Locker\"\n            }\n        }\n    ]\n}'\n\n ```\n\n### Update a user profile by phone number\n\nYou can update a user profile by phone number using the `/users/track` endpoint. This endpoint only works if you include a valid phone number.\n\n> **Important:**  \nIf you include a request with both `email` and `phone`, Braze will use the email as the identifier. \n  \n\n```\ncurl --location --request POST 'https://rest.iad-01.braze.com/users/track' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR_REST_API_KEY' \\\n--data-raw '{\n    \"attributes\": [\n        {\n            \"phone\": \"+15043277269\",\n            \"string_attribute\": \"fruit\",\n            \"boolean_attribute_1\": true,\n            \"integer_attribute\": 25,\n            \"array_attribute\": [\n                \"banana\",\n                \"apple\"\n            ]\n        }\n    ],\n}'\n\n ```\n\n### Set subscription groups\n\nThis example shows how to create a user and set their subscription group within the user attributes object.\n\nUpdating the subscription status with this endpoint will update the user specified by their `external_id` (such as User1) and update the subscription status of any users with the same email as that user (User1).\n\n```\ncurl --location --request POST 'https://rest.iad-01.braze.com/users/track' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR_REST_API_KEY' \\\n--data-raw '{\n  \"attributes\": [\n  {\n    \"external_id\": \"user_identifier\",\n    \"email\": \"example@email.com\",\n    \"email_subscribe\": \"subscribed\",\n    \"subscription_groups\": [{\n      \"subscription_group_id\": \"subscription_group_identifier_1\",\n      \"subscription_state\": \"unsubscribed\"\n      },\n      {\n        \"subscription_group_id\": \"subscription_group_identifier_2\",\n        \"subscription_state\": \"subscribed\"\n        },\n        {\n          \"subscription_group_id\": \"subscription_group_identifier_3\",\n          \"subscription_state\": \"subscribed\"\n        }\n      ]\n    }\n  ]\n}'\n\n ```\n\n### Example request to create an alias-only user\n\nYou can use the `/users/track` endpoint to create a new alias-only user by setting the `_update_existing_only` key with a value of `false` in the body of the request. If this value is omitted, the alias-only user profile will not be created. Using an alias-only user guarantees that one profile with that alias will exist. This is especially helpful when building a new integration as it prevents the creation of duplicate user profiles.\n\n```\ncurl --location --request POST 'https://rest.iad-01.braze.com/users/track' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR_REST_API_KEY' \\\n--data-raw '{\n{\n    \"attributes\": [\n        {\n            \"_update_existing_only\": false,\n            \"user_alias\": {\n                \"alias_name\": \"example_name\",\n                \"alias_label\": \"example_label\"\n            },\n            \"email\": \"email@example.com\"\n        }\n    ],\n}'\n\n ```\n\n## Responses\n\nWhen using any of the aforementioned API requests, you should receive one of the following three general responses: a [successful message](https://www.braze.com/docs/api/endpoints/user_data/post_user_track/#successful-message), a [successful message with non-fatal errors](https://www.braze.com/docs/api/endpoints/user_data/post_user_track/#successful-message-with-non-fatal-errors), or a [message with fatal errors](https://www.braze.com/docs/api/endpoints/user_data/post_user_track/#message-with-fatal-errors).\n\n### Successful message\n\nSuccessful messages will be met with the following response:\n\n``` json\n{\n  \"message\" : \"success\",\n  \"attributes_processed\" : (optional, integer), if attributes are included in the request, this will return an integer of the number of external_ids with attributes that were queued to be processed,\n  \"events_processed\" : (optional, integer), if events are included in the request, this will return an integer of the number of events that were queued to be processed,\n  \"purchases_processed\" : (optional, integer), if purchases are included in the request, this will return an integer of the number of purchases that were queued to be processed,\n}\n\n ```\n\n### Successful message with non-fatal errors\n\nIf your message is successful but has non-fatal errors, such as one invalid event object out of a long list of events, then you will receive the following response:\n\n``` json\n{\n  \"message\" : \"success\",\n  \"errors\" : [\n    {\n      <minor error message>\n    }\n  ]\n}\n\n ```\n\nFor success messages, any data not affected by an error in the `errors` array will still be processed.\n\n### Message with fatal errors\n\nIf your message has a fatal error, you will receive the following response:\n\n``` json\n{\n  \"message\" : <fatal error message>,\n  \"errors\" : [\n    {\n      <fatal error message>\n    }\n  ]\n}\n\n ```\n\n### Fatal error response codes\n\nFor status codes and associated error messages that will be returned if your request encounters a fatal error, reference [Fatal errors &amp; responses](https://www.braze.com/api/errors/#fatal-errors).\n\nIf you receive the error “provided external_id is blacklisted and disallowed”, your request may have included a “dummy user.” For more information, refer to [Spam blocking](https://www.braze.com/docs/user_guide/data_and_analytics/user_data_collection/user_archival/#spam-blocking).\n\n## Frequently asked questions\n\n> **Important:** \n  \n> Do not send legally required transactional emails to SMS gateways as there’s a strong likelihood that those emails will not be delivered.  \n  \nAlthough emails you send using a phone number and the provider’s gateway domain (known as an MM3) can result in the email being received as an SMS (text) message, some of our email providers do not support this behavior. For example, if you send an email to a T-Mobile phone number (such as “9999999999@tmomail.net”), your SMS message would be sent to whoever owns that phone number on the T-Mobile network.  \n  \nKeep in mind that even though these emails may not be delivered to the SMS gateway, they will still count towards your email billing. To avoid sending emails to unsupported gateways, review the [list of unsupported gateway domain names](https://www.fcc.gov/consumer-governmental-affairs/about-bureau/consumer-policy-division/can-spam/domain-name-downloads). \n  \n\n### What happens when multiple profiles with the same email address are found?\n\nIf the `external_id` exists, the most recently updated profile with an external ID will be prioritized for updates. If the `external_id` doesn’t exist, the most recently updated profile will be prioritized for updates.\n\n### What happens if no profile with the email address currently exists?\n\nA new profile will be created, and an email-only user will be created. An alias will not be created. The email field will be set to test@braze.com, as noted in the example request for updating a user profile by email address.\n\n### How do you use `/users/track` to import legacy user data?\n\nYou may submit data through the Braze API for a user who has not yet used your mobile app to generate a user profile. If the user subsequently uses the application all information following their identification using the SDK will be merged with the existing user profile you created using the API call. Any user behavior recorded anonymously by the SDK before identification will be lost upon merging with the existing API-generated user profile.\n\nThe segmentation tool will include these users regardless of whether they have engaged with the app. If you want to exclude users uploaded using the User API who have not yet engaged with the app, add the `Session Count > 0` filter.\n\n### How does `/users/track` handle duplicate events?\n\nEach event object in the events array represents a single occurrence of a custom event by a user at a designated time. This means each event ingested into Braze has its own event ID, so “duplicate” events are treated as separate, unique events.\n\n## Monthly Active Users CY 24-25\n\nFor customers who have purchased Monthly Active Users - CY 24-25, Braze manages different rate limits on its `/users/track` endpoint:\n\n- Hourly rate limits are set according to the expected data ingestion activity on your account, which may correspond to the number of monthly active users you have purchased, industry, seasonality, or other factors.\n    \n- In addition to the limit on requests per hour, Braze also imposes a burst limit on the number of requests allowed per second.\n    \n- Each request may batch up to 50 updates combined across attribute, event, or purchase objects.\n    \n\nCurrent limits based on expected ingestion can be found in the dashboard under **Settings** > **APIs and Identifiers** > **API limits**. We may modify rate limits to protect system stability or allow for increased data throughput on your account. Please contact Braze Support or your customer success manager for questions or concerns regarding hourly or per-second request limit and the needs of your business.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "attributes": [
                    {
                      "email": "test@braze.com",
                      "string_attribute": "fruit",
                      "boolean_attribute_1": true,
                      "integer_attribute": 25,
                      "array_attribute": ["banana", "apple"]
                    }
                  ],
                  "events": [
                    {
                      "email": "test@braze.com",
                      "app_id": "your_app_identifier",
                      "name": "rented_movie",
                      "time": "2022-12-06T19:20:45+01:00",
                      "properties": {
                        "release": { "studio": "FilmStudio", "year": "2022" },
                        "cast": [{ "name": "Actor1" }, { "name": "Actor2" }]
                      }
                    },
                    {
                      "user_alias": {
                        "alias_name": "device123",
                        "alias_label": "my_device_identifier"
                      },
                      "app_id": "your_app_identifier",
                      "name": "rented_movie",
                      "time": "2013-07-16T19:20:50+01:00"
                    }
                  ],
                  "purchases": [
                    {
                      "email": "test@braze.com",
                      "app_id": "your_app_identifier",
                      "product_id": "product_name",
                      "currency": "USD",
                      "price": 12.12,
                      "quantity": 6,
                      "time": "2017-05-12T18:47:12Z",
                      "properties": {
                        "color": "red",
                        "monogram": "ABC",
                        "checkout_duration": 180,
                        "size": "Large",
                        "brand": "Backpack Locker"
                      }
                    }
                  ]
                },
                "properties": {
                  "attributes": {
                    "type": "array",
                    "items": { "type": "object" }
                  },
                  "events": { "type": "array", "items": { "type": "object" } },
                  "purchases": {
                    "type": "array",
                    "items": { "type": "object" }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/users/delete": {
      "post": {
        "tags": ["User Data"],
        "summary": "Delete users",
        "description": "> Use this endpoint to delete any user profile by specifying a known user identifier. \n  \n\nUp to 50 `external_ids`, `user_aliases`, `braze_ids`, or `email_addresses` can be included in a single request. Only one of `external_ids`, `user_aliases`, `braze_ids`, or `email_addresses` can be included in a single request.\n\n> **Warning:** Deleting user profiles cannot be undone. It will permanently remove users which may cause discrepancies in your data. Learn more about what happens when you [delete a user profile using the API](https://github.com/braze-inc/braze-docs/blob/develop/_docs/_api/endpoints/user_data/%7B%7Bsite.baseurl%7D%7D/help/help_articles/api/delete_user) in our Help documentation. \n  \n\n## Prerequisites\n\nTo use this endpoint, you'll need an [API key](https://braze.com/docs/api/api_key/) with the `users.delete` permission.\n\n## Rate limit\n\nFor customers who onboarded with Braze on or after September 16, 2021, we apply a shared rate limit of 20,000 requests per minute to this endpoint. This rate limit is shared with the `/users/delete`, `/users/identify`, `/users/merge`, and `/users/alias/update` endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n### Request parameter\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `external_ids` | Optional | Array of strings | External identifiers for the users to delete. |\n| `user_aliases` | Optional | Array of user alias object | [User aliases](https://www.braze.com/docs/api/objects_filters/user_alias_object/) for the users to delete. |\n| `braze_ids` | Optional | Array of strings | Braze user identifiers for the users to delete. |\n| `email_addresses` | Optional | Array of strings | User emails for the users to delete. Refer to [Deleting users by email](https://www.braze.com/docs/api/endpoints/user_data/post_user_delete/#deleting-users-by-email) for more information. |\n\n## Deleting users by email\n\nIf an `email` is specified as an identifier, an additional `prioritization` value is required in the identifier. The `prioritization` is an ordered array and should specify which user to delete if multiple users are found. This means deleting users will not occur if more than one user matches a prioritization.\n\nThe allowed values for the array are: `identified`, `unidentified`, `most_recently_updated`. `most_recently_updated` refers to prioritizing the most recently updated user.\n\nOnly one of the following options may exist in the prioritization array at a time:\n\n- `identified` refers to prioritizing a user with an `external_id`\n    \n- `unidentified` refers to prioritizing a user without an `external_id`\n    \n\n## Response\n\n``` json\nContent-Type: application/json\nAuthorization: Bearer YOUR_REST_API_KEY\n{\n  \"deleted\" : (required, integer) number of user IDs queued for deletion\n}\n\n ```",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "external_ids": [
                    "external_identifier1",
                    "external_identifier2"
                  ],
                  "braze_ids": ["braze_identifier1", "braze_identifier2"],
                  "user_aliases": [
                    {
                      "alias_name": "user_alias1",
                      "alias_label": "alias_label1"
                    },
                    {
                      "alias_name": "user_alias2",
                      "alias_label": "alias_label2"
                    }
                  ]
                },
                "properties": {
                  "external_ids": {
                    "type": "array",
                    "items": { "type": "string" }
                  },
                  "braze_ids": {
                    "type": "array",
                    "items": { "type": "string" }
                  },
                  "user_aliases": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "alias_name": { "type": "string" },
                        "alias_label": { "type": "string" }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    },
    "/users/merge": {
      "post": {
        "tags": ["User Data"],
        "summary": "Merge users",
        "description": "> Use this endpoint to merge one user into another user. \n  \n\nUp to 50 merges may be specified per request. This endpoint is asynchronous.\n\n## Prerequisites\n\nTo use this endpoint, you'll need an [API key](https://braze.com/docs/api/api_key/) with the `users.merge` permission.\n\n## Rate limit\n\nFor customers who onboarded with Braze on or after September 16, 2021, we apply a shared rate limit of 20,000 requests per minute to this endpoint. This rate limit is shared with the `/users/delete`, `/users/alias/new`, `/users/identify`, and `/users/alias/update` endpoints, as documented in [API rate limits](https://www.braze.com/docs/api/api_limits/).\n\n## Request parameters\n\n| Parameter | Required | Data Type | Description |\n| --- | --- | --- | --- |\n| `merge_updates` | Required | Array | An object array. Each object should contain an `identifier_to_merge` object and an `identifier_to_keep` object, which should each reference a user either by external_id, `user_alias` or `email`. |\n\n### Merge behavior\n\nThe behavior documented below is true for all Braze features that _are not_ powered by Snowflake. User merges won’t be reflected for the **Messaging History** tab, Segment Extensions, Query Builder, and Currents.\n\n> **Important**: The endpoint does not guarantee the sequence of `merge_updates` objects being updated. \n  \n\nThis endpoint will merge any of the following fields if they're not found on the target user:\n\n- First name\n    \n- Last name\n    \n- Email\n    \n- Gender\n    \n- Date of birth\n    \n- Phone number\n    \n- Time zone\n    \n- Home city\n    \n- Country\n    \n- Language\n    \n- Session count (the sum of sessions from both profiles)\n    \n- Date of first session (Braze will pick the earlier date of the two dates)\n    \n- Date of last session (Braze will pick the later date of the two dates)\n    \n- Custom attributes (existing custom attributes on the target profile are retained and will include custom attributes that didn’t exist on the target profile)\n    \n- Custom event and purchase event data\n    \n- Custom event and purchase event properties for “X times in Y days” segmentation (where X<=50 and Y<=30)\n    \n- Segmentable custom events summary\n    \n    - Event count (the sum from both profiles)\n        \n    - Event first occurred (Braze will pick the earlier date of the two dates)\n        \n    - Event last occurred (Braze will pick the later date of the two dates)\n        \n- In-app purchase total in cents (the sum from both profiles)\n    \n- Total number of purchases (the sum from both profiles)\n    \n- Date of first purchase (Braze will pick the earlier date of the two dates)\n    \n- Date of last purchase (Braze will pick the later date of the two dates)\n    \n- App summaries\n    \n- Last_X_at fields (Braze will update the fields if the orphaned profile fields are more recent)\n    \n- Campaign interaction data (Braze will pick the most recent date fields)\n    \n- Workflow summaries (Braze will pick the most recent date fields)\n    \n- Message and message engagement history\n    \n- Session data will only be merged if the app exists on both user profiles\n    \n\n> **Note:** When merging users, using the `/users/merge` endpoint works the same way as using the [&lt;code&gt;changeUser()&lt;/code&gt;&amp;nbsp;method](https://js.appboycdn.com/web-sdk/latest/doc/modules/braze.html#changeuser). \n  \n\n#### Custom event date and purchase event date behavior\n\nNote that these merged fields will update “for X events in Y days” filters. For purchase events, these filters include “number of purchases in Y days” and “money spent in last Y days”.\n\n### Merging users by email or phone number\n\nIf an `email` or `phone` is specified as an identifier, an additional `prioritization` value is required in the identifier. The `prioritization` should be an array specifying which user to merge if there are multiple users found. `prioritization` is an ordered array, meaning if more than one user matches from a prioritization, then merging will not occur.\n\nThe allowed values for the array are: `identified`, `unidentified`, `most_recently_updated`. `most_recently_updated` refers to prioritizing the most recently updated user.\n\nOnly one of the following options may exist in the prioritization array at a time:\n\n- `identified` refers to prioritizing a user with an `external_id`\n    \n- `unidentified` refers to prioritizing a user without an `external_id`\n    \n\n## Response\n\nThere are two status code responses for this endpoint: `202` and `400`.\n\n### Example success response\n\nThe status code `202` could return the following response body.\n\n``` json\n{\n  \"message\": \"success\"\n}\n\n ```\n\n### Example error response\n\nThe status code `400` could return the following response body. Refer to Troubleshooting for more information about errors you may encounter.\n\n``` json\n{\n  \"message\": \"'merge_updates' must be an array of objects\"\n}\n\n ```\n\n## Troubleshooting\n\nThe following table lists possible error messages that may occur.\n\n| Error | Troubleshooting |\n| --- | --- |\n| `'merge_updates' must be an array of objects` | Check that `merge_updates` is an array of objects. |\n| `a single request may not contain more than 50 merge updates` | You can only specify up to 50 merge updates in a single request. |\n| `identifiers must be objects with an 'external_id' property that is a string, or 'user_alias' property that is an object` | Check the identifiers in your request. |\n| `'merge_updates' must only have 'identifier_to_merge' and 'identifier_to_keep'` | Check that `merge_updates` only contains the two objects `identifier_to_merge` and `identifier_to_keep`. |",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "merge_updates": [
                    {
                      "identifier_to_merge": { "external_id": "old-user1" },
                      "identifier_to_keep": { "external_id": "current-user1" }
                    },
                    {
                      "identifier_to_merge": {
                        "email": "user1@braze.com",
                        "prioritization": [
                          "unidentified",
                          "most_recently_updated"
                        ]
                      },
                      "identifier_to_keep": {
                        "email": "user2@braze.com",
                        "prioritization": [
                          "identified",
                          "most_recently_updated"
                        ]
                      }
                    },
                    {
                      "identifier_to_merge": {
                        "user_alias": {
                          "alias_name": "old-user2@example.com",
                          "alias_label": "email"
                        }
                      },
                      "identifier_to_keep": {
                        "user_alias": {
                          "alias_name": "current-user2@example.com",
                          "alias_label": "email"
                        }
                      }
                    }
                  ]
                },
                "properties": {
                  "merge_updates": {
                    "type": "array",
                    "items": { "type": "object" }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "schema": { "type": "string" },
            "example": "application/json"
          },
          {
            "name": "Authorization",
            "in": "header",
            "schema": { "type": "string" },
            "example": "Bearer {{api_key}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "201": {
            "description": "Successful response",
            "content": {
              "application/json": { "schema": { "type": "object" } }
            }
          },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "$ref": "#/components/responses/Forbidden" },
          "404": { "$ref": "#/components/responses/NotFound" },
          "429": { "$ref": "#/components/responses/TooManyRequests" },
          "500": { "$ref": "#/components/responses/InternalServerError" }
        }
      }
    }
  },
  "security": [{ "BearerAuth": [] }]
}
